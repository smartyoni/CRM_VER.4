(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var Of={exports:{}},Ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oy;function vE(){if(oy)return Ql;oy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var g in o)g!=="key"&&(h[g]=o[g])}else h=o;return o=h.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:h}}return Ql.Fragment=e,Ql.jsx=i,Ql.jsxs=i,Ql}var uy;function EE(){return uy||(uy=1,Of.exports=vE()),Of.exports}var p=EE(),jf={exports:{}},jt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cy;function TE(){if(cy)return jt;cy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),I=Symbol.iterator;function V(w){return w===null||typeof w!="object"?null:(w=I&&w[I]||w["@@iterator"],typeof w=="function"?w:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,ot={};function $(w,B,et){this.props=w,this.context=B,this.refs=ot,this.updater=et||q}$.prototype.isReactComponent={},$.prototype.setState=function(w,B){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,B,"setState")},$.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function tt(){}tt.prototype=$.prototype;function ht(w,B,et){this.props=w,this.context=B,this.refs=ot,this.updater=et||q}var ft=ht.prototype=new tt;ft.constructor=ht,G(ft,$.prototype),ft.isPureReactComponent=!0;var mt=Array.isArray,gt={H:null,A:null,T:null,S:null,V:null},z=Object.prototype.hasOwnProperty;function D(w,B,et,P,J,L){return et=L.ref,{$$typeof:r,type:w,key:B,ref:et!==void 0?et:null,props:L}}function C(w,B){return D(w.type,B,void 0,void 0,void 0,w.props)}function S(w){return typeof w=="object"&&w!==null&&w.$$typeof===r}function N(w){var B={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(et){return B[et]})}var A=/\/+/g;function j(w,B){return typeof w=="object"&&w!==null&&w.key!=null?N(""+w.key):B.toString(36)}function R(){}function xt(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(R,R):(w.status="pending",w.then(function(B){w.status==="pending"&&(w.status="fulfilled",w.value=B)},function(B){w.status==="pending"&&(w.status="rejected",w.reason=B)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function nt(w,B,et,P,J){var L=typeof w;(L==="undefined"||L==="boolean")&&(w=null);var ct=!1;if(w===null)ct=!0;else switch(L){case"bigint":case"string":case"number":ct=!0;break;case"object":switch(w.$$typeof){case r:case e:ct=!0;break;case b:return ct=w._init,nt(ct(w._payload),B,et,P,J)}}if(ct)return J=J(w),ct=P===""?"."+j(w,0):P,mt(J)?(et="",ct!=null&&(et=ct.replace(A,"$&/")+"/"),nt(J,B,et,"",function(dt){return dt})):J!=null&&(S(J)&&(J=C(J,et+(J.key==null||w&&w.key===J.key?"":(""+J.key).replace(A,"$&/")+"/")+ct)),B.push(J)),1;ct=0;var Et=P===""?".":P+":";if(mt(w))for(var _t=0;_t<w.length;_t++)P=w[_t],L=Et+j(P,_t),ct+=nt(P,B,et,L,J);else if(_t=V(w),typeof _t=="function")for(w=_t.call(w),_t=0;!(P=w.next()).done;)P=P.value,L=Et+j(P,_t++),ct+=nt(P,B,et,L,J);else if(L==="object"){if(typeof w.then=="function")return nt(xt(w),B,et,P,J);throw B=String(w),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return ct}function O(w,B,et){if(w==null)return w;var P=[],J=0;return nt(w,P,"","",function(L){return B.call(et,L,J++)}),P}function Q(w){if(w._status===-1){var B=w._result;B=B(),B.then(function(et){(w._status===0||w._status===-1)&&(w._status=1,w._result=et)},function(et){(w._status===0||w._status===-1)&&(w._status=2,w._result=et)}),w._status===-1&&(w._status=0,w._result=B)}if(w._status===1)return w._result.default;throw w._result}var W=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)};function lt(){}return jt.Children={map:O,forEach:function(w,B,et){O(w,function(){B.apply(this,arguments)},et)},count:function(w){var B=0;return O(w,function(){B++}),B},toArray:function(w){return O(w,function(B){return B})||[]},only:function(w){if(!S(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},jt.Component=$,jt.Fragment=i,jt.Profiler=o,jt.PureComponent=ht,jt.StrictMode=a,jt.Suspense=y,jt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=gt,jt.__COMPILER_RUNTIME={__proto__:null,c:function(w){return gt.H.useMemoCache(w)}},jt.cache=function(w){return function(){return w.apply(null,arguments)}},jt.cloneElement=function(w,B,et){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var P=G({},w.props),J=w.key,L=void 0;if(B!=null)for(ct in B.ref!==void 0&&(L=void 0),B.key!==void 0&&(J=""+B.key),B)!z.call(B,ct)||ct==="key"||ct==="__self"||ct==="__source"||ct==="ref"&&B.ref===void 0||(P[ct]=B[ct]);var ct=arguments.length-2;if(ct===1)P.children=et;else if(1<ct){for(var Et=Array(ct),_t=0;_t<ct;_t++)Et[_t]=arguments[_t+2];P.children=Et}return D(w.type,J,void 0,void 0,L,P)},jt.createContext=function(w){return w={$$typeof:d,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:h,_context:w},w},jt.createElement=function(w,B,et){var P,J={},L=null;if(B!=null)for(P in B.key!==void 0&&(L=""+B.key),B)z.call(B,P)&&P!=="key"&&P!=="__self"&&P!=="__source"&&(J[P]=B[P]);var ct=arguments.length-2;if(ct===1)J.children=et;else if(1<ct){for(var Et=Array(ct),_t=0;_t<ct;_t++)Et[_t]=arguments[_t+2];J.children=Et}if(w&&w.defaultProps)for(P in ct=w.defaultProps,ct)J[P]===void 0&&(J[P]=ct[P]);return D(w,L,void 0,void 0,null,J)},jt.createRef=function(){return{current:null}},jt.forwardRef=function(w){return{$$typeof:g,render:w}},jt.isValidElement=S,jt.lazy=function(w){return{$$typeof:b,_payload:{_status:-1,_result:w},_init:Q}},jt.memo=function(w,B){return{$$typeof:v,type:w,compare:B===void 0?null:B}},jt.startTransition=function(w){var B=gt.T,et={};gt.T=et;try{var P=w(),J=gt.S;J!==null&&J(et,P),typeof P=="object"&&P!==null&&typeof P.then=="function"&&P.then(lt,W)}catch(L){W(L)}finally{gt.T=B}},jt.unstable_useCacheRefresh=function(){return gt.H.useCacheRefresh()},jt.use=function(w){return gt.H.use(w)},jt.useActionState=function(w,B,et){return gt.H.useActionState(w,B,et)},jt.useCallback=function(w,B){return gt.H.useCallback(w,B)},jt.useContext=function(w){return gt.H.useContext(w)},jt.useDebugValue=function(){},jt.useDeferredValue=function(w,B){return gt.H.useDeferredValue(w,B)},jt.useEffect=function(w,B,et){var P=gt.H;if(typeof et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return P.useEffect(w,B)},jt.useId=function(){return gt.H.useId()},jt.useImperativeHandle=function(w,B,et){return gt.H.useImperativeHandle(w,B,et)},jt.useInsertionEffect=function(w,B){return gt.H.useInsertionEffect(w,B)},jt.useLayoutEffect=function(w,B){return gt.H.useLayoutEffect(w,B)},jt.useMemo=function(w,B){return gt.H.useMemo(w,B)},jt.useOptimistic=function(w,B){return gt.H.useOptimistic(w,B)},jt.useReducer=function(w,B,et){return gt.H.useReducer(w,B,et)},jt.useRef=function(w){return gt.H.useRef(w)},jt.useState=function(w){return gt.H.useState(w)},jt.useSyncExternalStore=function(w,B,et){return gt.H.useSyncExternalStore(w,B,et)},jt.useTransition=function(){return gt.H.useTransition()},jt.version="19.1.1",jt}var hy;function yd(){return hy||(hy=1,jf.exports=TE()),jf.exports}var vt=yd(),kf={exports:{}},Yl={},Pf={exports:{}},Uf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fy;function bE(){return fy||(fy=1,(function(r){function e(O,Q){var W=O.length;O.push(Q);t:for(;0<W;){var lt=W-1>>>1,w=O[lt];if(0<o(w,Q))O[lt]=Q,O[W]=w,W=lt;else break t}}function i(O){return O.length===0?null:O[0]}function a(O){if(O.length===0)return null;var Q=O[0],W=O.pop();if(W!==Q){O[0]=W;t:for(var lt=0,w=O.length,B=w>>>1;lt<B;){var et=2*(lt+1)-1,P=O[et],J=et+1,L=O[J];if(0>o(P,W))J<w&&0>o(L,P)?(O[lt]=L,O[J]=W,lt=J):(O[lt]=P,O[et]=W,lt=et);else if(J<w&&0>o(L,W))O[lt]=L,O[J]=W,lt=J;else break t}}return Q}function o(O,Q){var W=O.sortIndex-Q.sortIndex;return W!==0?W:O.id-Q.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var y=[],v=[],b=1,I=null,V=3,q=!1,G=!1,ot=!1,$=!1,tt=typeof setTimeout=="function"?setTimeout:null,ht=typeof clearTimeout=="function"?clearTimeout:null,ft=typeof setImmediate<"u"?setImmediate:null;function mt(O){for(var Q=i(v);Q!==null;){if(Q.callback===null)a(v);else if(Q.startTime<=O)a(v),Q.sortIndex=Q.expirationTime,e(y,Q);else break;Q=i(v)}}function gt(O){if(ot=!1,mt(O),!G)if(i(y)!==null)G=!0,z||(z=!0,j());else{var Q=i(v);Q!==null&&nt(gt,Q.startTime-O)}}var z=!1,D=-1,C=5,S=-1;function N(){return $?!0:!(r.unstable_now()-S<C)}function A(){if($=!1,z){var O=r.unstable_now();S=O;var Q=!0;try{t:{G=!1,ot&&(ot=!1,ht(D),D=-1),q=!0;var W=V;try{e:{for(mt(O),I=i(y);I!==null&&!(I.expirationTime>O&&N());){var lt=I.callback;if(typeof lt=="function"){I.callback=null,V=I.priorityLevel;var w=lt(I.expirationTime<=O);if(O=r.unstable_now(),typeof w=="function"){I.callback=w,mt(O),Q=!0;break e}I===i(y)&&a(y),mt(O)}else a(y);I=i(y)}if(I!==null)Q=!0;else{var B=i(v);B!==null&&nt(gt,B.startTime-O),Q=!1}}break t}finally{I=null,V=W,q=!1}Q=void 0}}finally{Q?j():z=!1}}}var j;if(typeof ft=="function")j=function(){ft(A)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,xt=R.port2;R.port1.onmessage=A,j=function(){xt.postMessage(null)}}else j=function(){tt(A,0)};function nt(O,Q){D=tt(function(){O(r.unstable_now())},Q)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(O){O.callback=null},r.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<O?Math.floor(1e3/O):5},r.unstable_getCurrentPriorityLevel=function(){return V},r.unstable_next=function(O){switch(V){case 1:case 2:case 3:var Q=3;break;default:Q=V}var W=V;V=Q;try{return O()}finally{V=W}},r.unstable_requestPaint=function(){$=!0},r.unstable_runWithPriority=function(O,Q){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var W=V;V=O;try{return Q()}finally{V=W}},r.unstable_scheduleCallback=function(O,Q,W){var lt=r.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?lt+W:lt):W=lt,O){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=W+w,O={id:b++,callback:Q,priorityLevel:O,startTime:W,expirationTime:w,sortIndex:-1},W>lt?(O.sortIndex=W,e(v,O),i(y)===null&&O===i(v)&&(ot?(ht(D),D=-1):ot=!0,nt(gt,W-lt))):(O.sortIndex=w,e(y,O),G||q||(G=!0,z||(z=!0,j()))),O},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(O){var Q=V;return function(){var W=V;V=Q;try{return O.apply(this,arguments)}finally{V=W}}}})(Uf)),Uf}var dy;function SE(){return dy||(dy=1,Pf.exports=bE()),Pf.exports}var Lf={exports:{}},Ze={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var py;function xE(){if(py)return Ze;py=1;var r=yd();function e(y){var v="https://react.dev/errors/"+y;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)v+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(y,v,b){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:I==null?null:""+I,children:y,containerInfo:v,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,v){if(y==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Ze.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ze.createPortal=function(y,v){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(y,v,null,b)},Ze.flushSync=function(y){var v=d.T,b=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=v,a.p=b,a.d.f()}},Ze.preconnect=function(y,v){typeof y=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(y,v))},Ze.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},Ze.preinit=function(y,v){if(typeof y=="string"&&v&&typeof v.as=="string"){var b=v.as,I=g(b,v.crossOrigin),V=typeof v.integrity=="string"?v.integrity:void 0,q=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;b==="style"?a.d.S(y,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:I,integrity:V,fetchPriority:q}):b==="script"&&a.d.X(y,{crossOrigin:I,integrity:V,fetchPriority:q,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Ze.preinitModule=function(y,v){if(typeof y=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var b=g(v.as,v.crossOrigin);a.d.M(y,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(y)},Ze.preload=function(y,v){if(typeof y=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var b=v.as,I=g(b,v.crossOrigin);a.d.L(y,b,{crossOrigin:I,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Ze.preloadModule=function(y,v){if(typeof y=="string")if(v){var b=g(v.as,v.crossOrigin);a.d.m(y,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(y)},Ze.requestFormReset=function(y){a.d.r(y)},Ze.unstable_batchedUpdates=function(y,v){return y(v)},Ze.useFormState=function(y,v,b){return d.H.useFormState(y,v,b)},Ze.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ze.version="19.1.1",Ze}var my;function AE(){if(my)return Lf.exports;my=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Lf.exports=xE(),Lf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gy;function RE(){if(gy)return Yl;gy=1;var r=SE(),e=yd(),i=AE();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(a(188))}function y(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,l=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){s=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=c,l=f;else{for(var E=!1,T=c.child;T;){if(T===s){E=!0,s=c,l=f;break}if(T===l){E=!0,l=c,s=f;break}T=T.sibling}if(!E){for(T=f.child;T;){if(T===s){E=!0,s=f,l=c;break}if(T===l){E=!0,l=f,s=c;break}T=T.sibling}if(!E)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var b=Object.assign,I=Symbol.for("react.element"),V=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),ot=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),tt=Symbol.for("react.provider"),ht=Symbol.for("react.consumer"),ft=Symbol.for("react.context"),mt=Symbol.for("react.forward_ref"),gt=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),A=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=A&&t[A]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function xt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case G:return"Fragment";case $:return"Profiler";case ot:return"StrictMode";case gt:return"Suspense";case z:return"SuspenseList";case S:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case q:return"Portal";case ft:return(t.displayName||"Context")+".Provider";case ht:return(t._context.displayName||"Context")+".Consumer";case mt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return n=t.displayName||null,n!==null?n:xt(t.type)||"Memo";case C:n=t._payload,t=t._init;try{return xt(t(n))}catch{}}return null}var nt=Array.isArray,O=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},lt=[],w=-1;function B(t){return{current:t}}function et(t){0>w||(t.current=lt[w],lt[w]=null,w--)}function P(t,n){w++,lt[w]=t.current,t.current=n}var J=B(null),L=B(null),ct=B(null),Et=B(null);function _t(t,n){switch(P(ct,n),P(L,t),P(J,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?kg(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=kg(n),t=Pg(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}et(J),P(J,t)}function dt(){et(J),et(L),et(ct)}function Ht(t){t.memoizedState!==null&&P(Et,t);var n=J.current,s=Pg(n,t.type);n!==s&&(P(L,t),P(J,s))}function Ut(t){L.current===t&&(et(J),et(L)),Et.current===t&&(et(Et),Bl._currentValue=W)}var Ft=Object.prototype.hasOwnProperty,Nt=r.unstable_scheduleCallback,Ot=r.unstable_cancelCallback,_i=r.unstable_shouldYield,zs=r.unstable_requestPaint,Ye=r.unstable_now,_o=r.unstable_getCurrentPriorityLevel,we=r.unstable_ImmediatePriority,Oe=r.unstable_UserBlockingPriority,vi=r.unstable_NormalPriority,jc=r.unstable_LowPriority,qa=r.unstable_IdlePriority,kc=r.log,Bs=r.unstable_setDisableYieldValue,Fi=null,Ke=null;function En(t){if(typeof kc=="function"&&Bs(t),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(Fi,t)}catch{}}var nn=Math.clz32?Math.clz32:Eo,Pc=Math.log,vo=Math.LN2;function Eo(t){return t>>>=0,t===0?32:31-(Pc(t)/vo|0)|0}var Kn=256,Gi=4194304;function kn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Tn(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?c=kn(l):(E&=T,E!==0?c=kn(E):s||(s=T&~t,s!==0&&(c=kn(s))))):(T=l&~f,T!==0?c=kn(T):E!==0?c=kn(E):s||(s=l&~t,s!==0&&(c=kn(s)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:c}function Qi(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function kr(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ha(){var t=Kn;return Kn<<=1,(Kn&4194048)===0&&(Kn=256),t}function Yi(){var t=Gi;return Gi<<=1,(Gi&62914560)===0&&(Gi=4194304),t}function Pr(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function ge(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function To(t,n,s,l,c,f){var E=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var T=t.entanglements,M=t.expirationTimes,Y=t.hiddenUpdates;for(s=E&~s;0<s;){var it=31-nn(s),rt=1<<it;T[it]=0,M[it]=-1;var K=Y[it];if(K!==null)for(Y[it]=null,it=0;it<K.length;it++){var X=K[it];X!==null&&(X.lane&=-536870913)}s&=~rt}l!==0&&Ki(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(E&~n))}function Ki(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-nn(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194090}function Xi(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-nn(s),c=1<<l;c&n|t[l]&n&&(t[l]|=n),s&=~c}}function Fa(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ga(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ei(){var t=Q.p;return t!==0?t:(t=window.event,t===void 0?32:ny(t.type))}function Uc(t,n){var s=Q.p;try{return Q.p=t,n()}finally{Q.p=s}}var Xn=Math.random().toString(36).slice(2),ye="__reactFiber$"+Xn,ze="__reactProps$"+Xn,Ti="__reactContainer$"+Xn,qs="__reactEvents$"+Xn,Hs="__reactListeners$"+Xn,Lc="__reactHandles$"+Xn,Pn="__reactResources$"+Xn,$i="__reactMarker$"+Xn;function Ur(t){delete t[ye],delete t[ze],delete t[qs],delete t[Hs],delete t[Lc]}function $n(t){var n=t[ye];if(n)return n;for(var s=t.parentNode;s;){if(n=s[Ti]||s[ye]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=Bg(t);t!==null;){if(s=t[ye])return s;t=Bg(t)}return n}t=s,s=t.parentNode}return null}function Zn(t){if(t=t[ye]||t[Ti]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Zi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Ji(t){var n=t[Pn];return n||(n=t[Pn]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function _e(t){t[$i]=!0}var bo=new Set,Fs={};function Jn(t,n){Wn(t,n),Wn(t+"Capture",n)}function Wn(t,n){for(Fs[t]=n,t=0;t<n.length;t++)bo.add(n[t])}var Gs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ti={},Lr={};function zc(t){return Ft.call(Lr,t)?!0:Ft.call(ti,t)?!1:Gs.test(t)?Lr[t]=!0:(ti[t]=!0,!1)}function Qs(t,n,s){if(zc(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function Ys(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function bn(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}var Ks,zr;function bi(t){if(Ks===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Ks=n&&n[1]||"",zr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ks+t+zr}var Br=!1;function qr(t,n){if(!t||Br)return"";Br=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var rt=function(){throw Error()};if(Object.defineProperty(rt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(rt,[])}catch(X){var K=X}Reflect.construct(t,[],rt)}else{try{rt.call()}catch(X){K=X}t.call(rt.prototype)}}else{try{throw Error()}catch(X){K=X}(rt=t())&&typeof rt.catch=="function"&&rt.catch(function(){})}}catch(X){if(X&&K&&typeof X.stack=="string")return[X.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),E=f[0],T=f[1];if(E&&T){var M=E.split(`
`),Y=T.split(`
`);for(c=l=0;l<M.length&&!M[l].includes("DetermineComponentFrameRoot");)l++;for(;c<Y.length&&!Y[c].includes("DetermineComponentFrameRoot");)c++;if(l===M.length||c===Y.length)for(l=M.length-1,c=Y.length-1;1<=l&&0<=c&&M[l]!==Y[c];)c--;for(;1<=l&&0<=c;l--,c--)if(M[l]!==Y[c]){if(l!==1||c!==1)do if(l--,c--,0>c||M[l]!==Y[c]){var it=`
`+M[l].replace(" at new "," at ");return t.displayName&&it.includes("<anonymous>")&&(it=it.replace("<anonymous>",t.displayName)),it}while(1<=l&&0<=c);break}}}finally{Br=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?bi(s):""}function Bc(t){switch(t.tag){case 26:case 27:case 5:return bi(t.type);case 16:return bi("Lazy");case 13:return bi("Suspense");case 19:return bi("SuspenseList");case 0:case 15:return qr(t.type,!1);case 11:return qr(t.type.render,!1);case 1:return qr(t.type,!0);case 31:return bi("Activity");default:return""}}function Un(t){try{var n="";do n+=Bc(t),t=t.return;while(t);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function he(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Wi(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Xs(t){var n=Wi(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,f=s.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(E){l=""+E,f.call(this,E)}}),Object.defineProperty(t,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function ts(t){t._valueTracker||(t._valueTracker=Xs(t))}function te(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=Wi(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function Si(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var $s=/[\n"\\]/g;function je(t){return t.replace($s,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Qa(t,n,s,l,c,f,E,T){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),n!=null?E==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+he(n)):t.value!==""+he(n)&&(t.value=""+he(n)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),n!=null?Ka(t,E,he(n)):s!=null?Ka(t,E,he(s)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+he(T):t.removeAttribute("name")}function Ya(t,n,s,l,c,f,E,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;s=s!=null?""+he(s):"",n=n!=null?""+he(n):s,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E)}function Ka(t,n,s){n==="number"&&Si(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function es(t,n,s,l){if(t=t.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<t.length;s++)c=n.hasOwnProperty("$"+t[s].value),t[s].selected!==c&&(t[s].selected=c),c&&l&&(t[s].defaultSelected=!0)}else{for(s=""+he(s),n=null,c=0;c<t.length;c++){if(t[c].value===s){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function So(t,n,s){if(n!=null&&(n=""+he(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+he(s):""}function xo(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(nt(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=he(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function Sn(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var xi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xa(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||xi.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function $a(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&s[c]!==l&&Xa(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Xa(t,f,n[f])}function Hr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ao=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ro=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ln(t){return Ro.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Za=null;function Ja(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ns=null,sn=null;function wo(t){var n=Zn(t);if(n&&(t=n.stateNode)){var s=t[ze]||null;t:switch(t=n.stateNode,n.type){case"input":if(Qa(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+je(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var c=l[ze]||null;if(!c)throw Error(a(90));Qa(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&te(l)}break t;case"textarea":So(t,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&es(t,!!s.multiple,n,!1)}}}var Zs=!1;function Js(t,n,s){if(Zs)return t(n,s);Zs=!0;try{var l=t(n);return l}finally{if(Zs=!1,(ns!==null||sn!==null)&&(gu(),ns&&(n=ns,t=sn,sn=ns=null,wo(n),t)))for(n=0;n<t.length;n++)wo(t[n])}}function is(t,n){var s=t.stateNode;if(s===null)return null;var l=s[ze]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ai=!1;if(rn)try{var ss={};Object.defineProperty(ss,"passive",{get:function(){Ai=!0}}),window.addEventListener("test",ss,ss),window.removeEventListener("test",ss,ss)}catch{Ai=!1}var xn=null,re=null,Fr=null;function Co(){if(Fr)return Fr;var t,n=re,s=n.length,l,c="value"in xn?xn.value:xn.textContent,f=c.length;for(t=0;t<s&&n[t]===c[t];t++);var E=s-t;for(l=1;l<=E&&n[s-l]===c[f-l];l++);return Fr=c.slice(t,1<l?1-l:void 0)}function Ws(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function tr(){return!0}function Wa(){return!1}function Ce(t){function n(s,l,c,f,E){this._reactName=s,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=E,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?tr:Wa,this.isPropagationStopped=Wa,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=tr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=tr)},persist:function(){},isPersistent:tr}),n}var Xe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},er=Ce(Xe),nr=b({},Xe,{view:0,detail:0}),ir=Ce(nr),Gr,sr,ei,rr=b({},nr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ei&&(ei&&t.type==="mousemove"?(Gr=t.screenX-ei.screenX,sr=t.screenY-ei.screenY):sr=Gr=0,ei=t),Gr)},movementY:function(t){return"movementY"in t?t.movementY:sr}}),ar=Ce(rr),qc=b({},rr,{dataTransfer:0}),Do=Ce(qc),lr=b({},nr,{relatedTarget:0}),Qr=Ce(lr),No=b({},Xe,{animationName:0,elapsedTime:0,pseudoElement:0}),tl=Ce(No),el=b({},Xe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Io=Ce(el),Yr=b({},Xe,{data:0}),nl=Ce(Yr),Mo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ri={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Oo(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Vo[t])?!!n[t]:!1}function Kr(){return Oo}var jo=b({},nr,{key:function(t){if(t.key){var n=Mo[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ws(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ri[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kr,charCode:function(t){return t.type==="keypress"?Ws(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ws(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Xr=Ce(jo),an=b({},rr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),il=Ce(an),ko=b({},nr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kr}),rs=Ce(ko),u=b({},Xe,{propertyName:0,elapsedTime:0,pseudoElement:0}),m=Ce(u),_=b({},rr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),x=Ce(_),F=b({},Xe,{newState:0,oldState:0}),Z=Ce(F),pt=[9,13,27,32],Mt=rn&&"CompositionEvent"in window,le=null;rn&&"documentMode"in document&&(le=document.documentMode);var Zt=rn&&"TextEvent"in window&&!le,ve=rn&&(!Mt||le&&8<le&&11>=le),fn=" ",ni=!1;function zn(t,n){switch(t){case"keyup":return pt.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qn=!1;function sl(t,n){switch(t){case"compositionend":return Bn(n);case"keypress":return n.which!==32?null:(ni=!0,fn);case"textInput":return t=n.data,t===fn&&ni?null:t;default:return null}}function Q0(t,n){if(qn)return t==="compositionend"||!Mt&&zn(t,n)?(t=Co(),Fr=re=xn=null,qn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ve&&n.locale!=="ko"?null:n.data;default:return null}}var Y0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $d(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Y0[t.type]:n==="textarea"}function Zd(t,n,s,l){ns?sn?sn.push(l):sn=[l]:ns=l,n=bu(n,"onChange"),0<n.length&&(s=new er("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var rl=null,al=null;function K0(t){Ig(t,0)}function Po(t){var n=Zi(t);if(te(n))return t}function Jd(t,n){if(t==="change")return n}var Wd=!1;if(rn){var Hc;if(rn){var Fc="oninput"in document;if(!Fc){var tp=document.createElement("div");tp.setAttribute("oninput","return;"),Fc=typeof tp.oninput=="function"}Hc=Fc}else Hc=!1;Wd=Hc&&(!document.documentMode||9<document.documentMode)}function ep(){rl&&(rl.detachEvent("onpropertychange",np),al=rl=null)}function np(t){if(t.propertyName==="value"&&Po(al)){var n=[];Zd(n,al,t,Ja(t)),Js(K0,n)}}function X0(t,n,s){t==="focusin"?(ep(),rl=n,al=s,rl.attachEvent("onpropertychange",np)):t==="focusout"&&ep()}function $0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Po(al)}function Z0(t,n){if(t==="click")return Po(n)}function J0(t,n){if(t==="input"||t==="change")return Po(n)}function W0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var dn=typeof Object.is=="function"?Object.is:W0;function ll(t,n){if(dn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var c=s[l];if(!Ft.call(n,c)||!dn(t[c],n[c]))return!1}return!0}function ip(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sp(t,n){var s=ip(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=ip(s)}}function rp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?rp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function ap(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Si(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=Si(t.document)}return n}function Gc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var t1=rn&&"documentMode"in document&&11>=document.documentMode,$r=null,Qc=null,ol=null,Yc=!1;function lp(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Yc||$r==null||$r!==Si(l)||(l=$r,"selectionStart"in l&&Gc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ol&&ll(ol,l)||(ol=l,l=bu(Qc,"onSelect"),0<l.length&&(n=new er("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=$r)))}function or(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var Zr={animationend:or("Animation","AnimationEnd"),animationiteration:or("Animation","AnimationIteration"),animationstart:or("Animation","AnimationStart"),transitionrun:or("Transition","TransitionRun"),transitionstart:or("Transition","TransitionStart"),transitioncancel:or("Transition","TransitionCancel"),transitionend:or("Transition","TransitionEnd")},Kc={},op={};rn&&(op=document.createElement("div").style,"AnimationEvent"in window||(delete Zr.animationend.animation,delete Zr.animationiteration.animation,delete Zr.animationstart.animation),"TransitionEvent"in window||delete Zr.transitionend.transition);function ur(t){if(Kc[t])return Kc[t];if(!Zr[t])return t;var n=Zr[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in op)return Kc[t]=n[s];return t}var up=ur("animationend"),cp=ur("animationiteration"),hp=ur("animationstart"),e1=ur("transitionrun"),n1=ur("transitionstart"),i1=ur("transitioncancel"),fp=ur("transitionend"),dp=new Map,Xc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xc.push("scrollEnd");function Hn(t,n){dp.set(t,n),Jn(n,[t])}var pp=new WeakMap;function An(t,n){if(typeof t=="object"&&t!==null){var s=pp.get(t);return s!==void 0?s:(n={value:t,source:n,stack:Un(n)},pp.set(t,n),n)}return{value:t,source:n,stack:Un(n)}}var Rn=[],Jr=0,$c=0;function Uo(){for(var t=Jr,n=$c=Jr=0;n<t;){var s=Rn[n];Rn[n++]=null;var l=Rn[n];Rn[n++]=null;var c=Rn[n];Rn[n++]=null;var f=Rn[n];if(Rn[n++]=null,l!==null&&c!==null){var E=l.pending;E===null?c.next=c:(c.next=E.next,E.next=c),l.pending=c}f!==0&&mp(s,c,f)}}function Lo(t,n,s,l){Rn[Jr++]=t,Rn[Jr++]=n,Rn[Jr++]=s,Rn[Jr++]=l,$c|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Zc(t,n,s,l){return Lo(t,n,s,l),zo(t)}function Wr(t,n){return Lo(t,null,null,n),zo(t)}function mp(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var c=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-nn(s),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=s|536870912),f):null}function zo(t){if(50<Vl)throw Vl=0,sf=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ta={};function s1(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(t,n,s,l){return new s1(t,n,s,l)}function Jc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function wi(t,n){var s=t.alternate;return s===null?(s=pn(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function gp(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Bo(t,n,s,l,c,f){var E=0;if(l=t,typeof t=="function")Jc(t)&&(E=1);else if(typeof t=="string")E=aE(t,s,J.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case S:return t=pn(31,s,n,c),t.elementType=S,t.lanes=f,t;case G:return cr(s.children,c,f,n);case ot:E=8,c|=24;break;case $:return t=pn(12,s,n,c|2),t.elementType=$,t.lanes=f,t;case gt:return t=pn(13,s,n,c),t.elementType=gt,t.lanes=f,t;case z:return t=pn(19,s,n,c),t.elementType=z,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case tt:case ft:E=10;break t;case ht:E=9;break t;case mt:E=11;break t;case D:E=14;break t;case C:E=16,l=null;break t}E=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=pn(E,s,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function cr(t,n,s,l){return t=pn(7,t,l,n),t.lanes=s,t}function Wc(t,n,s){return t=pn(6,t,null,n),t.lanes=s,t}function th(t,n,s){return n=pn(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var ea=[],na=0,qo=null,Ho=0,wn=[],Cn=0,hr=null,Ci=1,Di="";function fr(t,n){ea[na++]=Ho,ea[na++]=qo,qo=t,Ho=n}function yp(t,n,s){wn[Cn++]=Ci,wn[Cn++]=Di,wn[Cn++]=hr,hr=t;var l=Ci;t=Di;var c=32-nn(l)-1;l&=~(1<<c),s+=1;var f=32-nn(n)+c;if(30<f){var E=c-c%5;f=(l&(1<<E)-1).toString(32),l>>=E,c-=E,Ci=1<<32-nn(n)+c|s<<c|l,Di=f+t}else Ci=1<<f|s<<c|l,Di=t}function eh(t){t.return!==null&&(fr(t,1),yp(t,1,0))}function nh(t){for(;t===qo;)qo=ea[--na],ea[na]=null,Ho=ea[--na],ea[na]=null;for(;t===hr;)hr=wn[--Cn],wn[Cn]=null,Di=wn[--Cn],wn[Cn]=null,Ci=wn[--Cn],wn[Cn]=null}var ln=null,pe=null,Xt=!1,dr=null,ii=!1,ih=Error(a(519));function pr(t){var n=Error(a(418,""));throw hl(An(n,t)),ih}function _p(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[ye]=t,n[ze]=l,s){case"dialog":zt("cancel",n),zt("close",n);break;case"iframe":case"object":case"embed":zt("load",n);break;case"video":case"audio":for(s=0;s<jl.length;s++)zt(jl[s],n);break;case"source":zt("error",n);break;case"img":case"image":case"link":zt("error",n),zt("load",n);break;case"details":zt("toggle",n);break;case"input":zt("invalid",n),Ya(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ts(n);break;case"select":zt("invalid",n);break;case"textarea":zt("invalid",n),xo(n,l.value,l.defaultValue,l.children),ts(n)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||jg(n.textContent,s)?(l.popover!=null&&(zt("beforetoggle",n),zt("toggle",n)),l.onScroll!=null&&zt("scroll",n),l.onScrollEnd!=null&&zt("scrollend",n),l.onClick!=null&&(n.onclick=Su),n=!0):n=!1,n||pr(t)}function vp(t){for(ln=t.return;ln;)switch(ln.tag){case 5:case 13:ii=!1;return;case 27:case 3:ii=!0;return;default:ln=ln.return}}function ul(t){if(t!==ln)return!1;if(!Xt)return vp(t),Xt=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Ef(t.type,t.memoizedProps)),s=!s),s&&pe&&pr(t),vp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(n===0){pe=Gn(t.nextSibling);break t}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++;t=t.nextSibling}pe=null}}else n===27?(n=pe,Ts(t.type)?(t=xf,xf=null,pe=t):pe=n):pe=ln?Gn(t.stateNode.nextSibling):null;return!0}function cl(){pe=ln=null,Xt=!1}function Ep(){var t=dr;return t!==null&&(cn===null?cn=t:cn.push.apply(cn,t),dr=null),t}function hl(t){dr===null?dr=[t]:dr.push(t)}var sh=B(null),mr=null,Ni=null;function as(t,n,s){P(sh,n._currentValue),n._currentValue=s}function Ii(t){t._currentValue=sh.current,et(sh)}function rh(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function ah(t,n,s,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var E=c.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=c;for(var M=0;M<n.length;M++)if(T.context===n[M]){f.lanes|=s,T=f.alternate,T!==null&&(T.lanes|=s),rh(f.return,s,t),l||(E=null);break t}f=T.next}}else if(c.tag===18){if(E=c.return,E===null)throw Error(a(341));E.lanes|=s,f=E.alternate,f!==null&&(f.lanes|=s),rh(E,s,t),E=null}else E=c.child;if(E!==null)E.return=c;else for(E=c;E!==null;){if(E===t){E=null;break}if(c=E.sibling,c!==null){c.return=E.return,E=c;break}E=E.return}c=E}}function fl(t,n,s,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var E=c.alternate;if(E===null)throw Error(a(387));if(E=E.memoizedProps,E!==null){var T=c.type;dn(c.pendingProps.value,E.value)||(t!==null?t.push(T):t=[T])}}else if(c===Et.current){if(E=c.alternate,E===null)throw Error(a(387));E.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Bl):t=[Bl])}c=c.return}t!==null&&ah(n,t,s,l),n.flags|=262144}function Fo(t){for(t=t.firstContext;t!==null;){if(!dn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function gr(t){mr=t,Ni=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function $e(t){return Tp(mr,t)}function Go(t,n){return mr===null&&gr(t),Tp(t,n)}function Tp(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Ni===null){if(t===null)throw Error(a(308));Ni=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ni=Ni.next=n;return s}var r1=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},a1=r.unstable_scheduleCallback,l1=r.unstable_NormalPriority,De={$$typeof:ft,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lh(){return{controller:new r1,data:new Map,refCount:0}}function dl(t){t.refCount--,t.refCount===0&&a1(l1,function(){t.controller.abort()})}var pl=null,oh=0,ia=0,sa=null;function o1(t,n){if(pl===null){var s=pl=[];oh=0,ia=hf(),sa={status:"pending",value:void 0,then:function(l){s.push(l)}}}return oh++,n.then(bp,bp),n}function bp(){if(--oh===0&&pl!==null){sa!==null&&(sa.status="fulfilled");var t=pl;pl=null,ia=0,sa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function u1(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),l}var Sp=O.S;O.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&o1(t,n),Sp!==null&&Sp(t,n)};var yr=B(null);function uh(){var t=yr.current;return t!==null?t:ae.pooledCache}function Qo(t,n){n===null?P(yr,yr.current):P(yr,n.pool)}function xp(){var t=uh();return t===null?null:{parent:De._currentValue,pool:t}}var ml=Error(a(460)),Ap=Error(a(474)),Yo=Error(a(542)),ch={then:function(){}};function Rp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ko(){}function wp(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(Ko,Ko),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Dp(t),t;default:if(typeof n.status=="string")n.then(Ko,Ko);else{if(t=ae,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Dp(t),t}throw gl=n,ml}}var gl=null;function Cp(){if(gl===null)throw Error(a(459));var t=gl;return gl=null,t}function Dp(t){if(t===ml||t===Yo)throw Error(a(483))}var ls=!1;function hh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function os(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function us(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Jt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=zo(t),mp(t,null,s),n}return Lo(t,l,n,s),zo(t)}function yl(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Xi(t,s)}}function dh(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var E={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=E:f=f.next=E,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var ph=!1;function _l(){if(ph){var t=sa;if(t!==null)throw t}}function vl(t,n,s,l){ph=!1;var c=t.updateQueue;ls=!1;var f=c.firstBaseUpdate,E=c.lastBaseUpdate,T=c.shared.pending;if(T!==null){c.shared.pending=null;var M=T,Y=M.next;M.next=null,E===null?f=Y:E.next=Y,E=M;var it=t.alternate;it!==null&&(it=it.updateQueue,T=it.lastBaseUpdate,T!==E&&(T===null?it.firstBaseUpdate=Y:T.next=Y,it.lastBaseUpdate=M))}if(f!==null){var rt=c.baseState;E=0,it=Y=M=null,T=f;do{var K=T.lane&-536870913,X=K!==T.lane;if(X?(Gt&K)===K:(l&K)===K){K!==0&&K===ia&&(ph=!0),it!==null&&(it=it.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var Dt=t,Rt=T;K=n;var ie=s;switch(Rt.tag){case 1:if(Dt=Rt.payload,typeof Dt=="function"){rt=Dt.call(ie,rt,K);break t}rt=Dt;break t;case 3:Dt.flags=Dt.flags&-65537|128;case 0:if(Dt=Rt.payload,K=typeof Dt=="function"?Dt.call(ie,rt,K):Dt,K==null)break t;rt=b({},rt,K);break t;case 2:ls=!0}}K=T.callback,K!==null&&(t.flags|=64,X&&(t.flags|=8192),X=c.callbacks,X===null?c.callbacks=[K]:X.push(K))}else X={lane:K,tag:T.tag,payload:T.payload,callback:T.callback,next:null},it===null?(Y=it=X,M=rt):it=it.next=X,E|=K;if(T=T.next,T===null){if(T=c.shared.pending,T===null)break;X=T,T=X.next,X.next=null,c.lastBaseUpdate=X,c.shared.pending=null}}while(!0);it===null&&(M=rt),c.baseState=M,c.firstBaseUpdate=Y,c.lastBaseUpdate=it,f===null&&(c.shared.lanes=0),ys|=E,t.lanes=E,t.memoizedState=rt}}function Np(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Ip(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Np(s[t],n)}var ra=B(null),Xo=B(0);function Mp(t,n){t=Ui,P(Xo,t),P(ra,n),Ui=t|n.baseLanes}function mh(){P(Xo,Ui),P(ra,ra.current)}function gh(){Ui=Xo.current,et(ra),et(Xo)}var cs=0,kt=null,ee=null,Se=null,$o=!1,aa=!1,_r=!1,Zo=0,El=0,la=null,c1=0;function Ee(){throw Error(a(321))}function yh(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!dn(t[s],n[s]))return!1;return!0}function _h(t,n,s,l,c,f){return cs=f,kt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,O.H=t===null||t.memoizedState===null?mm:gm,_r=!1,f=s(l,c),_r=!1,aa&&(f=Op(n,s,l,c)),Vp(t),f}function Vp(t){O.H=iu;var n=ee!==null&&ee.next!==null;if(cs=0,Se=ee=kt=null,$o=!1,El=0,la=null,n)throw Error(a(300));t===null||ke||(t=t.dependencies,t!==null&&Fo(t)&&(ke=!0))}function Op(t,n,s,l){kt=t;var c=0;do{if(aa&&(la=null),El=0,aa=!1,25<=c)throw Error(a(301));if(c+=1,Se=ee=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}O.H=y1,f=n(s,l)}while(aa);return f}function h1(){var t=O.H,n=t.useState()[0];return n=typeof n.then=="function"?Tl(n):n,t=t.useState()[0],(ee!==null?ee.memoizedState:null)!==t&&(kt.flags|=1024),n}function vh(){var t=Zo!==0;return Zo=0,t}function Eh(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function Th(t){if($o){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}$o=!1}cs=0,Se=ee=kt=null,aa=!1,El=Zo=0,la=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?kt.memoizedState=Se=t:Se=Se.next=t,Se}function xe(){if(ee===null){var t=kt.alternate;t=t!==null?t.memoizedState:null}else t=ee.next;var n=Se===null?kt.memoizedState:Se.next;if(n!==null)Se=n,ee=t;else{if(t===null)throw kt.alternate===null?Error(a(467)):Error(a(310));ee=t,t={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},Se===null?kt.memoizedState=Se=t:Se=Se.next=t}return Se}function bh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Tl(t){var n=El;return El+=1,la===null&&(la=[]),t=wp(la,t,n),n=kt,(Se===null?n.memoizedState:Se.next)===null&&(n=n.alternate,O.H=n===null||n.memoizedState===null?mm:gm),t}function Jo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Tl(t);if(t.$$typeof===ft)return $e(t)}throw Error(a(438,String(t)))}function Sh(t){var n=null,s=kt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=kt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=bh(),kt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=N;return n.index++,s}function Mi(t,n){return typeof n=="function"?n(t):n}function Wo(t){var n=xe();return xh(n,ee,t)}function xh(t,n,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var E=c.next;c.next=f.next,f.next=E}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var T=E=null,M=null,Y=n,it=!1;do{var rt=Y.lane&-536870913;if(rt!==Y.lane?(Gt&rt)===rt:(cs&rt)===rt){var K=Y.revertLane;if(K===0)M!==null&&(M=M.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),rt===ia&&(it=!0);else if((cs&K)===K){Y=Y.next,K===ia&&(it=!0);continue}else rt={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},M===null?(T=M=rt,E=f):M=M.next=rt,kt.lanes|=K,ys|=K;rt=Y.action,_r&&s(f,rt),f=Y.hasEagerState?Y.eagerState:s(f,rt)}else K={lane:rt,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},M===null?(T=M=K,E=f):M=M.next=K,kt.lanes|=rt,ys|=rt;Y=Y.next}while(Y!==null&&Y!==n);if(M===null?E=f:M.next=T,!dn(f,t.memoizedState)&&(ke=!0,it&&(s=sa,s!==null)))throw s;t.memoizedState=f,t.baseState=E,t.baseQueue=M,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Ah(t){var n=xe(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var E=c=c.next;do f=t(f,E.action),E=E.next;while(E!==c);dn(f,n.memoizedState)||(ke=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function jp(t,n,s){var l=kt,c=xe(),f=Xt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var E=!dn((ee||c).memoizedState,s);E&&(c.memoizedState=s,ke=!0),c=c.queue;var T=Up.bind(null,l,c,t);if(bl(2048,8,T,[t]),c.getSnapshot!==n||E||Se!==null&&Se.memoizedState.tag&1){if(l.flags|=2048,oa(9,tu(),Pp.bind(null,l,c,s,n),null),ae===null)throw Error(a(349));f||(cs&124)!==0||kp(l,n,s)}return s}function kp(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=kt.updateQueue,n===null?(n=bh(),kt.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Pp(t,n,s,l){n.value=s,n.getSnapshot=l,Lp(n)&&zp(t)}function Up(t,n,s){return s(function(){Lp(n)&&zp(t)})}function Lp(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!dn(t,s)}catch{return!0}}function zp(t){var n=Wr(t,2);n!==null&&vn(n,t,2)}function Rh(t){var n=on();if(typeof t=="function"){var s=t;if(t=s(),_r){En(!0);try{s()}finally{En(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:t},n}function Bp(t,n,s,l){return t.baseState=s,xh(t,ee,typeof l=="function"?l:Mi)}function f1(t,n,s,l,c){if(nu(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){f.listeners.push(E)}};O.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,qp(n,f)):(f.next=s.next,n.pending=s.next=f)}}function qp(t,n){var s=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=O.T,E={};O.T=E;try{var T=s(c,l),M=O.S;M!==null&&M(E,T),Hp(t,n,T)}catch(Y){wh(t,n,Y)}finally{O.T=f}}else try{f=s(c,l),Hp(t,n,f)}catch(Y){wh(t,n,Y)}}function Hp(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Fp(t,n,l)},function(l){return wh(t,n,l)}):Fp(t,n,s)}function Fp(t,n,s){n.status="fulfilled",n.value=s,Gp(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,qp(t,s)))}function wh(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,Gp(n),n=n.next;while(n!==l)}t.action=null}function Gp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Qp(t,n){return n}function Yp(t,n){if(Xt){var s=ae.formState;if(s!==null){t:{var l=kt;if(Xt){if(pe){e:{for(var c=pe,f=ii;c.nodeType!==8;){if(!f){c=null;break e}if(c=Gn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){pe=Gn(c.nextSibling),l=c.data==="F!";break t}}pr(l)}l=!1}l&&(n=s[0])}}return s=on(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qp,lastRenderedState:n},s.queue=l,s=fm.bind(null,kt,l),l.dispatch=s,l=Rh(!1),f=Mh.bind(null,kt,!1,l.queue),l=on(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,s=f1.bind(null,kt,c,f,s),c.dispatch=s,l.memoizedState=t,[n,s,!1]}function Kp(t){var n=xe();return Xp(n,ee,t)}function Xp(t,n,s){if(n=xh(t,n,Qp)[0],t=Wo(Mi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Tl(n)}catch(E){throw E===ml?Yo:E}else l=n;n=xe();var c=n.queue,f=c.dispatch;return s!==n.memoizedState&&(kt.flags|=2048,oa(9,tu(),d1.bind(null,c,s),null)),[l,f,t]}function d1(t,n){t.action=n}function $p(t){var n=xe(),s=ee;if(s!==null)return Xp(n,s,t);xe(),n=n.memoizedState,s=xe();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function oa(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=kt.updateQueue,n===null&&(n=bh(),kt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function tu(){return{destroy:void 0,resource:void 0}}function Zp(){return xe().memoizedState}function eu(t,n,s,l){var c=on();l=l===void 0?null:l,kt.flags|=t,c.memoizedState=oa(1|n,tu(),s,l)}function bl(t,n,s,l){var c=xe();l=l===void 0?null:l;var f=c.memoizedState.inst;ee!==null&&l!==null&&yh(l,ee.memoizedState.deps)?c.memoizedState=oa(n,f,s,l):(kt.flags|=t,c.memoizedState=oa(1|n,f,s,l))}function Jp(t,n){eu(8390656,8,t,n)}function Wp(t,n){bl(2048,8,t,n)}function tm(t,n){return bl(4,2,t,n)}function em(t,n){return bl(4,4,t,n)}function nm(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function im(t,n,s){s=s!=null?s.concat([t]):null,bl(4,4,nm.bind(null,n,t),s)}function Ch(){}function sm(t,n){var s=xe();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&yh(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function rm(t,n){var s=xe();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&yh(n,l[1]))return l[0];if(l=t(),_r){En(!0);try{t()}finally{En(!1)}}return s.memoizedState=[l,n],l}function Dh(t,n,s){return s===void 0||(cs&1073741824)!==0?t.memoizedState=n:(t.memoizedState=s,t=og(),kt.lanes|=t,ys|=t,s)}function am(t,n,s,l){return dn(s,n)?s:ra.current!==null?(t=Dh(t,s,l),dn(t,n)||(ke=!0),t):(cs&42)===0?(ke=!0,t.memoizedState=s):(t=og(),kt.lanes|=t,ys|=t,n)}function lm(t,n,s,l,c){var f=Q.p;Q.p=f!==0&&8>f?f:8;var E=O.T,T={};O.T=T,Mh(t,!1,n,s);try{var M=c(),Y=O.S;if(Y!==null&&Y(T,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var it=u1(M,l);Sl(t,n,it,_n(t))}else Sl(t,n,l,_n(t))}catch(rt){Sl(t,n,{then:function(){},status:"rejected",reason:rt},_n())}finally{Q.p=f,O.T=E}}function p1(){}function Nh(t,n,s,l){if(t.tag!==5)throw Error(a(476));var c=om(t).queue;lm(t,c,n,W,s===null?p1:function(){return um(t),s(l)})}function om(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:W},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function um(t){var n=om(t).next.queue;Sl(t,n,{},_n())}function Ih(){return $e(Bl)}function cm(){return xe().memoizedState}function hm(){return xe().memoizedState}function m1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=_n();t=os(s);var l=us(n,t,s);l!==null&&(vn(l,n,s),yl(l,n,s)),n={cache:lh()},t.payload=n;return}n=n.return}}function g1(t,n,s){var l=_n();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},nu(t)?dm(n,s):(s=Zc(t,n,s,l),s!==null&&(vn(s,t,l),pm(s,n,l)))}function fm(t,n,s){var l=_n();Sl(t,n,s,l)}function Sl(t,n,s,l){var c={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(nu(t))dm(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var E=n.lastRenderedState,T=f(E,s);if(c.hasEagerState=!0,c.eagerState=T,dn(T,E))return Lo(t,n,c,0),ae===null&&Uo(),!1}catch{}finally{}if(s=Zc(t,n,c,l),s!==null)return vn(s,t,l),pm(s,n,l),!0}return!1}function Mh(t,n,s,l){if(l={lane:2,revertLane:hf(),action:l,hasEagerState:!1,eagerState:null,next:null},nu(t)){if(n)throw Error(a(479))}else n=Zc(t,s,l,2),n!==null&&vn(n,t,2)}function nu(t){var n=t.alternate;return t===kt||n!==null&&n===kt}function dm(t,n){aa=$o=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function pm(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,Xi(t,s)}}var iu={readContext:$e,use:Jo,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useLayoutEffect:Ee,useInsertionEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useSyncExternalStore:Ee,useId:Ee,useHostTransitionStatus:Ee,useFormState:Ee,useActionState:Ee,useOptimistic:Ee,useMemoCache:Ee,useCacheRefresh:Ee},mm={readContext:$e,use:Jo,useCallback:function(t,n){return on().memoizedState=[t,n===void 0?null:n],t},useContext:$e,useEffect:Jp,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,eu(4194308,4,nm.bind(null,n,t),s)},useLayoutEffect:function(t,n){return eu(4194308,4,t,n)},useInsertionEffect:function(t,n){eu(4,2,t,n)},useMemo:function(t,n){var s=on();n=n===void 0?null:n;var l=t();if(_r){En(!0);try{t()}finally{En(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=on();if(s!==void 0){var c=s(n);if(_r){En(!0);try{s(n)}finally{En(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=g1.bind(null,kt,t),[l.memoizedState,t]},useRef:function(t){var n=on();return t={current:t},n.memoizedState=t},useState:function(t){t=Rh(t);var n=t.queue,s=fm.bind(null,kt,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:Ch,useDeferredValue:function(t,n){var s=on();return Dh(s,t,n)},useTransition:function(){var t=Rh(!1);return t=lm.bind(null,kt,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=kt,c=on();if(Xt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),ae===null)throw Error(a(349));(Gt&124)!==0||kp(l,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,Jp(Up.bind(null,l,f,t),[t]),l.flags|=2048,oa(9,tu(),Pp.bind(null,l,f,s,n),null),s},useId:function(){var t=on(),n=ae.identifierPrefix;if(Xt){var s=Di,l=Ci;s=(l&~(1<<32-nn(l)-1)).toString(32)+s,n="«"+n+"R"+s,s=Zo++,0<s&&(n+="H"+s.toString(32)),n+="»"}else s=c1++,n="«"+n+"r"+s.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:Ih,useFormState:Yp,useActionState:Yp,useOptimistic:function(t){var n=on();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Mh.bind(null,kt,!0,s),s.dispatch=n,[t,n]},useMemoCache:Sh,useCacheRefresh:function(){return on().memoizedState=m1.bind(null,kt)}},gm={readContext:$e,use:Jo,useCallback:sm,useContext:$e,useEffect:Wp,useImperativeHandle:im,useInsertionEffect:tm,useLayoutEffect:em,useMemo:rm,useReducer:Wo,useRef:Zp,useState:function(){return Wo(Mi)},useDebugValue:Ch,useDeferredValue:function(t,n){var s=xe();return am(s,ee.memoizedState,t,n)},useTransition:function(){var t=Wo(Mi)[0],n=xe().memoizedState;return[typeof t=="boolean"?t:Tl(t),n]},useSyncExternalStore:jp,useId:cm,useHostTransitionStatus:Ih,useFormState:Kp,useActionState:Kp,useOptimistic:function(t,n){var s=xe();return Bp(s,ee,t,n)},useMemoCache:Sh,useCacheRefresh:hm},y1={readContext:$e,use:Jo,useCallback:sm,useContext:$e,useEffect:Wp,useImperativeHandle:im,useInsertionEffect:tm,useLayoutEffect:em,useMemo:rm,useReducer:Ah,useRef:Zp,useState:function(){return Ah(Mi)},useDebugValue:Ch,useDeferredValue:function(t,n){var s=xe();return ee===null?Dh(s,t,n):am(s,ee.memoizedState,t,n)},useTransition:function(){var t=Ah(Mi)[0],n=xe().memoizedState;return[typeof t=="boolean"?t:Tl(t),n]},useSyncExternalStore:jp,useId:cm,useHostTransitionStatus:Ih,useFormState:$p,useActionState:$p,useOptimistic:function(t,n){var s=xe();return ee!==null?Bp(s,ee,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Sh,useCacheRefresh:hm},ua=null,xl=0;function su(t){var n=xl;return xl+=1,ua===null&&(ua=[]),wp(ua,t,n)}function Al(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function ru(t,n){throw n.$$typeof===I?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function ym(t){var n=t._init;return n(t._payload)}function _m(t){function n(U,k){if(t){var H=U.deletions;H===null?(U.deletions=[k],U.flags|=16):H.push(k)}}function s(U,k){if(!t)return null;for(;k!==null;)n(U,k),k=k.sibling;return null}function l(U){for(var k=new Map;U!==null;)U.key!==null?k.set(U.key,U):k.set(U.index,U),U=U.sibling;return k}function c(U,k){return U=wi(U,k),U.index=0,U.sibling=null,U}function f(U,k,H){return U.index=H,t?(H=U.alternate,H!==null?(H=H.index,H<k?(U.flags|=67108866,k):H):(U.flags|=67108866,k)):(U.flags|=1048576,k)}function E(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function T(U,k,H,st){return k===null||k.tag!==6?(k=Wc(H,U.mode,st),k.return=U,k):(k=c(k,H),k.return=U,k)}function M(U,k,H,st){var Tt=H.type;return Tt===G?it(U,k,H.props.children,st,H.key):k!==null&&(k.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===C&&ym(Tt)===k.type)?(k=c(k,H.props),Al(k,H),k.return=U,k):(k=Bo(H.type,H.key,H.props,null,U.mode,st),Al(k,H),k.return=U,k)}function Y(U,k,H,st){return k===null||k.tag!==4||k.stateNode.containerInfo!==H.containerInfo||k.stateNode.implementation!==H.implementation?(k=th(H,U.mode,st),k.return=U,k):(k=c(k,H.children||[]),k.return=U,k)}function it(U,k,H,st,Tt){return k===null||k.tag!==7?(k=cr(H,U.mode,st,Tt),k.return=U,k):(k=c(k,H),k.return=U,k)}function rt(U,k,H){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Wc(""+k,U.mode,H),k.return=U,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case V:return H=Bo(k.type,k.key,k.props,null,U.mode,H),Al(H,k),H.return=U,H;case q:return k=th(k,U.mode,H),k.return=U,k;case C:var st=k._init;return k=st(k._payload),rt(U,k,H)}if(nt(k)||j(k))return k=cr(k,U.mode,H,null),k.return=U,k;if(typeof k.then=="function")return rt(U,su(k),H);if(k.$$typeof===ft)return rt(U,Go(U,k),H);ru(U,k)}return null}function K(U,k,H,st){var Tt=k!==null?k.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return Tt!==null?null:T(U,k,""+H,st);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case V:return H.key===Tt?M(U,k,H,st):null;case q:return H.key===Tt?Y(U,k,H,st):null;case C:return Tt=H._init,H=Tt(H._payload),K(U,k,H,st)}if(nt(H)||j(H))return Tt!==null?null:it(U,k,H,st,null);if(typeof H.then=="function")return K(U,k,su(H),st);if(H.$$typeof===ft)return K(U,k,Go(U,H),st);ru(U,H)}return null}function X(U,k,H,st,Tt){if(typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint")return U=U.get(H)||null,T(k,U,""+st,Tt);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case V:return U=U.get(st.key===null?H:st.key)||null,M(k,U,st,Tt);case q:return U=U.get(st.key===null?H:st.key)||null,Y(k,U,st,Tt);case C:var Pt=st._init;return st=Pt(st._payload),X(U,k,H,st,Tt)}if(nt(st)||j(st))return U=U.get(H)||null,it(k,U,st,Tt,null);if(typeof st.then=="function")return X(U,k,H,su(st),Tt);if(st.$$typeof===ft)return X(U,k,H,Go(k,st),Tt);ru(k,st)}return null}function Dt(U,k,H,st){for(var Tt=null,Pt=null,St=k,wt=k=0,Ue=null;St!==null&&wt<H.length;wt++){St.index>wt?(Ue=St,St=null):Ue=St.sibling;var Kt=K(U,St,H[wt],st);if(Kt===null){St===null&&(St=Ue);break}t&&St&&Kt.alternate===null&&n(U,St),k=f(Kt,k,wt),Pt===null?Tt=Kt:Pt.sibling=Kt,Pt=Kt,St=Ue}if(wt===H.length)return s(U,St),Xt&&fr(U,wt),Tt;if(St===null){for(;wt<H.length;wt++)St=rt(U,H[wt],st),St!==null&&(k=f(St,k,wt),Pt===null?Tt=St:Pt.sibling=St,Pt=St);return Xt&&fr(U,wt),Tt}for(St=l(St);wt<H.length;wt++)Ue=X(St,U,wt,H[wt],st),Ue!==null&&(t&&Ue.alternate!==null&&St.delete(Ue.key===null?wt:Ue.key),k=f(Ue,k,wt),Pt===null?Tt=Ue:Pt.sibling=Ue,Pt=Ue);return t&&St.forEach(function(Rs){return n(U,Rs)}),Xt&&fr(U,wt),Tt}function Rt(U,k,H,st){if(H==null)throw Error(a(151));for(var Tt=null,Pt=null,St=k,wt=k=0,Ue=null,Kt=H.next();St!==null&&!Kt.done;wt++,Kt=H.next()){St.index>wt?(Ue=St,St=null):Ue=St.sibling;var Rs=K(U,St,Kt.value,st);if(Rs===null){St===null&&(St=Ue);break}t&&St&&Rs.alternate===null&&n(U,St),k=f(Rs,k,wt),Pt===null?Tt=Rs:Pt.sibling=Rs,Pt=Rs,St=Ue}if(Kt.done)return s(U,St),Xt&&fr(U,wt),Tt;if(St===null){for(;!Kt.done;wt++,Kt=H.next())Kt=rt(U,Kt.value,st),Kt!==null&&(k=f(Kt,k,wt),Pt===null?Tt=Kt:Pt.sibling=Kt,Pt=Kt);return Xt&&fr(U,wt),Tt}for(St=l(St);!Kt.done;wt++,Kt=H.next())Kt=X(St,U,wt,Kt.value,st),Kt!==null&&(t&&Kt.alternate!==null&&St.delete(Kt.key===null?wt:Kt.key),k=f(Kt,k,wt),Pt===null?Tt=Kt:Pt.sibling=Kt,Pt=Kt);return t&&St.forEach(function(_E){return n(U,_E)}),Xt&&fr(U,wt),Tt}function ie(U,k,H,st){if(typeof H=="object"&&H!==null&&H.type===G&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case V:t:{for(var Tt=H.key;k!==null;){if(k.key===Tt){if(Tt=H.type,Tt===G){if(k.tag===7){s(U,k.sibling),st=c(k,H.props.children),st.return=U,U=st;break t}}else if(k.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===C&&ym(Tt)===k.type){s(U,k.sibling),st=c(k,H.props),Al(st,H),st.return=U,U=st;break t}s(U,k);break}else n(U,k);k=k.sibling}H.type===G?(st=cr(H.props.children,U.mode,st,H.key),st.return=U,U=st):(st=Bo(H.type,H.key,H.props,null,U.mode,st),Al(st,H),st.return=U,U=st)}return E(U);case q:t:{for(Tt=H.key;k!==null;){if(k.key===Tt)if(k.tag===4&&k.stateNode.containerInfo===H.containerInfo&&k.stateNode.implementation===H.implementation){s(U,k.sibling),st=c(k,H.children||[]),st.return=U,U=st;break t}else{s(U,k);break}else n(U,k);k=k.sibling}st=th(H,U.mode,st),st.return=U,U=st}return E(U);case C:return Tt=H._init,H=Tt(H._payload),ie(U,k,H,st)}if(nt(H))return Dt(U,k,H,st);if(j(H)){if(Tt=j(H),typeof Tt!="function")throw Error(a(150));return H=Tt.call(H),Rt(U,k,H,st)}if(typeof H.then=="function")return ie(U,k,su(H),st);if(H.$$typeof===ft)return ie(U,k,Go(U,H),st);ru(U,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,k!==null&&k.tag===6?(s(U,k.sibling),st=c(k,H),st.return=U,U=st):(s(U,k),st=Wc(H,U.mode,st),st.return=U,U=st),E(U)):s(U,k)}return function(U,k,H,st){try{xl=0;var Tt=ie(U,k,H,st);return ua=null,Tt}catch(St){if(St===ml||St===Yo)throw St;var Pt=pn(29,St,null,U.mode);return Pt.lanes=st,Pt.return=U,Pt}finally{}}}var ca=_m(!0),vm=_m(!1),Dn=B(null),si=null;function hs(t){var n=t.alternate;P(Ne,Ne.current&1),P(Dn,t),si===null&&(n===null||ra.current!==null||n.memoizedState!==null)&&(si=t)}function Em(t){if(t.tag===22){if(P(Ne,Ne.current),P(Dn,t),si===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(si=t)}}else fs()}function fs(){P(Ne,Ne.current),P(Dn,Dn.current)}function Vi(t){et(Dn),si===t&&(si=null),et(Ne)}var Ne=B(0);function au(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||Sf(s)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Vh(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:b({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Oh={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=_n(),c=os(l);c.payload=n,s!=null&&(c.callback=s),n=us(t,c,l),n!==null&&(vn(n,t,l),yl(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=_n(),c=os(l);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=us(t,c,l),n!==null&&(vn(n,t,l),yl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=_n(),l=os(s);l.tag=2,n!=null&&(l.callback=n),n=us(t,l,s),n!==null&&(vn(n,t,s),yl(n,t,s))}};function Tm(t,n,s,l,c,f,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,E):n.prototype&&n.prototype.isPureReactComponent?!ll(s,l)||!ll(c,f):!0}function bm(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&Oh.enqueueReplaceState(n,n.state,null)}function vr(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=b({},s));for(var c in t)s[c]===void 0&&(s[c]=t[c])}return s}var lu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Sm(t){lu(t)}function xm(t){console.error(t)}function Am(t){lu(t)}function ou(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Rm(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function jh(t,n,s){return s=os(s),s.tag=3,s.payload={element:null},s.callback=function(){ou(t,n)},s}function wm(t){return t=os(t),t.tag=3,t}function Cm(t,n,s,l){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Rm(n,s,l)}}var E=s.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){Rm(n,s,l),typeof c!="function"&&(_s===null?_s=new Set([this]):_s.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function _1(t,n,s,l,c){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&fl(n,s,c,!0),s=Dn.current,s!==null){switch(s.tag){case 13:return si===null?af():s.alternate===null&&me===0&&(me=3),s.flags&=-257,s.flags|=65536,s.lanes=c,l===ch?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),of(t,l,c)),!1;case 22:return s.flags|=65536,l===ch?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),of(t,l,c)),!1}throw Error(a(435,s.tag))}return of(t,l,c),af(),!1}if(Xt)return n=Dn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==ih&&(t=Error(a(422),{cause:l}),hl(An(t,s)))):(l!==ih&&(n=Error(a(423),{cause:l}),hl(An(n,s))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=An(l,s),c=jh(t.stateNode,l,c),dh(t,c),me!==4&&(me=2)),!1;var f=Error(a(520),{cause:l});if(f=An(f,s),Ml===null?Ml=[f]:Ml.push(f),me!==4&&(me=2),n===null)return!0;l=An(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=c&-c,s.lanes|=t,t=jh(s.stateNode,l,t),dh(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(_s===null||!_s.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=wm(c),Cm(c,t,s,l),dh(s,c),!1}s=s.return}while(s!==null);return!1}var Dm=Error(a(461)),ke=!1;function Be(t,n,s,l){n.child=t===null?vm(n,null,s,l):ca(n,t.child,s,l)}function Nm(t,n,s,l,c){s=s.render;var f=n.ref;if("ref"in l){var E={};for(var T in l)T!=="ref"&&(E[T]=l[T])}else E=l;return gr(n),l=_h(t,n,s,E,f,c),T=vh(),t!==null&&!ke?(Eh(t,n,c),Oi(t,n,c)):(Xt&&T&&eh(n),n.flags|=1,Be(t,n,l,c),n.child)}function Im(t,n,s,l,c){if(t===null){var f=s.type;return typeof f=="function"&&!Jc(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Mm(t,n,f,l,c)):(t=Bo(s.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Hh(t,c)){var E=f.memoizedProps;if(s=s.compare,s=s!==null?s:ll,s(E,l)&&t.ref===n.ref)return Oi(t,n,c)}return n.flags|=1,t=wi(f,l),t.ref=n.ref,t.return=n,n.child=t}function Mm(t,n,s,l,c){if(t!==null){var f=t.memoizedProps;if(ll(f,l)&&t.ref===n.ref)if(ke=!1,n.pendingProps=l=f,Hh(t,c))(t.flags&131072)!==0&&(ke=!0);else return n.lanes=t.lanes,Oi(t,n,c)}return kh(t,n,s,l,c)}function Vm(t,n,s){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|s:s,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Om(t,n,l,s)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Qo(n,f!==null?f.cachePool:null),f!==null?Mp(n,f):mh(),Em(n);else return n.lanes=n.childLanes=536870912,Om(t,n,f!==null?f.baseLanes|s:s,s)}else f!==null?(Qo(n,f.cachePool),Mp(n,f),fs(),n.memoizedState=null):(t!==null&&Qo(n,null),mh(),fs());return Be(t,n,c,s),n.child}function Om(t,n,s,l){var c=uh();return c=c===null?null:{parent:De._currentValue,pool:c},n.memoizedState={baseLanes:s,cachePool:c},t!==null&&Qo(n,null),mh(),Em(n),t!==null&&fl(t,n,l,!0),null}function uu(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function kh(t,n,s,l,c){return gr(n),s=_h(t,n,s,l,void 0,c),l=vh(),t!==null&&!ke?(Eh(t,n,c),Oi(t,n,c)):(Xt&&l&&eh(n),n.flags|=1,Be(t,n,s,c),n.child)}function jm(t,n,s,l,c,f){return gr(n),n.updateQueue=null,s=Op(n,l,s,c),Vp(t),l=vh(),t!==null&&!ke?(Eh(t,n,f),Oi(t,n,f)):(Xt&&l&&eh(n),n.flags|=1,Be(t,n,s,f),n.child)}function km(t,n,s,l,c){if(gr(n),n.stateNode===null){var f=ta,E=s.contextType;typeof E=="object"&&E!==null&&(f=$e(E)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Oh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},hh(n),E=s.contextType,f.context=typeof E=="object"&&E!==null?$e(E):ta,f.state=n.memoizedState,E=s.getDerivedStateFromProps,typeof E=="function"&&(Vh(n,s,E,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(E=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),E!==f.state&&Oh.enqueueReplaceState(f,f.state,null),vl(n,l,f,c),_l(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var T=n.memoizedProps,M=vr(s,T);f.props=M;var Y=f.context,it=s.contextType;E=ta,typeof it=="object"&&it!==null&&(E=$e(it));var rt=s.getDerivedStateFromProps;it=typeof rt=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,it||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||Y!==E)&&bm(n,f,l,E),ls=!1;var K=n.memoizedState;f.state=K,vl(n,l,f,c),_l(),Y=n.memoizedState,T||K!==Y||ls?(typeof rt=="function"&&(Vh(n,s,rt,l),Y=n.memoizedState),(M=ls||Tm(n,s,M,l,K,Y,E))?(it||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=Y),f.props=l,f.state=Y,f.context=E,l=M):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,fh(t,n),E=n.memoizedProps,it=vr(s,E),f.props=it,rt=n.pendingProps,K=f.context,Y=s.contextType,M=ta,typeof Y=="object"&&Y!==null&&(M=$e(Y)),T=s.getDerivedStateFromProps,(Y=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E!==rt||K!==M)&&bm(n,f,l,M),ls=!1,K=n.memoizedState,f.state=K,vl(n,l,f,c),_l();var X=n.memoizedState;E!==rt||K!==X||ls||t!==null&&t.dependencies!==null&&Fo(t.dependencies)?(typeof T=="function"&&(Vh(n,s,T,l),X=n.memoizedState),(it=ls||Tm(n,s,it,l,K,X,M)||t!==null&&t.dependencies!==null&&Fo(t.dependencies))?(Y||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,X,M),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,X,M)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||E===t.memoizedProps&&K===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&K===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=X),f.props=l,f.state=X,f.context=M,l=it):(typeof f.componentDidUpdate!="function"||E===t.memoizedProps&&K===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&K===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,uu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ca(n,t.child,null,c),n.child=ca(n,null,s,c)):Be(t,n,s,c),n.memoizedState=f.state,t=n.child):t=Oi(t,n,c),t}function Pm(t,n,s,l){return cl(),n.flags|=256,Be(t,n,s,l),n.child}var Ph={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uh(t){return{baseLanes:t,cachePool:xp()}}function Lh(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=Nn),t}function Um(t,n,s){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,E;if((E=f)||(E=t!==null&&t.memoizedState===null?!1:(Ne.current&2)!==0),E&&(c=!0,n.flags&=-129),E=(n.flags&32)!==0,n.flags&=-33,t===null){if(Xt){if(c?hs(n):fs(),Xt){var T=pe,M;if(M=T){t:{for(M=T,T=ii;M.nodeType!==8;){if(!T){T=null;break t}if(M=Gn(M.nextSibling),M===null){T=null;break t}}T=M}T!==null?(n.memoizedState={dehydrated:T,treeContext:hr!==null?{id:Ci,overflow:Di}:null,retryLane:536870912,hydrationErrors:null},M=pn(18,null,null,0),M.stateNode=T,M.return=n,n.child=M,ln=n,pe=null,M=!0):M=!1}M||pr(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Sf(T)?n.lanes=32:n.lanes=536870912,null;Vi(n)}return T=l.children,l=l.fallback,c?(fs(),c=n.mode,T=cu({mode:"hidden",children:T},c),l=cr(l,c,s,null),T.return=n,l.return=n,T.sibling=l,n.child=T,c=n.child,c.memoizedState=Uh(s),c.childLanes=Lh(t,E,s),n.memoizedState=Ph,l):(hs(n),zh(n,T))}if(M=t.memoizedState,M!==null&&(T=M.dehydrated,T!==null)){if(f)n.flags&256?(hs(n),n.flags&=-257,n=Bh(t,n,s)):n.memoizedState!==null?(fs(),n.child=t.child,n.flags|=128,n=null):(fs(),c=l.fallback,T=n.mode,l=cu({mode:"visible",children:l.children},T),c=cr(c,T,s,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,ca(n,t.child,null,s),l=n.child,l.memoizedState=Uh(s),l.childLanes=Lh(t,E,s),n.memoizedState=Ph,n=c);else if(hs(n),Sf(T)){if(E=T.nextSibling&&T.nextSibling.dataset,E)var Y=E.dgst;E=Y,l=Error(a(419)),l.stack="",l.digest=E,hl({value:l,source:null,stack:null}),n=Bh(t,n,s)}else if(ke||fl(t,n,s,!1),E=(s&t.childLanes)!==0,ke||E){if(E=ae,E!==null&&(l=s&-s,l=(l&42)!==0?1:Fa(l),l=(l&(E.suspendedLanes|s))!==0?0:l,l!==0&&l!==M.retryLane))throw M.retryLane=l,Wr(t,l),vn(E,t,l),Dm;T.data==="$?"||af(),n=Bh(t,n,s)}else T.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=M.treeContext,pe=Gn(T.nextSibling),ln=n,Xt=!0,dr=null,ii=!1,t!==null&&(wn[Cn++]=Ci,wn[Cn++]=Di,wn[Cn++]=hr,Ci=t.id,Di=t.overflow,hr=n),n=zh(n,l.children),n.flags|=4096);return n}return c?(fs(),c=l.fallback,T=n.mode,M=t.child,Y=M.sibling,l=wi(M,{mode:"hidden",children:l.children}),l.subtreeFlags=M.subtreeFlags&65011712,Y!==null?c=wi(Y,c):(c=cr(c,T,s,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,T=t.child.memoizedState,T===null?T=Uh(s):(M=T.cachePool,M!==null?(Y=De._currentValue,M=M.parent!==Y?{parent:Y,pool:Y}:M):M=xp(),T={baseLanes:T.baseLanes|s,cachePool:M}),c.memoizedState=T,c.childLanes=Lh(t,E,s),n.memoizedState=Ph,l):(hs(n),s=t.child,t=s.sibling,s=wi(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(E=n.deletions,E===null?(n.deletions=[t],n.flags|=16):E.push(t)),n.child=s,n.memoizedState=null,s)}function zh(t,n){return n=cu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function cu(t,n){return t=pn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Bh(t,n,s){return ca(n,t.child,null,s),t=zh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Lm(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),rh(t.return,n,s)}function qh(t,n,s,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=s,f.tailMode=c)}function zm(t,n,s){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Be(t,n,l.children,s),l=Ne.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Lm(t,s,n);else if(t.tag===19)Lm(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(P(Ne,l),c){case"forwards":for(s=n.child,c=null;s!==null;)t=s.alternate,t!==null&&au(t)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),qh(n,!1,c,s,f);break;case"backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&au(t)===null){n.child=c;break}t=c.sibling,c.sibling=s,s=c,c=t}qh(n,!0,s,null,f);break;case"together":qh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Oi(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),ys|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(fl(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=wi(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=wi(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Hh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Fo(t)))}function v1(t,n,s){switch(n.tag){case 3:_t(n,n.stateNode.containerInfo),as(n,De,t.memoizedState.cache),cl();break;case 27:case 5:Ht(n);break;case 4:_t(n,n.stateNode.containerInfo);break;case 10:as(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(hs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Um(t,n,s):(hs(n),t=Oi(t,n,s),t!==null?t.sibling:null);hs(n);break;case 19:var c=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(fl(t,n,s,!1),l=(s&n.childLanes)!==0),c){if(l)return zm(t,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),P(Ne,Ne.current),l)break;return null;case 22:case 23:return n.lanes=0,Vm(t,n,s);case 24:as(n,De,t.memoizedState.cache)}return Oi(t,n,s)}function Bm(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)ke=!0;else{if(!Hh(t,s)&&(n.flags&128)===0)return ke=!1,v1(t,n,s);ke=(t.flags&131072)!==0}else ke=!1,Xt&&(n.flags&1048576)!==0&&yp(n,Ho,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Jc(l)?(t=vr(l,t),n.tag=1,n=km(null,n,l,t,s)):(n.tag=0,n=kh(null,n,l,t,s));else{if(l!=null){if(c=l.$$typeof,c===mt){n.tag=11,n=Nm(null,n,l,t,s);break t}else if(c===D){n.tag=14,n=Im(null,n,l,t,s);break t}}throw n=xt(l)||l,Error(a(306,n,""))}}return n;case 0:return kh(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,c=vr(l,n.pendingProps),km(t,n,l,c,s);case 3:t:{if(_t(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,fh(t,n),vl(n,l,null,s);var E=n.memoizedState;if(l=E.cache,as(n,De,l),l!==f.cache&&ah(n,[De],s,!0),_l(),l=E.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:E.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Pm(t,n,l,s);break t}else if(l!==c){c=An(Error(a(424)),n),hl(c),n=Pm(t,n,l,s);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(pe=Gn(t.firstChild),ln=n,Xt=!0,dr=null,ii=!0,s=vm(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(cl(),l===c){n=Oi(t,n,s);break t}Be(t,n,l,s)}n=n.child}return n;case 26:return uu(t,n),t===null?(s=Gg(n.type,null,n.pendingProps,null))?n.memoizedState=s:Xt||(s=n.type,t=n.pendingProps,l=xu(ct.current).createElement(s),l[ye]=n,l[ze]=t,He(l,s,t),_e(l),n.stateNode=l):n.memoizedState=Gg(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Ht(n),t===null&&Xt&&(l=n.stateNode=qg(n.type,n.pendingProps,ct.current),ln=n,ii=!0,c=pe,Ts(n.type)?(xf=c,pe=Gn(l.firstChild)):pe=c),Be(t,n,n.pendingProps.children,s),uu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Xt&&((c=l=pe)&&(l=Y1(l,n.type,n.pendingProps,ii),l!==null?(n.stateNode=l,ln=n,pe=Gn(l.firstChild),ii=!1,c=!0):c=!1),c||pr(n)),Ht(n),c=n.type,f=n.pendingProps,E=t!==null?t.memoizedProps:null,l=f.children,Ef(c,f)?l=null:E!==null&&Ef(c,E)&&(n.flags|=32),n.memoizedState!==null&&(c=_h(t,n,h1,null,null,s),Bl._currentValue=c),uu(t,n),Be(t,n,l,s),n.child;case 6:return t===null&&Xt&&((t=s=pe)&&(s=K1(s,n.pendingProps,ii),s!==null?(n.stateNode=s,ln=n,pe=null,t=!0):t=!1),t||pr(n)),null;case 13:return Um(t,n,s);case 4:return _t(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ca(n,null,l,s):Be(t,n,l,s),n.child;case 11:return Nm(t,n,n.type,n.pendingProps,s);case 7:return Be(t,n,n.pendingProps,s),n.child;case 8:return Be(t,n,n.pendingProps.children,s),n.child;case 12:return Be(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,as(n,n.type,l.value),Be(t,n,l.children,s),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,gr(n),c=$e(c),l=l(c),n.flags|=1,Be(t,n,l,s),n.child;case 14:return Im(t,n,n.type,n.pendingProps,s);case 15:return Mm(t,n,n.type,n.pendingProps,s);case 19:return zm(t,n,s);case 31:return l=n.pendingProps,s=n.mode,l={mode:l.mode,children:l.children},t===null?(s=cu(l,s),s.ref=n.ref,n.child=s,s.return=n,n=s):(s=wi(t.child,l),s.ref=n.ref,n.child=s,s.return=n,n=s),n;case 22:return Vm(t,n,s);case 24:return gr(n),l=$e(De),t===null?(c=uh(),c===null&&(c=ae,f=lh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),n.memoizedState={parent:l,cache:c},hh(n),as(n,De,c)):((t.lanes&s)!==0&&(fh(t,n),vl(n,null,null,s),_l()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),as(n,De,l)):(l=f.cache,as(n,De,l),l!==c.cache&&ah(n,[De],s,!0))),Be(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ji(t){t.flags|=4}function qm(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!$g(n)){if(n=Dn.current,n!==null&&((Gt&4194048)===Gt?si!==null:(Gt&62914560)!==Gt&&(Gt&536870912)===0||n!==si))throw gl=ch,Ap;t.flags|=8192}}function hu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Yi():536870912,t.lanes|=n,pa|=n)}function Rl(t,n){if(!Xt)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function fe(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function E1(t,n,s){var l=n.pendingProps;switch(nh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(n),null;case 1:return fe(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ii(De),dt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(ul(n)?ji(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Ep())),fe(n),null;case 26:return s=n.memoizedState,t===null?(ji(n),s!==null?(fe(n),qm(n,s)):(fe(n),n.flags&=-16777217)):s?s!==t.memoizedState?(ji(n),fe(n),qm(n,s)):(fe(n),n.flags&=-16777217):(t.memoizedProps!==l&&ji(n),fe(n),n.flags&=-16777217),null;case 27:Ut(n),s=ct.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ji(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return fe(n),null}t=J.current,ul(n)?_p(n):(t=qg(c,l,s),n.stateNode=t,ji(n))}return fe(n),null;case 5:if(Ut(n),s=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&ji(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return fe(n),null}if(t=J.current,ul(n))_p(n);else{switch(c=xu(ct.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(s,{is:l.is}):c.createElement(s)}}t[ye]=n,t[ze]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(He(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&ji(n)}}return fe(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&ji(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=ct.current,ul(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,c=ln,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[ye]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||jg(t.nodeValue,s)),t||pr(n)}else t=xu(t).createTextNode(l),t[ye]=n,n.stateNode=t}return fe(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=ul(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[ye]=n}else cl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;fe(n),c=!1}else c=Ep(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Vi(n),n):(Vi(n),null)}if(Vi(n),(n.flags&128)!==0)return n.lanes=s,n;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return s!==t&&s&&(n.child.flags|=8192),hu(n,n.updateQueue),fe(n),null;case 4:return dt(),t===null&&mf(n.stateNode.containerInfo),fe(n),null;case 10:return Ii(n.type),fe(n),null;case 19:if(et(Ne),c=n.memoizedState,c===null)return fe(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)Rl(c,!1);else{if(me!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=au(t),f!==null){for(n.flags|=128,Rl(c,!1),t=f.updateQueue,n.updateQueue=t,hu(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)gp(s,t),s=s.sibling;return P(Ne,Ne.current&1|2),n.child}t=t.sibling}c.tail!==null&&Ye()>pu&&(n.flags|=128,l=!0,Rl(c,!1),n.lanes=4194304)}else{if(!l)if(t=au(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,hu(n,t),Rl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Xt)return fe(n),null}else 2*Ye()-c.renderingStartTime>pu&&s!==536870912&&(n.flags|=128,l=!0,Rl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=Ye(),n.sibling=null,t=Ne.current,P(Ne,l?t&1|2:t&1),n):(fe(n),null);case 22:case 23:return Vi(n),gh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(fe(n),n.subtreeFlags&6&&(n.flags|=8192)):fe(n),s=n.updateQueue,s!==null&&hu(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&et(yr),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Ii(De),fe(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function T1(t,n){switch(nh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ii(De),dt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ut(n),null;case 13:if(Vi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));cl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return et(Ne),null;case 4:return dt(),null;case 10:return Ii(n.type),null;case 22:case 23:return Vi(n),gh(),t!==null&&et(yr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ii(De),null;case 25:return null;default:return null}}function Hm(t,n){switch(nh(n),n.tag){case 3:Ii(De),dt();break;case 26:case 27:case 5:Ut(n);break;case 4:dt();break;case 13:Vi(n);break;case 19:et(Ne);break;case 10:Ii(n.type);break;case 22:case 23:Vi(n),gh(),t!==null&&et(yr);break;case 24:Ii(De)}}function wl(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var c=l.next;s=c;do{if((s.tag&t)===t){l=void 0;var f=s.create,E=s.inst;l=f(),E.destroy=l}s=s.next}while(s!==c)}}catch(T){se(n,n.return,T)}}function ds(t,n,s){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var E=l.inst,T=E.destroy;if(T!==void 0){E.destroy=void 0,c=n;var M=s,Y=T;try{Y()}catch(it){se(c,M,it)}}}l=l.next}while(l!==f)}}catch(it){se(n,n.return,it)}}function Fm(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{Ip(n,s)}catch(l){se(t,t.return,l)}}}function Gm(t,n,s){s.props=vr(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){se(t,n,l)}}function Cl(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(c){se(t,n,c)}}function ri(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(c){se(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){se(t,n,c)}else s.current=null}function Qm(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(c){se(t,t.return,c)}}function Fh(t,n,s){try{var l=t.stateNode;q1(l,t.type,s,n),l[ze]=n}catch(c){se(t,t.return,c)}}function Ym(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ts(t.type)||t.tag===4}function Gh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Ym(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ts(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qh(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Su));else if(l!==4&&(l===27&&Ts(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Qh(t,n,s),t=t.sibling;t!==null;)Qh(t,n,s),t=t.sibling}function fu(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&Ts(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(fu(t,n,s),t=t.sibling;t!==null;)fu(t,n,s),t=t.sibling}function Km(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);He(n,l,s),n[ye]=t,n[ze]=s}catch(f){se(t,t.return,f)}}var ki=!1,Te=!1,Yh=!1,Xm=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function b1(t,n){if(t=t.containerInfo,_f=Nu,t=ap(t),Gc(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else t:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var E=0,T=-1,M=-1,Y=0,it=0,rt=t,K=null;e:for(;;){for(var X;rt!==s||c!==0&&rt.nodeType!==3||(T=E+c),rt!==f||l!==0&&rt.nodeType!==3||(M=E+l),rt.nodeType===3&&(E+=rt.nodeValue.length),(X=rt.firstChild)!==null;)K=rt,rt=X;for(;;){if(rt===t)break e;if(K===s&&++Y===c&&(T=E),K===f&&++it===l&&(M=E),(X=rt.nextSibling)!==null)break;rt=K,K=rt.parentNode}rt=X}s=T===-1||M===-1?null:{start:T,end:M}}else s=null}s=s||{start:0,end:0}}else s=null;for(vf={focusedElem:t,selectionRange:s},Nu=!1,Pe=n;Pe!==null;)if(n=Pe,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Pe=t;else for(;Pe!==null;){switch(n=Pe,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,c=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var Dt=vr(s.type,c,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(Dt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(Rt){se(s,s.return,Rt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)bf(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":bf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Pe=t;break}Pe=n.return}}function $m(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:ps(t,s),l&4&&wl(5,s);break;case 1:if(ps(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(E){se(s,s.return,E)}else{var c=vr(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(E){se(s,s.return,E)}}l&64&&Fm(s),l&512&&Cl(s,s.return);break;case 3:if(ps(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Ip(t,n)}catch(E){se(s,s.return,E)}}break;case 27:n===null&&l&4&&Km(s);case 26:case 5:ps(t,s),n===null&&l&4&&Qm(s),l&512&&Cl(s,s.return);break;case 12:ps(t,s);break;case 13:ps(t,s),l&4&&Wm(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=I1.bind(null,s),X1(t,s))));break;case 22:if(l=s.memoizedState!==null||ki,!l){n=n!==null&&n.memoizedState!==null||Te,c=ki;var f=Te;ki=l,(Te=n)&&!f?ms(t,s,(s.subtreeFlags&8772)!==0):ps(t,s),ki=c,Te=f}break;case 30:break;default:ps(t,s)}}function Zm(t){var n=t.alternate;n!==null&&(t.alternate=null,Zm(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ur(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ce=null,un=!1;function Pi(t,n,s){for(s=s.child;s!==null;)Jm(t,n,s),s=s.sibling}function Jm(t,n,s){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(Fi,s)}catch{}switch(s.tag){case 26:Te||ri(s,n),Pi(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Te||ri(s,n);var l=ce,c=un;Ts(s.type)&&(ce=s.stateNode,un=!1),Pi(t,n,s),Pl(s.stateNode),ce=l,un=c;break;case 5:Te||ri(s,n);case 6:if(l=ce,c=un,ce=null,Pi(t,n,s),ce=l,un=c,ce!==null)if(un)try{(ce.nodeType===9?ce.body:ce.nodeName==="HTML"?ce.ownerDocument.body:ce).removeChild(s.stateNode)}catch(f){se(s,n,f)}else try{ce.removeChild(s.stateNode)}catch(f){se(s,n,f)}break;case 18:ce!==null&&(un?(t=ce,zg(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Gl(t)):zg(ce,s.stateNode));break;case 4:l=ce,c=un,ce=s.stateNode.containerInfo,un=!0,Pi(t,n,s),ce=l,un=c;break;case 0:case 11:case 14:case 15:Te||ds(2,s,n),Te||ds(4,s,n),Pi(t,n,s);break;case 1:Te||(ri(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Gm(s,n,l)),Pi(t,n,s);break;case 21:Pi(t,n,s);break;case 22:Te=(l=Te)||s.memoizedState!==null,Pi(t,n,s),Te=l;break;default:Pi(t,n,s)}}function Wm(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Gl(t)}catch(s){se(n,n.return,s)}}function S1(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Xm),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Xm),n;default:throw Error(a(435,t.tag))}}function Kh(t,n){var s=S1(t);n.forEach(function(l){var c=M1.bind(null,t,l);s.has(l)||(s.add(l),l.then(c,c))})}function mn(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var c=s[l],f=t,E=n,T=E;t:for(;T!==null;){switch(T.tag){case 27:if(Ts(T.type)){ce=T.stateNode,un=!1;break t}break;case 5:ce=T.stateNode,un=!1;break t;case 3:case 4:ce=T.stateNode.containerInfo,un=!0;break t}T=T.return}if(ce===null)throw Error(a(160));Jm(f,E,c),ce=null,un=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)tg(n,t),n=n.sibling}var Fn=null;function tg(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:mn(n,t),gn(t),l&4&&(ds(3,t,t.return),wl(3,t),ds(5,t,t.return));break;case 1:mn(n,t),gn(t),l&512&&(Te||s===null||ri(s,s.return)),l&64&&ki&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var c=Fn;if(mn(n,t),gn(t),l&512&&(Te||s===null||ri(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){t:{l=t.type,s=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[$i]||f[ye]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),He(f,l,s),f[ye]=t,_e(f),l=f;break t;case"link":var E=Kg("link","href",c).get(l+(s.href||""));if(E){for(var T=0;T<E.length;T++)if(f=E[T],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){E.splice(T,1);break e}}f=c.createElement(l),He(f,l,s),c.head.appendChild(f);break;case"meta":if(E=Kg("meta","content",c).get(l+(s.content||""))){for(T=0;T<E.length;T++)if(f=E[T],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){E.splice(T,1);break e}}f=c.createElement(l),He(f,l,s),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[ye]=t,_e(f),l=f}t.stateNode=l}else Xg(c,t.type,t.stateNode);else t.stateNode=Yg(c,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?Xg(c,t.type,t.stateNode):Yg(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Fh(t,t.memoizedProps,s.memoizedProps)}break;case 27:mn(n,t),gn(t),l&512&&(Te||s===null||ri(s,s.return)),s!==null&&l&4&&Fh(t,t.memoizedProps,s.memoizedProps);break;case 5:if(mn(n,t),gn(t),l&512&&(Te||s===null||ri(s,s.return)),t.flags&32){c=t.stateNode;try{Sn(c,"")}catch(X){se(t,t.return,X)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Fh(t,c,s!==null?s.memoizedProps:c)),l&1024&&(Yh=!0);break;case 6:if(mn(n,t),gn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(X){se(t,t.return,X)}}break;case 3:if(wu=null,c=Fn,Fn=Au(n.containerInfo),mn(n,t),Fn=c,gn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Gl(n.containerInfo)}catch(X){se(t,t.return,X)}Yh&&(Yh=!1,eg(t));break;case 4:l=Fn,Fn=Au(t.stateNode.containerInfo),mn(n,t),gn(t),Fn=l;break;case 12:mn(n,t),gn(t);break;case 13:mn(n,t),gn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(tf=Ye()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Kh(t,l)));break;case 22:c=t.memoizedState!==null;var M=s!==null&&s.memoizedState!==null,Y=ki,it=Te;if(ki=Y||c,Te=it||M,mn(n,t),Te=it,ki=Y,gn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||M||ki||Te||Er(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){M=s=n;try{if(f=M.stateNode,c)E=f.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{T=M.stateNode;var rt=M.memoizedProps.style,K=rt!=null&&rt.hasOwnProperty("display")?rt.display:null;T.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(X){se(M,M.return,X)}}}else if(n.tag===6){if(s===null){M=n;try{M.stateNode.nodeValue=c?"":M.memoizedProps}catch(X){se(M,M.return,X)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Kh(t,s))));break;case 19:mn(n,t),gn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Kh(t,l)));break;case 30:break;case 21:break;default:mn(n,t),gn(t)}}function gn(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(Ym(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var c=s.stateNode,f=Gh(t);fu(t,f,c);break;case 5:var E=s.stateNode;s.flags&32&&(Sn(E,""),s.flags&=-33);var T=Gh(t);fu(t,T,E);break;case 3:case 4:var M=s.stateNode.containerInfo,Y=Gh(t);Qh(t,Y,M);break;default:throw Error(a(161))}}catch(it){se(t,t.return,it)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function eg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;eg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ps(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)$m(t,n.alternate,n),n=n.sibling}function Er(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ds(4,n,n.return),Er(n);break;case 1:ri(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Gm(n,n.return,s),Er(n);break;case 27:Pl(n.stateNode);case 26:case 5:ri(n,n.return),Er(n);break;case 22:n.memoizedState===null&&Er(n);break;case 30:Er(n);break;default:Er(n)}t=t.sibling}}function ms(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,E=f.flags;switch(f.tag){case 0:case 11:case 15:ms(c,f,s),wl(4,f);break;case 1:if(ms(c,f,s),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(Y){se(l,l.return,Y)}if(l=f,c=l.updateQueue,c!==null){var T=l.stateNode;try{var M=c.shared.hiddenCallbacks;if(M!==null)for(c.shared.hiddenCallbacks=null,c=0;c<M.length;c++)Np(M[c],T)}catch(Y){se(l,l.return,Y)}}s&&E&64&&Fm(f),Cl(f,f.return);break;case 27:Km(f);case 26:case 5:ms(c,f,s),s&&l===null&&E&4&&Qm(f),Cl(f,f.return);break;case 12:ms(c,f,s);break;case 13:ms(c,f,s),s&&E&4&&Wm(c,f);break;case 22:f.memoizedState===null&&ms(c,f,s),Cl(f,f.return);break;case 30:break;default:ms(c,f,s)}n=n.sibling}}function Xh(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&dl(s))}function $h(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&dl(t))}function ai(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ng(t,n,s,l),n=n.sibling}function ng(t,n,s,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:ai(t,n,s,l),c&2048&&wl(9,n);break;case 1:ai(t,n,s,l);break;case 3:ai(t,n,s,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&dl(t)));break;case 12:if(c&2048){ai(t,n,s,l),t=n.stateNode;try{var f=n.memoizedProps,E=f.id,T=f.onPostCommit;typeof T=="function"&&T(E,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(M){se(n,n.return,M)}}else ai(t,n,s,l);break;case 13:ai(t,n,s,l);break;case 23:break;case 22:f=n.stateNode,E=n.alternate,n.memoizedState!==null?f._visibility&2?ai(t,n,s,l):Dl(t,n):f._visibility&2?ai(t,n,s,l):(f._visibility|=2,ha(t,n,s,l,(n.subtreeFlags&10256)!==0)),c&2048&&Xh(E,n);break;case 24:ai(t,n,s,l),c&2048&&$h(n.alternate,n);break;default:ai(t,n,s,l)}}function ha(t,n,s,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,E=n,T=s,M=l,Y=E.flags;switch(E.tag){case 0:case 11:case 15:ha(f,E,T,M,c),wl(8,E);break;case 23:break;case 22:var it=E.stateNode;E.memoizedState!==null?it._visibility&2?ha(f,E,T,M,c):Dl(f,E):(it._visibility|=2,ha(f,E,T,M,c)),c&&Y&2048&&Xh(E.alternate,E);break;case 24:ha(f,E,T,M,c),c&&Y&2048&&$h(E.alternate,E);break;default:ha(f,E,T,M,c)}n=n.sibling}}function Dl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,c=l.flags;switch(l.tag){case 22:Dl(s,l),c&2048&&Xh(l.alternate,l);break;case 24:Dl(s,l),c&2048&&$h(l.alternate,l);break;default:Dl(s,l)}n=n.sibling}}var Nl=8192;function fa(t){if(t.subtreeFlags&Nl)for(t=t.child;t!==null;)ig(t),t=t.sibling}function ig(t){switch(t.tag){case 26:fa(t),t.flags&Nl&&t.memoizedState!==null&&oE(Fn,t.memoizedState,t.memoizedProps);break;case 5:fa(t);break;case 3:case 4:var n=Fn;Fn=Au(t.stateNode.containerInfo),fa(t),Fn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Nl,Nl=16777216,fa(t),Nl=n):fa(t));break;default:fa(t)}}function sg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Il(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Pe=l,ag(l,t)}sg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)rg(t),t=t.sibling}function rg(t){switch(t.tag){case 0:case 11:case 15:Il(t),t.flags&2048&&ds(9,t,t.return);break;case 3:Il(t);break;case 12:Il(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,du(t)):Il(t);break;default:Il(t)}}function du(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Pe=l,ag(l,t)}sg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ds(8,n,n.return),du(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,du(n));break;default:du(n)}t=t.sibling}}function ag(t,n){for(;Pe!==null;){var s=Pe;switch(s.tag){case 0:case 11:case 15:ds(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:dl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Pe=l;else t:for(s=t;Pe!==null;){l=Pe;var c=l.sibling,f=l.return;if(Zm(l),l===s){Pe=null;break t}if(c!==null){c.return=f,Pe=c;break t}Pe=f}}}var x1={getCacheForType:function(t){var n=$e(De),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s}},A1=typeof WeakMap=="function"?WeakMap:Map,Jt=0,ae=null,Lt=null,Gt=0,Wt=0,yn=null,gs=!1,da=!1,Zh=!1,Ui=0,me=0,ys=0,Tr=0,Jh=0,Nn=0,pa=0,Ml=null,cn=null,Wh=!1,tf=0,pu=1/0,mu=null,_s=null,qe=0,vs=null,ma=null,ga=0,ef=0,nf=null,lg=null,Vl=0,sf=null;function _n(){if((Jt&2)!==0&&Gt!==0)return Gt&-Gt;if(O.T!==null){var t=ia;return t!==0?t:hf()}return Ei()}function og(){Nn===0&&(Nn=(Gt&536870912)===0||Xt?Ha():536870912);var t=Dn.current;return t!==null&&(t.flags|=32),Nn}function vn(t,n,s){(t===ae&&(Wt===2||Wt===9)||t.cancelPendingCommit!==null)&&(ya(t,0),Es(t,Gt,Nn,!1)),ge(t,s),((Jt&2)===0||t!==ae)&&(t===ae&&((Jt&2)===0&&(Tr|=s),me===4&&Es(t,Gt,Nn,!1)),li(t))}function ug(t,n,s){if((Jt&6)!==0)throw Error(a(327));var l=!s&&(n&124)===0&&(n&t.expiredLanes)===0||Qi(t,n),c=l?C1(t,n):lf(t,n,!0),f=l;do{if(c===0){da&&!l&&Es(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!R1(s)){c=lf(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){n=E;t:{var T=t;c=Ml;var M=T.current.memoizedState.isDehydrated;if(M&&(ya(T,E).flags|=256),E=lf(T,E,!1),E!==2){if(Zh&&!M){T.errorRecoveryDisabledLanes|=f,Tr|=f,c=4;break t}f=cn,cn=c,f!==null&&(cn===null?cn=f:cn.push.apply(cn,f))}c=E}if(f=!1,c!==2)continue}}if(c===1){ya(t,0),Es(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Es(l,n,Nn,!gs);break t;case 2:cn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=tf+300-Ye(),10<c)){if(Es(l,n,Nn,!gs),Tn(l,0,!0)!==0)break t;l.timeoutHandle=Ug(cg.bind(null,l,s,cn,mu,Wh,n,Nn,Tr,pa,gs,f,2,-0,0),c);break t}cg(l,s,cn,mu,Wh,n,Nn,Tr,pa,gs,f,0,-0,0)}}break}while(!0);li(t)}function cg(t,n,s,l,c,f,E,T,M,Y,it,rt,K,X){if(t.timeoutHandle=-1,rt=n.subtreeFlags,(rt&8192||(rt&16785408)===16785408)&&(zl={stylesheets:null,count:0,unsuspend:lE},ig(n),rt=uE(),rt!==null)){t.cancelPendingCommit=rt(yg.bind(null,t,n,f,s,l,c,E,T,M,it,1,K,X)),Es(t,f,E,!Y);return}yg(t,n,f,s,l,c,E,T,M)}function R1(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var c=s[l],f=c.getSnapshot;c=c.value;try{if(!dn(f(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Es(t,n,s,l){n&=~Jh,n&=~Tr,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-nn(c),E=1<<f;l[f]=-1,c&=~E}s!==0&&Ki(t,s,n)}function gu(){return(Jt&6)===0?(Ol(0),!1):!0}function rf(){if(Lt!==null){if(Wt===0)var t=Lt.return;else t=Lt,Ni=mr=null,Th(t),ua=null,xl=0,t=Lt;for(;t!==null;)Hm(t.alternate,t),t=t.return;Lt=null}}function ya(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,F1(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),rf(),ae=t,Lt=s=wi(t.current,null),Gt=n,Wt=0,yn=null,gs=!1,da=Qi(t,n),Zh=!1,pa=Nn=Jh=Tr=ys=me=0,cn=Ml=null,Wh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-nn(l),f=1<<c;n|=t[c],l&=~f}return Ui=n,Uo(),s}function hg(t,n){kt=null,O.H=iu,n===ml||n===Yo?(n=Cp(),Wt=3):n===Ap?(n=Cp(),Wt=4):Wt=n===Dm?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,yn=n,Lt===null&&(me=1,ou(t,An(n,t.current)))}function fg(){var t=O.H;return O.H=iu,t===null?iu:t}function dg(){var t=O.A;return O.A=x1,t}function af(){me=4,gs||(Gt&4194048)!==Gt&&Dn.current!==null||(da=!0),(ys&134217727)===0&&(Tr&134217727)===0||ae===null||Es(ae,Gt,Nn,!1)}function lf(t,n,s){var l=Jt;Jt|=2;var c=fg(),f=dg();(ae!==t||Gt!==n)&&(mu=null,ya(t,n)),n=!1;var E=me;t:do try{if(Wt!==0&&Lt!==null){var T=Lt,M=yn;switch(Wt){case 8:rf(),E=6;break t;case 3:case 2:case 9:case 6:Dn.current===null&&(n=!0);var Y=Wt;if(Wt=0,yn=null,_a(t,T,M,Y),s&&da){E=0;break t}break;default:Y=Wt,Wt=0,yn=null,_a(t,T,M,Y)}}w1(),E=me;break}catch(it){hg(t,it)}while(!0);return n&&t.shellSuspendCounter++,Ni=mr=null,Jt=l,O.H=c,O.A=f,Lt===null&&(ae=null,Gt=0,Uo()),E}function w1(){for(;Lt!==null;)pg(Lt)}function C1(t,n){var s=Jt;Jt|=2;var l=fg(),c=dg();ae!==t||Gt!==n?(mu=null,pu=Ye()+500,ya(t,n)):da=Qi(t,n);t:do try{if(Wt!==0&&Lt!==null){n=Lt;var f=yn;e:switch(Wt){case 1:Wt=0,yn=null,_a(t,n,f,1);break;case 2:case 9:if(Rp(f)){Wt=0,yn=null,mg(n);break}n=function(){Wt!==2&&Wt!==9||ae!==t||(Wt=7),li(t)},f.then(n,n);break t;case 3:Wt=7;break t;case 4:Wt=5;break t;case 7:Rp(f)?(Wt=0,yn=null,mg(n)):(Wt=0,yn=null,_a(t,n,f,7));break;case 5:var E=null;switch(Lt.tag){case 26:E=Lt.memoizedState;case 5:case 27:var T=Lt;if(!E||$g(E)){Wt=0,yn=null;var M=T.sibling;if(M!==null)Lt=M;else{var Y=T.return;Y!==null?(Lt=Y,yu(Y)):Lt=null}break e}}Wt=0,yn=null,_a(t,n,f,5);break;case 6:Wt=0,yn=null,_a(t,n,f,6);break;case 8:rf(),me=6;break t;default:throw Error(a(462))}}D1();break}catch(it){hg(t,it)}while(!0);return Ni=mr=null,O.H=l,O.A=c,Jt=s,Lt!==null?0:(ae=null,Gt=0,Uo(),me)}function D1(){for(;Lt!==null&&!_i();)pg(Lt)}function pg(t){var n=Bm(t.alternate,t,Ui);t.memoizedProps=t.pendingProps,n===null?yu(t):Lt=n}function mg(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=jm(s,n,n.pendingProps,n.type,void 0,Gt);break;case 11:n=jm(s,n,n.pendingProps,n.type.render,n.ref,Gt);break;case 5:Th(n);default:Hm(s,n),n=Lt=gp(n,Ui),n=Bm(s,n,Ui)}t.memoizedProps=t.pendingProps,n===null?yu(t):Lt=n}function _a(t,n,s,l){Ni=mr=null,Th(n),ua=null,xl=0;var c=n.return;try{if(_1(t,c,n,s,Gt)){me=1,ou(t,An(s,t.current)),Lt=null;return}}catch(f){if(c!==null)throw Lt=c,f;me=1,ou(t,An(s,t.current)),Lt=null;return}n.flags&32768?(Xt||l===1?t=!0:da||(Gt&536870912)!==0?t=!1:(gs=t=!0,(l===2||l===9||l===3||l===6)&&(l=Dn.current,l!==null&&l.tag===13&&(l.flags|=16384))),gg(n,t)):yu(n)}function yu(t){var n=t;do{if((n.flags&32768)!==0){gg(n,gs);return}t=n.return;var s=E1(n.alternate,n,Ui);if(s!==null){Lt=s;return}if(n=n.sibling,n!==null){Lt=n;return}Lt=n=t}while(n!==null);me===0&&(me=5)}function gg(t,n){do{var s=T1(t.alternate,t);if(s!==null){s.flags&=32767,Lt=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Lt=t;return}Lt=t=s}while(t!==null);me=6,Lt=null}function yg(t,n,s,l,c,f,E,T,M){t.cancelPendingCommit=null;do _u();while(qe!==0);if((Jt&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=$c,To(t,s,f,E,T,M),t===ae&&(Lt=ae=null,Gt=0),ma=n,vs=t,ga=s,ef=f,nf=c,lg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,V1(vi,function(){return bg(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=O.T,O.T=null,c=Q.p,Q.p=2,E=Jt,Jt|=4;try{b1(t,n,s)}finally{Jt=E,Q.p=c,O.T=l}}qe=1,_g(),vg(),Eg()}}function _g(){if(qe===1){qe=0;var t=vs,n=ma,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=O.T,O.T=null;var l=Q.p;Q.p=2;var c=Jt;Jt|=4;try{tg(n,t);var f=vf,E=ap(t.containerInfo),T=f.focusedElem,M=f.selectionRange;if(E!==T&&T&&T.ownerDocument&&rp(T.ownerDocument.documentElement,T)){if(M!==null&&Gc(T)){var Y=M.start,it=M.end;if(it===void 0&&(it=Y),"selectionStart"in T)T.selectionStart=Y,T.selectionEnd=Math.min(it,T.value.length);else{var rt=T.ownerDocument||document,K=rt&&rt.defaultView||window;if(K.getSelection){var X=K.getSelection(),Dt=T.textContent.length,Rt=Math.min(M.start,Dt),ie=M.end===void 0?Rt:Math.min(M.end,Dt);!X.extend&&Rt>ie&&(E=ie,ie=Rt,Rt=E);var U=sp(T,Rt),k=sp(T,ie);if(U&&k&&(X.rangeCount!==1||X.anchorNode!==U.node||X.anchorOffset!==U.offset||X.focusNode!==k.node||X.focusOffset!==k.offset)){var H=rt.createRange();H.setStart(U.node,U.offset),X.removeAllRanges(),Rt>ie?(X.addRange(H),X.extend(k.node,k.offset)):(H.setEnd(k.node,k.offset),X.addRange(H))}}}}for(rt=[],X=T;X=X.parentNode;)X.nodeType===1&&rt.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<rt.length;T++){var st=rt[T];st.element.scrollLeft=st.left,st.element.scrollTop=st.top}}Nu=!!_f,vf=_f=null}finally{Jt=c,Q.p=l,O.T=s}}t.current=n,qe=2}}function vg(){if(qe===2){qe=0;var t=vs,n=ma,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=O.T,O.T=null;var l=Q.p;Q.p=2;var c=Jt;Jt|=4;try{$m(t,n.alternate,n)}finally{Jt=c,Q.p=l,O.T=s}}qe=3}}function Eg(){if(qe===4||qe===3){qe=0,zs();var t=vs,n=ma,s=ga,l=lg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?qe=5:(qe=0,ma=vs=null,Tg(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(_s=null),Ga(s),n=n.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(Fi,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=O.T,c=Q.p,Q.p=2,O.T=null;try{for(var f=t.onRecoverableError,E=0;E<l.length;E++){var T=l[E];f(T.value,{componentStack:T.stack})}}finally{O.T=n,Q.p=c}}(ga&3)!==0&&_u(),li(t),c=t.pendingLanes,(s&4194090)!==0&&(c&42)!==0?t===sf?Vl++:(Vl=0,sf=t):Vl=0,Ol(0)}}function Tg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,dl(n)))}function _u(t){return _g(),vg(),Eg(),bg()}function bg(){if(qe!==5)return!1;var t=vs,n=ef;ef=0;var s=Ga(ga),l=O.T,c=Q.p;try{Q.p=32>s?32:s,O.T=null,s=nf,nf=null;var f=vs,E=ga;if(qe=0,ma=vs=null,ga=0,(Jt&6)!==0)throw Error(a(331));var T=Jt;if(Jt|=4,rg(f.current),ng(f,f.current,E,s),Jt=T,Ol(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(Fi,f)}catch{}return!0}finally{Q.p=c,O.T=l,Tg(t,n)}}function Sg(t,n,s){n=An(s,n),n=jh(t.stateNode,n,2),t=us(t,n,2),t!==null&&(ge(t,2),li(t))}function se(t,n,s){if(t.tag===3)Sg(t,t,s);else for(;n!==null;){if(n.tag===3){Sg(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(_s===null||!_s.has(l))){t=An(s,t),s=wm(2),l=us(n,s,2),l!==null&&(Cm(s,l,n,t),ge(l,2),li(l));break}}n=n.return}}function of(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new A1;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(s)||(Zh=!0,c.add(s),t=N1.bind(null,t,n,s),n.then(t,t))}function N1(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,ae===t&&(Gt&s)===s&&(me===4||me===3&&(Gt&62914560)===Gt&&300>Ye()-tf?(Jt&2)===0&&ya(t,0):Jh|=s,pa===Gt&&(pa=0)),li(t)}function xg(t,n){n===0&&(n=Yi()),t=Wr(t,n),t!==null&&(ge(t,n),li(t))}function I1(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),xg(t,s)}function M1(t,n){var s=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(s=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),xg(t,s)}function V1(t,n){return Nt(t,n)}var vu=null,va=null,uf=!1,Eu=!1,cf=!1,br=0;function li(t){t!==va&&t.next===null&&(va===null?vu=va=t:va=va.next=t),Eu=!0,uf||(uf=!0,j1())}function Ol(t,n){if(!cf&&Eu){cf=!0;do for(var s=!1,l=vu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var E=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-nn(42|t)+1)-1,f&=c&~(E&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Cg(l,f))}else f=Gt,f=Tn(l,l===ae?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Qi(l,f)||(s=!0,Cg(l,f));l=l.next}while(s);cf=!1}}function O1(){Ag()}function Ag(){Eu=uf=!1;var t=0;br!==0&&(H1()&&(t=br),br=0);for(var n=Ye(),s=null,l=vu;l!==null;){var c=l.next,f=Rg(l,n);f===0?(l.next=null,s===null?vu=c:s.next=c,c===null&&(va=s)):(s=l,(t!==0||(f&3)!==0)&&(Eu=!0)),l=c}Ol(t)}function Rg(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var E=31-nn(f),T=1<<E,M=c[E];M===-1?((T&s)===0||(T&l)!==0)&&(c[E]=kr(T,n)):M<=n&&(t.expiredLanes|=T),f&=~T}if(n=ae,s=Gt,s=Tn(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&(Wt===2||Wt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ot(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Qi(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&Ot(l),Ga(s)){case 2:case 8:s=Oe;break;case 32:s=vi;break;case 268435456:s=qa;break;default:s=vi}return l=wg.bind(null,t),s=Nt(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&Ot(l),t.callbackPriority=2,t.callbackNode=null,2}function wg(t,n){if(qe!==0&&qe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(_u()&&t.callbackNode!==s)return null;var l=Gt;return l=Tn(t,t===ae?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(ug(t,l,n),Rg(t,Ye()),t.callbackNode!=null&&t.callbackNode===s?wg.bind(null,t):null)}function Cg(t,n){if(_u())return null;ug(t,n,!0)}function j1(){G1(function(){(Jt&6)!==0?Nt(we,O1):Ag()})}function hf(){return br===0&&(br=Ha()),br}function Dg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ln(""+t)}function Ng(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function k1(t,n,s,l,c){if(n==="submit"&&s&&s.stateNode===c){var f=Dg((c[ze]||null).action),E=l.submitter;E&&(n=(n=E[ze]||null)?Dg(n.formAction):E.getAttribute("formAction"),n!==null&&(f=n,E=null));var T=new er("action","action",null,l,c);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(br!==0){var M=E?Ng(c,E):new FormData(c);Nh(s,{pending:!0,data:M,method:c.method,action:f},null,M)}}else typeof f=="function"&&(T.preventDefault(),M=E?Ng(c,E):new FormData(c),Nh(s,{pending:!0,data:M,method:c.method,action:f},f,M))},currentTarget:c}]})}}for(var ff=0;ff<Xc.length;ff++){var df=Xc[ff],P1=df.toLowerCase(),U1=df[0].toUpperCase()+df.slice(1);Hn(P1,"on"+U1)}Hn(up,"onAnimationEnd"),Hn(cp,"onAnimationIteration"),Hn(hp,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(e1,"onTransitionRun"),Hn(n1,"onTransitionStart"),Hn(i1,"onTransitionCancel"),Hn(fp,"onTransitionEnd"),Wn("onMouseEnter",["mouseout","mouseover"]),Wn("onMouseLeave",["mouseout","mouseover"]),Wn("onPointerEnter",["pointerout","pointerover"]),Wn("onPointerLeave",["pointerout","pointerover"]),Jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),L1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jl));function Ig(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var E=l.length-1;0<=E;E--){var T=l[E],M=T.instance,Y=T.currentTarget;if(T=T.listener,M!==f&&c.isPropagationStopped())break t;f=T,c.currentTarget=Y;try{f(c)}catch(it){lu(it)}c.currentTarget=null,f=M}else for(E=0;E<l.length;E++){if(T=l[E],M=T.instance,Y=T.currentTarget,T=T.listener,M!==f&&c.isPropagationStopped())break t;f=T,c.currentTarget=Y;try{f(c)}catch(it){lu(it)}c.currentTarget=null,f=M}}}}function zt(t,n){var s=n[qs];s===void 0&&(s=n[qs]=new Set);var l=t+"__bubble";s.has(l)||(Mg(n,t,2,!1),s.add(l))}function pf(t,n,s){var l=0;n&&(l|=4),Mg(s,t,l,n)}var Tu="_reactListening"+Math.random().toString(36).slice(2);function mf(t){if(!t[Tu]){t[Tu]=!0,bo.forEach(function(s){s!=="selectionchange"&&(L1.has(s)||pf(s,!1,t),pf(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Tu]||(n[Tu]=!0,pf("selectionchange",!1,n))}}function Mg(t,n,s,l){switch(ny(n)){case 2:var c=fE;break;case 8:c=dE;break;default:c=Df}s=c.bind(null,n,s,t),c=void 0,!Ai||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,s,{capture:!0,passive:c}):t.addEventListener(n,s,!0):c!==void 0?t.addEventListener(n,s,{passive:c}):t.addEventListener(n,s,!1)}function gf(t,n,s,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var T=l.stateNode.containerInfo;if(T===c)break;if(E===4)for(E=l.return;E!==null;){var M=E.tag;if((M===3||M===4)&&E.stateNode.containerInfo===c)return;E=E.return}for(;T!==null;){if(E=$n(T),E===null)return;if(M=E.tag,M===5||M===6||M===26||M===27){l=f=E;continue t}T=T.parentNode}}l=l.return}Js(function(){var Y=f,it=Ja(s),rt=[];t:{var K=dp.get(t);if(K!==void 0){var X=er,Dt=t;switch(t){case"keypress":if(Ws(s)===0)break t;case"keydown":case"keyup":X=Xr;break;case"focusin":Dt="focus",X=Qr;break;case"focusout":Dt="blur",X=Qr;break;case"beforeblur":case"afterblur":X=Qr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=ar;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Do;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=rs;break;case up:case cp:case hp:X=tl;break;case fp:X=m;break;case"scroll":case"scrollend":X=ir;break;case"wheel":X=x;break;case"copy":case"cut":case"paste":X=Io;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=il;break;case"toggle":case"beforetoggle":X=Z}var Rt=(n&4)!==0,ie=!Rt&&(t==="scroll"||t==="scrollend"),U=Rt?K!==null?K+"Capture":null:K;Rt=[];for(var k=Y,H;k!==null;){var st=k;if(H=st.stateNode,st=st.tag,st!==5&&st!==26&&st!==27||H===null||U===null||(st=is(k,U),st!=null&&Rt.push(kl(k,st,H))),ie)break;k=k.return}0<Rt.length&&(K=new X(K,Dt,null,s,it),rt.push({event:K,listeners:Rt}))}}if((n&7)===0){t:{if(K=t==="mouseover"||t==="pointerover",X=t==="mouseout"||t==="pointerout",K&&s!==Za&&(Dt=s.relatedTarget||s.fromElement)&&($n(Dt)||Dt[Ti]))break t;if((X||K)&&(K=it.window===it?it:(K=it.ownerDocument)?K.defaultView||K.parentWindow:window,X?(Dt=s.relatedTarget||s.toElement,X=Y,Dt=Dt?$n(Dt):null,Dt!==null&&(ie=h(Dt),Rt=Dt.tag,Dt!==ie||Rt!==5&&Rt!==27&&Rt!==6)&&(Dt=null)):(X=null,Dt=Y),X!==Dt)){if(Rt=ar,st="onMouseLeave",U="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(Rt=il,st="onPointerLeave",U="onPointerEnter",k="pointer"),ie=X==null?K:Zi(X),H=Dt==null?K:Zi(Dt),K=new Rt(st,k+"leave",X,s,it),K.target=ie,K.relatedTarget=H,st=null,$n(it)===Y&&(Rt=new Rt(U,k+"enter",Dt,s,it),Rt.target=H,Rt.relatedTarget=ie,st=Rt),ie=st,X&&Dt)e:{for(Rt=X,U=Dt,k=0,H=Rt;H;H=Ea(H))k++;for(H=0,st=U;st;st=Ea(st))H++;for(;0<k-H;)Rt=Ea(Rt),k--;for(;0<H-k;)U=Ea(U),H--;for(;k--;){if(Rt===U||U!==null&&Rt===U.alternate)break e;Rt=Ea(Rt),U=Ea(U)}Rt=null}else Rt=null;X!==null&&Vg(rt,K,X,Rt,!1),Dt!==null&&ie!==null&&Vg(rt,ie,Dt,Rt,!0)}}t:{if(K=Y?Zi(Y):window,X=K.nodeName&&K.nodeName.toLowerCase(),X==="select"||X==="input"&&K.type==="file")var Tt=Jd;else if($d(K))if(Wd)Tt=J0;else{Tt=$0;var Pt=X0}else X=K.nodeName,!X||X.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?Y&&Hr(Y.elementType)&&(Tt=Jd):Tt=Z0;if(Tt&&(Tt=Tt(t,Y))){Zd(rt,Tt,s,it);break t}Pt&&Pt(t,K,Y),t==="focusout"&&Y&&K.type==="number"&&Y.memoizedProps.value!=null&&Ka(K,"number",K.value)}switch(Pt=Y?Zi(Y):window,t){case"focusin":($d(Pt)||Pt.contentEditable==="true")&&($r=Pt,Qc=Y,ol=null);break;case"focusout":ol=Qc=$r=null;break;case"mousedown":Yc=!0;break;case"contextmenu":case"mouseup":case"dragend":Yc=!1,lp(rt,s,it);break;case"selectionchange":if(t1)break;case"keydown":case"keyup":lp(rt,s,it)}var St;if(Mt)t:{switch(t){case"compositionstart":var wt="onCompositionStart";break t;case"compositionend":wt="onCompositionEnd";break t;case"compositionupdate":wt="onCompositionUpdate";break t}wt=void 0}else qn?zn(t,s)&&(wt="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(wt="onCompositionStart");wt&&(ve&&s.locale!=="ko"&&(qn||wt!=="onCompositionStart"?wt==="onCompositionEnd"&&qn&&(St=Co()):(xn=it,re="value"in xn?xn.value:xn.textContent,qn=!0)),Pt=bu(Y,wt),0<Pt.length&&(wt=new nl(wt,t,null,s,it),rt.push({event:wt,listeners:Pt}),St?wt.data=St:(St=Bn(s),St!==null&&(wt.data=St)))),(St=Zt?sl(t,s):Q0(t,s))&&(wt=bu(Y,"onBeforeInput"),0<wt.length&&(Pt=new nl("onBeforeInput","beforeinput",null,s,it),rt.push({event:Pt,listeners:wt}),Pt.data=St)),k1(rt,t,Y,s,it)}Ig(rt,n)})}function kl(t,n,s){return{instance:t,listener:n,currentTarget:s}}function bu(t,n){for(var s=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=is(t,s),c!=null&&l.unshift(kl(t,c,f)),c=is(t,n),c!=null&&l.push(kl(t,c,f))),t.tag===3)return l;t=t.return}return[]}function Ea(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Vg(t,n,s,l,c){for(var f=n._reactName,E=[];s!==null&&s!==l;){var T=s,M=T.alternate,Y=T.stateNode;if(T=T.tag,M!==null&&M===l)break;T!==5&&T!==26&&T!==27||Y===null||(M=Y,c?(Y=is(s,f),Y!=null&&E.unshift(kl(s,Y,M))):c||(Y=is(s,f),Y!=null&&E.push(kl(s,Y,M)))),s=s.return}E.length!==0&&t.push({event:n,listeners:E})}var z1=/\r\n?/g,B1=/\u0000|\uFFFD/g;function Og(t){return(typeof t=="string"?t:""+t).replace(z1,`
`).replace(B1,"")}function jg(t,n){return n=Og(n),Og(t)===n}function Su(){}function ne(t,n,s,l,c,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Sn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Sn(t,""+l);break;case"className":Ys(t,"class",l);break;case"tabIndex":Ys(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ys(t,s,l);break;case"style":$a(t,l,f);break;case"data":if(n!=="object"){Ys(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Ln(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&ne(t,n,"name",c.name,c,null),ne(t,n,"formEncType",c.formEncType,c,null),ne(t,n,"formMethod",c.formMethod,c,null),ne(t,n,"formTarget",c.formTarget,c,null)):(ne(t,n,"encType",c.encType,c,null),ne(t,n,"method",c.method,c,null),ne(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Ln(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=Su);break;case"onScroll":l!=null&&zt("scroll",t);break;case"onScrollEnd":l!=null&&zt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Ln(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":zt("beforetoggle",t),zt("toggle",t),Qs(t,"popover",l);break;case"xlinkActuate":bn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":bn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":bn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":bn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":bn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":bn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":bn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":bn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":bn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Qs(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Ao.get(s)||s,Qs(t,s,l))}}function yf(t,n,s,l,c,f){switch(s){case"style":$a(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?Sn(t,l):(typeof l=="number"||typeof l=="bigint")&&Sn(t,""+l);break;case"onScroll":l!=null&&zt("scroll",t);break;case"onScrollEnd":l!=null&&zt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Su);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fs.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),f=t[ze]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,c);break t}s in t?t[s]=l:l===!0?t.setAttribute(s,""):Qs(t,s,l)}}}function He(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":zt("error",t),zt("load",t);var l=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var E=s[f];if(E!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ne(t,n,f,E,s,null)}}c&&ne(t,n,"srcSet",s.srcSet,s,null),l&&ne(t,n,"src",s.src,s,null);return;case"input":zt("invalid",t);var T=f=E=c=null,M=null,Y=null;for(l in s)if(s.hasOwnProperty(l)){var it=s[l];if(it!=null)switch(l){case"name":c=it;break;case"type":E=it;break;case"checked":M=it;break;case"defaultChecked":Y=it;break;case"value":f=it;break;case"defaultValue":T=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(a(137,n));break;default:ne(t,n,l,it,s,null)}}Ya(t,f,T,M,Y,E,c,!1),ts(t);return;case"select":zt("invalid",t),l=E=f=null;for(c in s)if(s.hasOwnProperty(c)&&(T=s[c],T!=null))switch(c){case"value":f=T;break;case"defaultValue":E=T;break;case"multiple":l=T;default:ne(t,n,c,T,s,null)}n=f,s=E,t.multiple=!!l,n!=null?es(t,!!l,n,!1):s!=null&&es(t,!!l,s,!0);return;case"textarea":zt("invalid",t),f=c=l=null;for(E in s)if(s.hasOwnProperty(E)&&(T=s[E],T!=null))switch(E){case"value":l=T;break;case"defaultValue":c=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:ne(t,n,E,T,s,null)}xo(t,l,c,f),ts(t);return;case"option":for(M in s)if(s.hasOwnProperty(M)&&(l=s[M],l!=null))switch(M){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ne(t,n,M,l,s,null)}return;case"dialog":zt("beforetoggle",t),zt("toggle",t),zt("cancel",t),zt("close",t);break;case"iframe":case"object":zt("load",t);break;case"video":case"audio":for(l=0;l<jl.length;l++)zt(jl[l],t);break;case"image":zt("error",t),zt("load",t);break;case"details":zt("toggle",t);break;case"embed":case"source":case"link":zt("error",t),zt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in s)if(s.hasOwnProperty(Y)&&(l=s[Y],l!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ne(t,n,Y,l,s,null)}return;default:if(Hr(n)){for(it in s)s.hasOwnProperty(it)&&(l=s[it],l!==void 0&&yf(t,n,it,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&ne(t,n,T,l,s,null))}function q1(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,E=null,T=null,M=null,Y=null,it=null;for(X in s){var rt=s[X];if(s.hasOwnProperty(X)&&rt!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":M=rt;default:l.hasOwnProperty(X)||ne(t,n,X,null,l,rt)}}for(var K in l){var X=l[K];if(rt=s[K],l.hasOwnProperty(K)&&(X!=null||rt!=null))switch(K){case"type":f=X;break;case"name":c=X;break;case"checked":Y=X;break;case"defaultChecked":it=X;break;case"value":E=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(a(137,n));break;default:X!==rt&&ne(t,n,K,X,l,rt)}}Qa(t,E,T,M,Y,it,f,c);return;case"select":X=E=T=K=null;for(f in s)if(M=s[f],s.hasOwnProperty(f)&&M!=null)switch(f){case"value":break;case"multiple":X=M;default:l.hasOwnProperty(f)||ne(t,n,f,null,l,M)}for(c in l)if(f=l[c],M=s[c],l.hasOwnProperty(c)&&(f!=null||M!=null))switch(c){case"value":K=f;break;case"defaultValue":T=f;break;case"multiple":E=f;default:f!==M&&ne(t,n,c,f,l,M)}n=T,s=E,l=X,K!=null?es(t,!!s,K,!1):!!l!=!!s&&(n!=null?es(t,!!s,n,!0):es(t,!!s,s?[]:"",!1));return;case"textarea":X=K=null;for(T in s)if(c=s[T],s.hasOwnProperty(T)&&c!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ne(t,n,T,null,l,c)}for(E in l)if(c=l[E],f=s[E],l.hasOwnProperty(E)&&(c!=null||f!=null))switch(E){case"value":K=c;break;case"defaultValue":X=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&ne(t,n,E,c,l,f)}So(t,K,X);return;case"option":for(var Dt in s)if(K=s[Dt],s.hasOwnProperty(Dt)&&K!=null&&!l.hasOwnProperty(Dt))switch(Dt){case"selected":t.selected=!1;break;default:ne(t,n,Dt,null,l,K)}for(M in l)if(K=l[M],X=s[M],l.hasOwnProperty(M)&&K!==X&&(K!=null||X!=null))switch(M){case"selected":t.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:ne(t,n,M,K,l,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Rt in s)K=s[Rt],s.hasOwnProperty(Rt)&&K!=null&&!l.hasOwnProperty(Rt)&&ne(t,n,Rt,null,l,K);for(Y in l)if(K=l[Y],X=s[Y],l.hasOwnProperty(Y)&&K!==X&&(K!=null||X!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,n));break;default:ne(t,n,Y,K,l,X)}return;default:if(Hr(n)){for(var ie in s)K=s[ie],s.hasOwnProperty(ie)&&K!==void 0&&!l.hasOwnProperty(ie)&&yf(t,n,ie,void 0,l,K);for(it in l)K=l[it],X=s[it],!l.hasOwnProperty(it)||K===X||K===void 0&&X===void 0||yf(t,n,it,K,l,X);return}}for(var U in s)K=s[U],s.hasOwnProperty(U)&&K!=null&&!l.hasOwnProperty(U)&&ne(t,n,U,null,l,K);for(rt in l)K=l[rt],X=s[rt],!l.hasOwnProperty(rt)||K===X||K==null&&X==null||ne(t,n,rt,K,l,X)}var _f=null,vf=null;function xu(t){return t.nodeType===9?t:t.ownerDocument}function kg(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Pg(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Ef(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Tf=null;function H1(){var t=window.event;return t&&t.type==="popstate"?t===Tf?!1:(Tf=t,!0):(Tf=null,!1)}var Ug=typeof setTimeout=="function"?setTimeout:void 0,F1=typeof clearTimeout=="function"?clearTimeout:void 0,Lg=typeof Promise=="function"?Promise:void 0,G1=typeof queueMicrotask=="function"?queueMicrotask:typeof Lg<"u"?function(t){return Lg.resolve(null).then(t).catch(Q1)}:Ug;function Q1(t){setTimeout(function(){throw t})}function Ts(t){return t==="head"}function zg(t,n){var s=n,l=0,c=0;do{var f=s.nextSibling;if(t.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"){if(0<l&&8>l){s=l;var E=t.ownerDocument;if(s&1&&Pl(E.documentElement),s&2&&Pl(E.body),s&4)for(s=E.head,Pl(s),E=s.firstChild;E;){var T=E.nextSibling,M=E.nodeName;E[$i]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&E.rel.toLowerCase()==="stylesheet"||s.removeChild(E),E=T}}if(c===0){t.removeChild(f),Gl(n);return}c--}else s==="$"||s==="$?"||s==="$!"?c++:l=s.charCodeAt(0)-48;else l=0;s=f}while(s);Gl(n)}function bf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":bf(s),Ur(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function Y1(t,n,s,l){for(;t.nodeType===1;){var c=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[$i])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Gn(t.nextSibling),t===null)break}return null}function K1(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Gn(t.nextSibling),t===null))return null;return t}function Sf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function X1(t,n){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Gn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var xf=null;function Bg(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return t;n--}else s==="/$"&&n++}t=t.previousSibling}return null}function qg(t,n,s){switch(n=xu(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Pl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ur(t)}var In=new Map,Hg=new Set;function Au(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Li=Q.d;Q.d={f:$1,r:Z1,D:J1,C:W1,L:tE,m:eE,X:iE,S:nE,M:sE};function $1(){var t=Li.f(),n=gu();return t||n}function Z1(t){var n=Zn(t);n!==null&&n.tag===5&&n.type==="form"?um(n):Li.r(t)}var Ta=typeof document>"u"?null:document;function Fg(t,n,s){var l=Ta;if(l&&typeof n=="string"&&n){var c=je(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),Hg.has(c)||(Hg.add(c),t={rel:t,crossOrigin:s,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),He(n,"link",t),_e(n),l.head.appendChild(n)))}}function J1(t){Li.D(t),Fg("dns-prefetch",t,null)}function W1(t,n){Li.C(t,n),Fg("preconnect",t,n)}function tE(t,n,s){Li.L(t,n,s);var l=Ta;if(l&&t&&n){var c='link[rel="preload"][as="'+je(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+je(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+je(s.imageSizes)+'"]')):c+='[href="'+je(t)+'"]';var f=c;switch(n){case"style":f=ba(t);break;case"script":f=Sa(t)}In.has(f)||(t=b({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),In.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Ul(f))||n==="script"&&l.querySelector(Ll(f))||(n=l.createElement("link"),He(n,"link",t),_e(n),l.head.appendChild(n)))}}function eE(t,n){Li.m(t,n);var s=Ta;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+je(l)+'"][href="'+je(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Sa(t)}if(!In.has(f)&&(t=b({rel:"modulepreload",href:t},n),In.set(f,t),s.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Ll(f)))return}l=s.createElement("link"),He(l,"link",t),_e(l),s.head.appendChild(l)}}}function nE(t,n,s){Li.S(t,n,s);var l=Ta;if(l&&t){var c=Ji(l).hoistableStyles,f=ba(t);n=n||"default";var E=c.get(f);if(!E){var T={loading:0,preload:null};if(E=l.querySelector(Ul(f)))T.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":n},s),(s=In.get(f))&&Af(t,s);var M=E=l.createElement("link");_e(M),He(M,"link",t),M._p=new Promise(function(Y,it){M.onload=Y,M.onerror=it}),M.addEventListener("load",function(){T.loading|=1}),M.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Ru(E,n,l)}E={type:"stylesheet",instance:E,count:1,state:T},c.set(f,E)}}}function iE(t,n){Li.X(t,n);var s=Ta;if(s&&t){var l=Ji(s).hoistableScripts,c=Sa(t),f=l.get(c);f||(f=s.querySelector(Ll(c)),f||(t=b({src:t,async:!0},n),(n=In.get(c))&&Rf(t,n),f=s.createElement("script"),_e(f),He(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function sE(t,n){Li.M(t,n);var s=Ta;if(s&&t){var l=Ji(s).hoistableScripts,c=Sa(t),f=l.get(c);f||(f=s.querySelector(Ll(c)),f||(t=b({src:t,async:!0,type:"module"},n),(n=In.get(c))&&Rf(t,n),f=s.createElement("script"),_e(f),He(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Gg(t,n,s,l){var c=(c=ct.current)?Au(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=ba(s.href),s=Ji(c).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=ba(s.href);var f=Ji(c).hoistableStyles,E=f.get(t);if(E||(c=c.ownerDocument||c,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,E),(f=c.querySelector(Ul(t)))&&!f._p&&(E.instance=f,E.state.loading=5),In.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},In.set(t,s),f||rE(c,t,s,E.state))),n&&l===null)throw Error(a(528,""));return E}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Sa(s),s=Ji(c).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function ba(t){return'href="'+je(t)+'"'}function Ul(t){return'link[rel="stylesheet"]['+t+"]"}function Qg(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function rE(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),He(n,"link",s),_e(n),t.head.appendChild(n))}function Sa(t){return'[src="'+je(t)+'"]'}function Ll(t){return"script[async]"+t}function Yg(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+je(s.href)+'"]');if(l)return n.instance=l,_e(l),l;var c=b({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),_e(l),He(l,"style",c),Ru(l,s.precedence,t),n.instance=l;case"stylesheet":c=ba(s.href);var f=t.querySelector(Ul(c));if(f)return n.state.loading|=4,n.instance=f,_e(f),f;l=Qg(s),(c=In.get(c))&&Af(l,c),f=(t.ownerDocument||t).createElement("link"),_e(f);var E=f;return E._p=new Promise(function(T,M){E.onload=T,E.onerror=M}),He(f,"link",l),n.state.loading|=4,Ru(f,s.precedence,t),n.instance=f;case"script":return f=Sa(s.src),(c=t.querySelector(Ll(f)))?(n.instance=c,_e(c),c):(l=s,(c=In.get(f))&&(l=b({},s),Rf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),_e(c),He(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Ru(l,s.precedence,t));return n.instance}function Ru(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,E=0;E<l.length;E++){var T=l[E];if(T.dataset.precedence===n)f=T;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function Af(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Rf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var wu=null;function Kg(t,n,s){if(wu===null){var l=new Map,c=wu=new Map;c.set(s,l)}else c=wu,l=c.get(s),l||(l=new Map,c.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),c=0;c<s.length;c++){var f=s[c];if(!(f[$i]||f[ye]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var E=f.getAttribute(n)||"";E=t+E;var T=l.get(E);T?T.push(f):l.set(E,[f])}}return l}function Xg(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function aE(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function $g(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var zl=null;function lE(){}function oE(t,n,s){if(zl===null)throw Error(a(475));var l=zl;if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=ba(s.href),f=t.querySelector(Ul(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Cu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,_e(f);return}f=t.ownerDocument||t,s=Qg(s),(c=In.get(c))&&Af(s,c),f=f.createElement("link"),_e(f);var E=f;E._p=new Promise(function(T,M){E.onload=T,E.onerror=M}),He(f,"link",s),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Cu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function uE(){if(zl===null)throw Error(a(475));var t=zl;return t.stylesheets&&t.count===0&&wf(t,t.stylesheets),0<t.count?function(n){var s=setTimeout(function(){if(t.stylesheets&&wf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(s)}}:null}function Cu(){if(this.count--,this.count===0){if(this.stylesheets)wf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Du=null;function wf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Du=new Map,n.forEach(cE,t),Du=null,Cu.call(t))}function cE(t,n){if(!(n.state.loading&4)){var s=Du.get(t);if(s)var l=s.get(null);else{s=new Map,Du.set(t,s);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var E=c[f];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(s.set(E.dataset.precedence,E),l=E)}l&&s.set(null,l)}c=n.instance,E=c.getAttribute("data-precedence"),f=s.get(E)||l,f===l&&s.set(null,c),s.set(E,c),this.count++,l=Cu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Bl={$$typeof:ft,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function hE(t,n,s,l,c,f,E,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pr(0),this.hiddenUpdates=Pr(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Zg(t,n,s,l,c,f,E,T,M,Y,it,rt){return t=new hE(t,n,s,E,T,M,Y,rt),n=1,f===!0&&(n|=24),f=pn(3,null,null,n),t.current=f,f.stateNode=t,n=lh(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},hh(f),t}function Jg(t){return t?(t=ta,t):ta}function Wg(t,n,s,l,c,f){c=Jg(c),l.context===null?l.context=c:l.pendingContext=c,l=os(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=us(t,l,n),s!==null&&(vn(s,t,n),yl(s,t,n))}function ty(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Cf(t,n){ty(t,n),(t=t.alternate)&&ty(t,n)}function ey(t){if(t.tag===13){var n=Wr(t,67108864);n!==null&&vn(n,t,67108864),Cf(t,67108864)}}var Nu=!0;function fE(t,n,s,l){var c=O.T;O.T=null;var f=Q.p;try{Q.p=2,Df(t,n,s,l)}finally{Q.p=f,O.T=c}}function dE(t,n,s,l){var c=O.T;O.T=null;var f=Q.p;try{Q.p=8,Df(t,n,s,l)}finally{Q.p=f,O.T=c}}function Df(t,n,s,l){if(Nu){var c=Nf(l);if(c===null)gf(t,n,l,Iu,s),iy(t,l);else if(mE(c,t,n,s,l))l.stopPropagation();else if(iy(t,l),n&4&&-1<pE.indexOf(t)){for(;c!==null;){var f=Zn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var E=kn(f.pendingLanes);if(E!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;E;){var M=1<<31-nn(E);T.entanglements[1]|=M,E&=~M}li(f),(Jt&6)===0&&(pu=Ye()+500,Ol(0))}}break;case 13:T=Wr(f,2),T!==null&&vn(T,f,2),gu(),Cf(f,2)}if(f=Nf(l),f===null&&gf(t,n,l,Iu,s),f===c)break;c=f}c!==null&&l.stopPropagation()}else gf(t,n,l,null,s)}}function Nf(t){return t=Ja(t),If(t)}var Iu=null;function If(t){if(Iu=null,t=$n(t),t!==null){var n=h(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Iu=t,null}function ny(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_o()){case we:return 2;case Oe:return 8;case vi:case jc:return 32;case qa:return 268435456;default:return 32}default:return 32}}var Mf=!1,bs=null,Ss=null,xs=null,ql=new Map,Hl=new Map,As=[],pE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function iy(t,n){switch(t){case"focusin":case"focusout":bs=null;break;case"dragenter":case"dragleave":Ss=null;break;case"mouseover":case"mouseout":xs=null;break;case"pointerover":case"pointerout":ql.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(n.pointerId)}}function Fl(t,n,s,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Zn(n),n!==null&&ey(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function mE(t,n,s,l,c){switch(n){case"focusin":return bs=Fl(bs,t,n,s,l,c),!0;case"dragenter":return Ss=Fl(Ss,t,n,s,l,c),!0;case"mouseover":return xs=Fl(xs,t,n,s,l,c),!0;case"pointerover":var f=c.pointerId;return ql.set(f,Fl(ql.get(f)||null,t,n,s,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Hl.set(f,Fl(Hl.get(f)||null,t,n,s,l,c)),!0}return!1}function sy(t){var n=$n(t.target);if(n!==null){var s=h(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,Uc(t.priority,function(){if(s.tag===13){var l=_n();l=Fa(l);var c=Wr(s,l);c!==null&&vn(c,s,l),Cf(s,l)}});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Mu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=Nf(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);Za=l,s.target.dispatchEvent(l),Za=null}else return n=Zn(s),n!==null&&ey(n),t.blockedOn=s,!1;n.shift()}return!0}function ry(t,n,s){Mu(t)&&s.delete(n)}function gE(){Mf=!1,bs!==null&&Mu(bs)&&(bs=null),Ss!==null&&Mu(Ss)&&(Ss=null),xs!==null&&Mu(xs)&&(xs=null),ql.forEach(ry),Hl.forEach(ry)}function Vu(t,n){t.blockedOn===n&&(t.blockedOn=null,Mf||(Mf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,gE)))}var Ou=null;function ay(t){Ou!==t&&(Ou=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ou===t&&(Ou=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(If(l||s)===null)continue;break}var f=Zn(s);f!==null&&(t.splice(n,3),n-=3,Nh(f,{pending:!0,data:c,method:s.method,action:l},l,c))}}))}function Gl(t){function n(M){return Vu(M,t)}bs!==null&&Vu(bs,t),Ss!==null&&Vu(Ss,t),xs!==null&&Vu(xs,t),ql.forEach(n),Hl.forEach(n);for(var s=0;s<As.length;s++){var l=As[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<As.length&&(s=As[0],s.blockedOn===null);)sy(s),s.blockedOn===null&&As.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var c=s[l],f=s[l+1],E=c[ze]||null;if(typeof f=="function")E||ay(s);else if(E){var T=null;if(f&&f.hasAttribute("formAction")){if(c=f,E=f[ze]||null)T=E.formAction;else if(If(c)!==null)continue}else T=E.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),ay(s)}}}function Vf(t){this._internalRoot=t}ju.prototype.render=Vf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=_n();Wg(s,l,t,n,null,null)},ju.prototype.unmount=Vf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Wg(t.current,2,null,t,null,null),gu(),n[Ti]=null}};function ju(t){this._internalRoot=t}ju.prototype.unstable_scheduleHydration=function(t){if(t){var n=Ei();t={blockedOn:null,target:t,priority:n};for(var s=0;s<As.length&&n!==0&&n<As[s].priority;s++);As.splice(s,0,t),s===0&&sy(t)}};var ly=e.version;if(ly!=="19.1.1")throw Error(a(527,ly,"19.1.1"));Q.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=y(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var yE={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ku.isDisabled&&ku.supportsFiber)try{Fi=ku.inject(yE),Ke=ku}catch{}}return Yl.createRoot=function(t,n){if(!o(t))throw Error(a(299));var s=!1,l="",c=Sm,f=xm,E=Am,T=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(E=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=Zg(t,1,!1,null,null,s,l,c,f,E,T,null),t[Ti]=n.current,mf(t),new Vf(n)},Yl.hydrateRoot=function(t,n,s){if(!o(t))throw Error(a(299));var l=!1,c="",f=Sm,E=xm,T=Am,M=null,Y=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(E=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(M=s.unstable_transitionCallbacks),s.formState!==void 0&&(Y=s.formState)),n=Zg(t,1,!0,n,s??null,l,c,f,E,T,M,Y),n.context=Jg(null),s=n.current,l=_n(),l=Fa(l),c=os(l),c.callback=null,us(s,c,l),s=l,n.current.lanes=s,ge(n,s),li(n),t[Ti]=n.current,mf(t),new ju(n)},Yl.version="19.1.1",Yl}var yy;function wE(){if(yy)return kf.exports;yy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),kf.exports=RE(),kf.exports}var CE=wE();const DE="modulepreload",NE=function(r){return"/CRM_VER.4/"+r},_y={},IE=function(e,i,a){let o=Promise.resolve();if(i&&i.length>0){let v=function(b){return Promise.all(b.map(I=>Promise.resolve(I).then(V=>({status:"fulfilled",value:V}),V=>({status:"rejected",reason:V}))))};var d=v;document.getElementsByTagName("link");const g=document.querySelector("meta[property=csp-nonce]"),y=g?.nonce||g?.getAttribute("nonce");o=v(i.map(b=>{if(b=NE(b),b in _y)return;_y[b]=!0;const I=b.endsWith(".css"),V=I?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${b}"]${V}`))return;const q=document.createElement("link");if(q.rel=I?"stylesheet":DE,I||(q.as="script"),q.crossOrigin="",q.href=b,y&&q.setAttribute("nonce",y),document.head.appendChild(q),I)return new Promise((G,ot)=>{q.addEventListener("load",G),q.addEventListener("error",()=>ot(new Error(`Unable to preload CSS for ${b}`)))})}))}function h(g){const y=new Event("vite:preloadError",{cancelable:!0});if(y.payload=g,window.dispatchEvent(y),!y.defaultPrevented)throw g}return o.then(g=>{for(const y of g||[])y.status==="rejected"&&h(y.reason);return e().catch(h)})},vy=["네이버광고","블로그","워킹","지인소개","기존고객","기타"],Ey=["매매","월세","전세","상가","사무실","지식산업센터","아파트"],ME=["신규","진행중","장기관리고객","보류"],k_=["매물제안예정","매물제안중","미팅예정","접수후대기중"],Mn=["확인전","확인중","볼수있음","오늘못봄","계약됨"],VE=({activeFilter:r,onFilterChange:e,customers:i,meetings:a,activities:o,isMobileOpen:h,onMobileClose:d})=>{const[g,y]=vt.useState(!1),v=V=>{const q=new Date;return q.setHours(0,0,0,0),V==="전체"?i.length:V==="집중고객"?i.filter(G=>G.isFavorite).length:V==="장기관리고객"?i.filter(G=>G.status==="장기관리고객").length:V==="오늘미팅"?i.filter(G=>a.filter($=>$.customerId===G.id).some($=>{const tt=new Date($.date);return tt.setHours(0,0,0,0),tt.getTime()===q.getTime()})).length:V==="미팅일확정"?i.filter(G=>a.filter($=>$.customerId===G.id).some($=>{const tt=new Date($.date);return tt.setHours(0,0,0,0),tt>q})).length:V==="오늘연락"?i.filter(G=>o.filter($=>$.customerId===G.id).some($=>{const tt=new Date($.date);return tt.setHours(0,0,0,0),tt.getTime()===q.getTime()})).length:V==="어제연락"?i.filter(G=>o.filter($=>$.customerId===G.id).some($=>{const tt=new Date($.date);tt.setHours(0,0,0,0);const ht=new Date(q);return ht.setDate(ht.getDate()-1),tt.getTime()===ht.getTime()})).length:V==="연락할고객"?i.filter(G=>{if(G.status==="보류")return!1;const ot=o.filter(ht=>ht.customerId===G.id),$=new Date(q),tt=new Date(q);return tt.setDate(tt.getDate()-1),!ot.some(ht=>{const ft=new Date(ht.date);return ft.setHours(0,0,0,0),ft.getTime()===$.getTime()||ft.getTime()===tt.getTime()})}).length:i.filter(G=>G.status===V).length},b=["전체","보류","신규","진행중","장기관리고객","집중고객","오늘미팅","미팅일확정","오늘연락","어제연락","연락할고객"],I=V=>{e(V),d()};return p.jsxs("aside",{className:`filter-sidebar ${g?"collapsed":""} ${h?"mobile-open":""}`,children:[p.jsxs("div",{className:"filter-header",children:[!g&&p.jsx("h4",{children:"필터"}),p.jsx("button",{onClick:()=>y(!g),className:"btn-close desktop-only",children:g?"☰":"✕"}),p.jsx("button",{onClick:d,className:"btn-close mobile-only",children:"✕"})]}),!g&&p.jsx("ul",{className:"filter-list",children:b.map(V=>p.jsxs("li",{className:`filter-item ${r===V?"active":""}`,onClick:()=>I(V),children:[p.jsx("span",{children:V}),p.jsx("span",{className:"count-badge",children:v(V)})]},V))})]})},OE=({customers:r,onSelectCustomer:e,onEdit:i,onDelete:a,selectedCustomerId:o,activeFilter:h,activeProgressFilter:d,onProgressFilterChange:g,allCustomers:y,onFavoriteCustomer:v})=>{const[b,I]=vt.useState(""),[V,q]=vt.useState({visible:!1,x:0,y:0,selectedCustomer:null}),[G,ot]=vt.useState({key:"createdAt",direction:"desc"}),$=vt.useMemo(()=>[...r.filter(Q=>Q.name.toLowerCase().includes(b.toLowerCase())||Q.phone.includes(b))].sort((Q,W)=>{if(Q.isFavorite&&!W.isFavorite)return-1;if(!Q.isFavorite&&W.isFavorite)return 1;const lt=Q[G.key],w=W[G.key];if(lt==null&&w==null)return 0;if(lt==null)return 1;if(w==null)return-1;if(G.key==="hopefulDeposit"||G.key==="hopefulMonthlyRent"){const P=Number(lt)||0,J=Number(w)||0;return G.direction==="asc"?P-J:J-P}const B=String(lt).toLowerCase(),et=String(w).toLowerCase();return B<et?G.direction==="asc"?-1:1:B>et?G.direction==="asc"?1:-1:0}),[r,b,G]),tt=(nt,O)=>{nt.preventDefault(),q({visible:!0,x:nt.pageX,y:nt.pageY,selectedCustomer:O})},ht=()=>{q({...V,visible:!1})},ft=()=>{V.selectedCustomer&&v(V.selectedCustomer),ht()},mt=nt=>y.filter(O=>(h==="전체"||O.status===h)&&O.progress===nt).length,gt=h==="신규"||h==="진행중",z=nt=>{ot(O=>({key:nt,direction:O.key===nt&&O.direction==="asc"?"desc":"asc"}))},D=nt=>G.key!==nt?" ↕":G.direction==="asc"?" ↑":" ↓",C=nt=>{switch(nt){case"매매":return"rgba(229, 57, 53, 0.12)";case"전세":return"rgba(67, 160, 71, 0.12)";case"월세":return"rgba(255, 179, 0, 0.12)";default:return"transparent"}},S=nt=>{if(!nt)return"";const O=new Date(nt),Q=O.getMonth()+1,W=O.getDate();return`${Q}월${W}일`},N=nt=>{const O=S(nt);return $.filter(Q=>S(Q.createdAt)===O).length},A=(nt,O)=>{if(O>0){const lt=$[O-1];if(S(nt.createdAt)===S(lt.createdAt))return 0}const Q=S(nt.createdAt);let W=1;for(let lt=O+1;lt<$.length&&S($[lt].createdAt)===Q;lt++)W++;return W},j=(nt,O)=>{let Q=0;for(let W=0;W<O;W++)(W===0||S($[W].createdAt)!==S($[W-1].createdAt))&&Q++;return Q},R=nt=>nt%2===0?"#fafafa":"#f0f4ff",xt=(nt,O)=>{if(O===0)return{};const Q=S(nt.createdAt);return S($[O-1].createdAt)!==Q?{borderTop:"12px solid white"}:{}};return p.jsxs("div",{className:"table-container",onClick:ht,children:[p.jsx("div",{style:{marginBottom:"15px"},children:p.jsx("input",{type:"text",placeholder:"고객명, 연락처 검색...",value:b,onChange:nt=>I(nt.target.value),style:{width:"100%",padding:"8px"}})}),p.jsxs("div",{style:{display:"flex",gap:"15px",marginBottom:"15px",fontSize:"13px",alignItems:"center"},children:[p.jsx("span",{style:{fontWeight:"bold",color:"#555"},children:"매물 종류:"}),p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[p.jsx("div",{style:{width:"20px",height:"20px",backgroundColor:"rgba(229, 57, 53, 0.12)",border:"1px solid rgba(229, 57, 53, 0.3)",borderRadius:"3px"}}),p.jsx("span",{children:"매매"})]}),p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[p.jsx("div",{style:{width:"20px",height:"20px",backgroundColor:"rgba(67, 160, 71, 0.12)",border:"1px solid rgba(67, 160, 71, 0.3)",borderRadius:"3px"}}),p.jsx("span",{children:"전세"})]}),p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[p.jsx("div",{style:{width:"20px",height:"20px",backgroundColor:"rgba(255, 179, 0, 0.12)",border:"1px solid rgba(255, 179, 0, 0.3)",borderRadius:"3px"}}),p.jsx("span",{children:"월세"})]})]}),gt&&p.jsxs("div",{className:"progress-tabs",style:{marginBottom:"15px"},children:[p.jsxs("button",{className:`progress-tab ${d?"":"active"}`,onClick:()=>g(null),children:["전체 (",y.filter(nt=>h==="전체"||nt.status===h).length,")"]}),k_.map(nt=>p.jsxs("button",{className:`progress-tab ${d===nt?"active":""} progress-${nt}`,onClick:()=>g(nt),children:[nt," (",mt(nt),")"]},nt))]}),p.jsxs("table",{className:"customer-table",children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsxs("th",{onClick:()=>z("createdAt"),style:{cursor:"pointer",userSelect:"none"},title:"클릭하여 정렬",children:["접수일",D("createdAt")]}),p.jsxs("th",{onClick:()=>z("name"),style:{cursor:"pointer",userSelect:"none"},title:"클릭하여 정렬",children:["고객명",D("name")]}),p.jsx("th",{children:"연락처"}),p.jsxs("th",{onClick:()=>z("moveInDate"),style:{cursor:"pointer",userSelect:"none"},title:"클릭하여 정렬",children:["입주희망일",D("moveInDate")]}),p.jsxs("th",{onClick:()=>z("hopefulDeposit"),style:{cursor:"pointer",userSelect:"none"},title:"클릭하여 정렬",children:["희망보증금",D("hopefulDeposit")]}),p.jsxs("th",{onClick:()=>z("hopefulMonthlyRent"),style:{cursor:"pointer",userSelect:"none"},title:"클릭하여 정렬",children:["희망월세",D("hopefulMonthlyRent")]}),p.jsx("th",{children:"금액 지역 상세정보"}),p.jsx("th",{children:"매물종류"})]})}),p.jsx("tbody",{children:$.map((nt,O)=>{const Q=A(nt,O),W=j(nt,O),lt=xt(nt,O);return p.jsxs("tr",{className:o===nt.id?"selected":"",onClick:()=>e(nt),onContextMenu:w=>tt(w,nt),style:{backgroundColor:nt.isFavorite?"rgba(156, 39, 176, 0.15)":C(nt.propertyType),borderLeft:nt.isFavorite?"3px solid #9C27B0":"none",boxShadow:nt.isFavorite?"0 2px 4px rgba(156, 39, 176, 0.3)":"none",...lt},children:[Q>0&&p.jsxs("td",{rowSpan:Q,style:{verticalAlign:"middle",textAlign:"center",backgroundColor:R(W),fontWeight:"500"},children:[S(nt.createdAt),"(",N(nt.createdAt),"명)"]}),p.jsxs("td",{className:"customer-name",title:nt.name,children:[nt.isFavorite&&p.jsx("span",{style:{marginRight:"6px",color:"#9C27B0"},children:"⭐"}),nt.name]}),p.jsx("td",{children:p.jsx("a",{href:`sms:${nt.phone}`,children:nt.phone})}),p.jsx("td",{children:nt.moveInDate}),p.jsx("td",{children:nt.hopefulDeposit?`${nt.hopefulDeposit}만원`:"-"}),p.jsx("td",{children:nt.hopefulMonthlyRent?`${nt.hopefulMonthlyRent}만원`:"-"}),p.jsx("td",{className:"preferred-area",title:nt.preferredArea,children:nt.preferredArea}),p.jsx("td",{children:nt.propertyType})]},nt.id)})})]}),V.visible&&p.jsx("div",{style:{top:V.y,left:V.x,position:"absolute",zIndex:100,background:"white",border:"1px solid #ccc",borderRadius:"5px",padding:"5px"},children:p.jsx("ul",{style:{listStyle:"none",margin:0,padding:"5px"},children:p.jsx("li",{style:{padding:"8px",cursor:"pointer"},onClick:ft,children:V.selectedCustomer?.isFavorite?"⭐ 즐겨찾기 취소":"☆ 즐겨찾기 추가"})})})]})},jE=r=>!r.name||r.name.trim()===""?(alert("고객명은 필수 입력 항목입니다."),!1):r.phone&&!kE(r.phone)?(alert("연락처는 010-xxxx-xxxx 형식으로 입력하세요."),!1):!0,kE=r=>r?/^010-\d{4}-\d{4}$/.test(r):!0,zi=()=>"_"+Math.random().toString(36).substr(2,9),P_=r=>{if(!r)return"";try{return new Date(r).toLocaleString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch(e){return console.error("Error formatting date-time:",r,e),""}},PE=({isOpen:r,onClose:e,onSave:i,editData:a})=>{const o=()=>({id:a?.id||null,name:a?.name||"",phone:a?.phone||"",source:a?.source||vy[0],propertyType:a?.propertyType||Ey[0],preferredArea:a?.preferredArea||"",hopefulDeposit:a?.hopefulDeposit||"",hopefulMonthlyRent:a?.hopefulMonthlyRent||"",moveInDate:a?.moveInDate||"",memo:a?.memo||"",status:a?.status||"신규",progress:a?.progress||"매물제안예정",createdAt:a?.createdAt||new Date().toISOString()}),[h,d]=vt.useState(o());if(vt.useEffect(()=>{d(o())},[a,r]),!r)return null;const g=b=>{const{name:I,value:V}=b.target;d(q=>({...q,[I]:V}))},y=b=>{let I=b.target.value.replace(/[^0-9]/g,"");I.length>3&&I.length<=7?I=`${I.slice(0,3)}-${I.slice(3)}`:I.length>7&&(I=`${I.slice(0,3)}-${I.slice(3,7)}-${I.slice(7,11)}`),d(V=>({...V,phone:I}))},v=()=>{const b={...h,id:h.id||zi(),hopefulDeposit:parseInt(h.hopefulDeposit,10)||0,hopefulMonthlyRent:parseInt(h.hopefulMonthlyRent,10)||0};jE(b)&&(i(b),e())};return p.jsx("div",{className:"modal-overlay",children:p.jsxs("div",{className:"modal-content",children:[p.jsxs("div",{className:"modal-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"15px",paddingBottom:"10px"},children:[p.jsx("h3",{children:a?"고객 수정":"고객 추가"}),p.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[p.jsx("label",{style:{fontSize:"14px",marginBottom:0},children:"경로"}),p.jsx("select",{name:"source",value:h.source,onChange:g,style:{fontSize:"14px"},children:vy.map(b=>p.jsx("option",{value:b,children:b},b))}),p.jsx("label",{style:{fontSize:"14px",marginBottom:0},children:"종류"}),p.jsx("select",{name:"propertyType",value:h.propertyType,onChange:g,style:{fontSize:"14px"},children:Ey.map(b=>p.jsx("option",{value:b,children:b},b))}),p.jsx("button",{onClick:e,className:"btn-close",children:"✕"})]})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"고객명 *"}),p.jsx("input",{type:"text",name:"name",value:h.name,onChange:g,placeholder:"성별 선호매물 특징",required:!0})]}),p.jsxs("div",{className:"form-grid",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"연락처"}),p.jsx("input",{type:"tel",name:"phone",value:h.phone,onChange:y,placeholder:"010-xxxx-xxxx"})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"입주희망일"}),p.jsx("input",{type:"date",name:"moveInDate",value:h.moveInDate,onChange:g})]})]}),p.jsxs("div",{className:"form-grid",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"희망보증금 (만원)"}),p.jsx("input",{type:"number",name:"hopefulDeposit",value:h.hopefulDeposit,onChange:g})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"희망월세 (만원)"}),p.jsx("input",{type:"number",name:"hopefulMonthlyRent",value:h.hopefulMonthlyRent,onChange:g})]})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"금액 지역 입주시기 상세정보"}),p.jsx("textarea",{name:"preferredArea",value:h.preferredArea,onChange:g,rows:"2"})]}),p.jsxs("div",{className:"modal-footer",children:[p.jsx("button",{onClick:e,className:"btn-secondary",children:"취소"}),p.jsx("button",{onClick:v,className:"btn-primary",children:"저장"})]})]})})},UE=({customer:r,onUpdateCustomer:e,activities:i=[],meetings:a=[],onTabChange:o})=>{const[h,d]=vt.useState(!1),[g,y]=vt.useState(r.preferredArea||""),[v,b]=vt.useState(!1),[I,V]=vt.useState(r.memo||"");if(!r)return null;vt.useEffect(()=>{y(r.preferredArea||""),d(!1),V(r.memo||""),b(!1)},[r.id]);const q=()=>{e({...r,preferredArea:g}),d(!1)},G=()=>{y(r.preferredArea||""),d(!1)},ot=()=>{e({...r,memo:I}),b(!1)},$=()=>{V(r.memo||""),b(!1)},tt=A=>{A.key==="Enter"&&A.ctrlKey?h?q():v&&ot():A.key==="Escape"&&(h?G():v&&$())},ht=i.filter(A=>A.customerId===r.id).sort((A,j)=>new Date(j.date)-new Date(A.date)),ft=a.filter(A=>A.customerId===r.id).sort((A,j)=>new Date(j.date)-new Date(A.date)),mt=ht.slice(0,3),gt=ft.slice(0,3),z=ft.find(A=>new Date(A.date)>new Date),D=A=>{const R=new Date().toISOString().slice(0,10);return A.slice(0,10)===R},C=()=>{if(!r.createdAt)return null;const A=new Date(r.createdAt),R=new Date-A;return Math.floor(R/(1e3*60*60*24))},S=()=>{if(ft.length===0)return null;const A=ft[0],j=new Date(A.date),R=new Date,xt=new Date(j.getFullYear(),j.getMonth(),j.getDate()),nt=new Date(R.getFullYear(),R.getMonth(),R.getDate()),O=xt-nt,Q=Math.floor(O/(1e3*60*60*24));return Q>0?{type:"upcoming",days:Q}:Q===0?{type:"today",days:0}:{type:"past",days:Math.abs(Q)}},N=(A,j=40)=>A?A.length>j?A.slice(0,j)+"...":A:"-";return p.jsxs("div",{className:"basic-info-container",children:[p.jsxs("div",{className:"info-section",children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px",marginBottom:"15px",flexWrap:"wrap"},children:[p.jsx("h4",{style:{margin:0},children:"기본 정보"}),p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[p.jsx("span",{style:{fontWeight:"bold",color:"#555",fontSize:"12px"},children:"고객명"}),p.jsx("p",{style:{margin:0,fontWeight:"bold",fontSize:"14px",color:"#2196F3"},children:r.name})]}),p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",fontSize:"13px"},children:[p.jsx("span",{style:{color:"#888"},children:"경로:"}),p.jsx("span",{style:{fontWeight:"bold"},children:r.source})]}),p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",fontSize:"13px"},children:[p.jsx("span",{style:{color:"#888"},children:"매물종류:"}),p.jsx("span",{style:{fontWeight:"bold"},children:r.propertyType})]})]}),p.jsxs("div",{className:"info-grid",children:[p.jsxs("div",{children:[p.jsx("span",{children:"연락처"}),p.jsx("p",{children:p.jsx("a",{href:`sms:${r.phone}`,style:{color:"#2196F3",textDecoration:"none",cursor:"pointer"},children:r.phone})})]}),p.jsxs("div",{children:[p.jsx("span",{children:"입주희망일"}),p.jsx("p",{children:r.moveInDate})]}),p.jsxs("div",{children:[p.jsx("span",{children:"희망보증금"}),p.jsx("p",{children:r.hopefulDeposit?`${r.hopefulDeposit}만원`:"-"})]}),p.jsxs("div",{children:[p.jsx("span",{children:"희망월세"}),p.jsx("p",{children:r.hopefulMonthlyRent?`${r.hopefulMonthlyRent}만원`:"-"})]})]})]}),p.jsxs("div",{className:"info-section",children:[p.jsx("h4",{children:"금액 지역 입주시기 상세정보"}),h?p.jsxs("div",{children:[p.jsx("textarea",{value:g,onChange:A=>y(A.target.value),onKeyDown:tt,placeholder:"금액, 지역, 입주시기 등 상세정보를 입력하세요... (Ctrl+Enter로 저장, Esc로 취소)",style:{width:"100%",minHeight:"80px",padding:"8px",border:"1px solid #ccc",borderRadius:"4px",fontFamily:"inherit",fontSize:"14px",resize:"vertical"},autoFocus:!0}),p.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"8px"},children:[p.jsx("button",{onClick:q,style:{padding:"6px 12px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"저장"}),p.jsx("button",{onClick:G,style:{padding:"6px 12px",backgroundColor:"#f44336",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"취소"})]})]}):p.jsx("p",{onClick:()=>d(!0),style:{cursor:"pointer",padding:"8px",borderRadius:"4px",backgroundColor:"#f5f5f5",minHeight:"40px",margin:0,whiteSpace:"pre-wrap",wordBreak:"break-word",transition:"background-color 0.2s"},onMouseEnter:A=>A.currentTarget.style.backgroundColor="#efefef",onMouseLeave:A=>A.currentTarget.style.backgroundColor="#f5f5f5",children:r.preferredArea||"(클릭하여 추가)"})]}),p.jsxs("div",{className:"info-section",children:[p.jsx("h4",{children:"메모"}),v?p.jsxs("div",{children:[p.jsx("textarea",{value:I,onChange:A=>V(A.target.value),onKeyDown:tt,placeholder:"메모를 입력하세요... (Ctrl+Enter로 저장, Esc로 취소)",style:{width:"100%",minHeight:"80px",padding:"8px",border:"1px solid #ccc",borderRadius:"4px",fontFamily:"inherit",fontSize:"14px",resize:"vertical"},autoFocus:!0}),p.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"8px"},children:[p.jsx("button",{onClick:ot,style:{padding:"6px 12px",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"저장"}),p.jsx("button",{onClick:$,style:{padding:"6px 12px",backgroundColor:"#f44336",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"취소"})]})]}):p.jsx("p",{onClick:()=>b(!0),style:{cursor:"pointer",padding:"8px",borderRadius:"4px",backgroundColor:"#f5f5f5",minHeight:"40px",margin:0,whiteSpace:"pre-wrap",wordBreak:"break-word",transition:"background-color 0.2s"},onMouseEnter:A=>A.currentTarget.style.backgroundColor="#efefef",onMouseLeave:A=>A.currentTarget.style.backgroundColor="#f5f5f5",children:I||"(클릭하여 추가)"})]}),p.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"15px",marginBottom:"20px",margin:"15px"},children:[p.jsxs("div",{onClick:()=>o&&o("활동 내역"),style:{border:"1px solid #e0e0e0",borderRadius:"8px",padding:"15px",backgroundColor:"#fff",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 4px rgba(0,0,0,0.05)",minHeight:"250px",display:"flex",flexDirection:"column"},onMouseEnter:A=>{A.currentTarget.style.boxShadow="0 4px 12px rgba(33, 150, 243, 0.15)",A.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:A=>{A.currentTarget.style.boxShadow="0 2px 4px rgba(0,0,0,0.05)",A.currentTarget.style.transform="translateY(0)"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"12px"},children:[p.jsx("span",{style:{fontSize:"20px"},children:"📊"}),p.jsx("h5",{style:{margin:0,color:"#2196F3",fontWeight:"bold"},children:"활동 내역"}),C()!==null&&p.jsxs("span",{style:{fontSize:"12px",color:"#fff",backgroundColor:"#9c27b0",padding:"2px 8px",borderRadius:"12px",fontWeight:"bold",marginLeft:"auto"},children:["+",C(),"일"]})]}),p.jsxs("div",{style:{fontSize:"13px",color:"#666",marginBottom:"10px"},children:["총 ",p.jsx("span",{style:{fontWeight:"bold",color:"#2196F3"},children:ht.length}),"건의 활동",ht.length>0&&p.jsxs("span",{style:{color:"#888",marginLeft:"8px"},children:["(최근: ",ht[0].date,")"]})]}),mt.length>0?p.jsx("div",{style:{fontSize:"12px",lineHeight:"1.6"},children:mt.map((A,j)=>{const R=D(A.date);return p.jsxs("div",{style:{padding:"6px 0",borderTop:j>0?"1px solid #f0f0f0":"none",color:R?"#d32f2f":"#555",fontWeight:R?"bold":"normal",backgroundColor:R?"rgba(211, 47, 47, 0.05)":"transparent",paddingLeft:R?"8px":"0px",borderRadius:R?"4px":"0px"},children:[p.jsx("span",{style:{color:R?"#d32f2f":"#999",marginRight:"4px"},children:A.date}),N(A.content,30)]},j)})}):p.jsx("div",{style:{fontSize:"12px",color:"#999",textAlign:"center",padding:"8px"},children:"활동이 없습니다"})]}),p.jsxs("div",{onClick:()=>o&&o("미팅 내역"),style:{border:"1px solid #e0e0e0",borderRadius:"8px",padding:"15px",backgroundColor:"#fff",cursor:"pointer",transition:"all 0.2s ease",boxShadow:"0 2px 4px rgba(0,0,0,0.05)",minHeight:"250px",display:"flex",flexDirection:"column"},onMouseEnter:A=>{A.currentTarget.style.boxShadow="0 4px 12px rgba(33, 150, 243, 0.15)",A.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:A=>{A.currentTarget.style.boxShadow="0 2px 4px rgba(0,0,0,0.05)",A.currentTarget.style.transform="translateY(0)"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"12px"},children:[p.jsx("span",{style:{fontSize:"20px"},children:"📅"}),p.jsx("h5",{style:{margin:0,color:"#2196F3",fontWeight:"bold"},children:"미팅 내역"}),S()&&p.jsxs("span",{style:{fontSize:"12px",color:"#fff",backgroundColor:"#9c27b0",padding:"2px 8px",borderRadius:"12px",fontWeight:"bold",marginLeft:"auto"},children:[S().type==="upcoming"&&`${S().days}일 남음`,S().type==="today"&&"오늘",S().type==="past"&&`+${S().days}일`]})]}),p.jsxs("div",{style:{fontSize:"13px",color:"#666",marginBottom:"10px"},children:["총 ",p.jsx("span",{style:{fontWeight:"bold",color:"#2196F3"},children:ft.length}),"건의 미팅",z&&p.jsxs("span",{style:{color:"#16a085",marginLeft:"8px",fontWeight:"bold"},children:["(다음: ",z.date.slice(0,10),")"]})]}),gt.length>0?p.jsx("div",{style:{fontSize:"12px",lineHeight:"1.6"},children:gt.map((A,j)=>{const R=D(A.date);return p.jsxs("div",{style:{padding:"6px 0",borderTop:j>0?"1px solid #f0f0f0":"none",color:R?"#d32f2f":"#555",fontWeight:R?"bold":"normal",backgroundColor:R?"rgba(211, 47, 47, 0.05)":"transparent",paddingLeft:R?"8px":"0px",borderRadius:R?"4px":"0px"},children:[p.jsx("span",{style:{color:R?"#d32f2f":"#999",marginRight:"4px"},children:A.date.slice(0,10)}),p.jsxs("span",{style:{color:R?"#d32f2f":"#2196F3",fontWeight:"bold"},children:[A.properties?.length||0,"개 매물"]})]},j)})}):p.jsx("div",{style:{fontSize:"12px",color:"#999",textAlign:"center",padding:"8px"},children:"미팅이 없습니다"})]})]})]})},LE=({customerId:r,activities:e,onSaveActivity:i,onDeleteActivity:a})=>{const[o,h]=vt.useState(!1),[d,g]=vt.useState(null),[y,v]=vt.useState(null),[b,I]=vt.useState({visible:!1,x:0,y:0,selectedActivity:null}),V=e.filter(S=>S.customerId===r).sort((S,N)=>new Date(N.date)-new Date(S.date)),q=S=>{i(S),h(!1),g(null)},G=(S,N)=>{S.preventDefault(),I({visible:!0,x:S.pageX,y:S.pageY,selectedActivity:N})},ot=()=>{I({...b,visible:!1})},$=()=>{b.selectedActivity&&g(b.selectedActivity),ot()},tt=()=>{b.selectedActivity&&a(b.selectedActivity.id),ot()},ht=S=>{if(!S)return"";if(S.includes(" ")){const N=S.split(" "),A=N[0].slice(5),j=N[1];return`${A} ${j}`}return S.length===10?S.slice(5,10):S},ft=S=>S.followUps&&S.followUps.length>0?[...S.followUps].sort((A,j)=>new Date(j.date)-new Date(A.date))[0].content:"",mt=S=>{const A=new Date().toISOString().slice(0,10);return S.slice(0,10)===A},gt=(S,N=50)=>S?S.length>N?S.slice(0,N)+"...":S:"-",z=({activity:S,onClose:N})=>{const[A,j]=vt.useState(S.followUps||[]),[R,xt]=vt.useState(null),[nt,O]=vt.useState(""),[Q,W]=vt.useState(null),lt=()=>{if(!nt.trim())return;const J={id:zi(),date:new Date().toISOString(),content:nt,createdAt:new Date().toISOString()},L=[...A,J],ct={...S,followUps:L};q(ct),j(L),O("")},w=J=>{J.key==="Enter"&&J.ctrlKey&&lt()},B=J=>{if(confirm("이 후속 기록을 삭제하시겠습니까?")){const L=A.filter(Et=>Et.id!==J),ct={...S,followUps:L};q(ct),j(L)}},et=(J,L)=>{const ct=A.map(_t=>_t.id===J?{..._t,content:L}:_t),Et={...S,followUps:ct};q(Et),j(ct),xt(null)},P=[...A].sort((J,L)=>new Date(L.date)-new Date(J.date));return p.jsx("div",{className:"modal-overlay",onClick:N,children:p.jsxs("div",{className:"modal-content",onClick:J=>J.stopPropagation(),style:{maxWidth:"700px"},children:[p.jsxs("div",{className:"modal-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[p.jsx("h3",{style:{margin:0},children:"활동 상세"}),p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px"},children:[p.jsx("span",{style:{fontSize:"16px",color:"#2c3e50",fontWeight:"500"},children:S.date}),p.jsx("button",{className:"btn-close",onClick:N,children:"×"})]})]}),p.jsxs("div",{style:{padding:"20px 0"},children:[p.jsx("div",{style:{marginBottom:"25px"},children:p.jsx("p",{style:{margin:0,fontSize:"16px",whiteSpace:"pre-line",lineHeight:"1.6",fontWeight:"bold"},children:S.content})}),p.jsxs("div",{style:{borderTop:"2px solid #e0e0e0",paddingTop:"20px",marginBottom:"25px"},children:[p.jsx("div",{style:{marginBottom:"15px"},children:p.jsxs("strong",{style:{color:"#7f8c8d",fontSize:"14px"},children:["📝 후속 기록 (",A.length,")"]})}),p.jsxs("div",{style:{background:"#fff",border:"1px solid #e0e0e0",borderRadius:"5px",padding:"10px",marginBottom:"15px"},children:[p.jsx("textarea",{value:nt,onChange:J=>O(J.target.value),onKeyDown:w,placeholder:"후속 기록을 입력하세요... (Ctrl+Enter로 입력)",style:{width:"100%",padding:"8px",minHeight:"60px",border:"none",outline:"none",resize:"vertical",fontFamily:"inherit"}}),p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"8px"},children:[p.jsxs("div",{style:{display:"flex",gap:"8px"},children:[p.jsx("button",{onClick:()=>O(J=>J?J+`
[나] `:"[나] "),style:{fontSize:"12px",padding:"6px 12px",backgroundColor:"#e3f2fd",color:"#2196F3",border:"1px solid #2196F3",borderRadius:"4px",cursor:"pointer",fontWeight:"bold"},children:"나"}),p.jsx("button",{onClick:()=>O(J=>J?J+`
[고객] `:"[고객] "),style:{fontSize:"12px",padding:"6px 12px",backgroundColor:"#f3e5f5",color:"#9c27b0",border:"1px solid #9c27b0",borderRadius:"4px",cursor:"pointer",fontWeight:"bold"},children:"고객"})]}),p.jsxs("div",{style:{display:"flex",gap:"8px"},children:[p.jsx("button",{onClick:lt,className:"btn-primary",style:{fontSize:"12px",padding:"6px 16px"},children:"입력"}),p.jsx("button",{onClick:()=>O(""),style:{fontSize:"12px",padding:"6px 16px",backgroundColor:"#f5f5f5",color:"#666",border:"1px solid #ccc",borderRadius:"4px",cursor:"pointer",fontWeight:"500"},children:"초기화"})]})]})]}),P.length>0?P.map(J=>p.jsxs("div",{style:{background:"#f8f9fa",padding:"12px",borderRadius:"5px",marginBottom:"10px",borderLeft:"3px solid var(--primary-blue)"},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[p.jsx("span",{style:{fontSize:"13px",color:"#7f8c8d"},children:P_(J.date)}),p.jsxs("div",{style:{display:"flex",gap:"5px"},children:[p.jsx("button",{onClick:()=>xt(J.id),style:{fontSize:"11px",padding:"3px 8px"},children:"수정"}),p.jsx("button",{onClick:()=>B(J.id),className:"btn-secondary",style:{fontSize:"11px",padding:"3px 8px"},children:"삭제"})]})]}),R===J.id?p.jsx("div",{children:p.jsx("textarea",{defaultValue:J.content,onBlur:L=>et(J.id,L.target.value),style:{width:"100%",padding:"8px",minHeight:"60px"},autoFocus:!0})}):p.jsx("p",{style:{margin:0,fontSize:"14px",whiteSpace:"pre-line",lineHeight:"1.5"},children:J.content})]},J.id)):p.jsx("p",{style:{textAlign:"center",color:"#999",padding:"20px"},children:"후속 기록이 없습니다."})]}),S.images&&S.images.length>0&&p.jsxs("div",{style:{borderTop:"2px solid #e0e0e0",paddingTop:"20px"},children:[p.jsxs("strong",{style:{color:"#7f8c8d",fontSize:"14px"},children:["첨부 이미지 (",S.images.length,")"]}),p.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gap:"10px",marginTop:"10px"},children:S.images.map((J,L)=>p.jsx("div",{style:{position:"relative"},children:p.jsx("img",{src:J.url,alt:`활동 이미지 ${L+1}`,style:{width:"100%",height:"150px",objectFit:"cover",borderRadius:"5px",cursor:"pointer",border:"1px solid #e0e0e0"},onClick:()=>W(J.url)})},L))})]}),Q&&p.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.9)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2e3},onClick:()=>W(null),children:[p.jsx("img",{src:Q,alt:"확대 이미지",style:{maxWidth:"90%",maxHeight:"90%",objectFit:"contain"},onClick:J=>J.stopPropagation()}),p.jsx("button",{onClick:()=>W(null),style:{position:"absolute",top:"20px",right:"20px",background:"white",border:"none",borderRadius:"50%",width:"40px",height:"40px",fontSize:"24px",cursor:"pointer",color:"#333"},children:"×"})]})]}),p.jsxs("div",{className:"modal-footer",style:{display:"flex",justifyContent:"space-between"},children:[p.jsx("button",{onClick:()=>{confirm("이 활동을 삭제하시겠습니까?")&&(a(S.id),N())},className:"btn-secondary",style:{backgroundColor:"#f44336"},children:"삭제"}),p.jsxs("div",{style:{display:"flex",gap:"10px"},children:[p.jsx("button",{onClick:N,className:"btn-secondary",children:"닫기"}),p.jsx("button",{onClick:()=>{g(S),N()},className:"btn-primary",children:"수정"})]})]})]})})},D=({activity:S,onCancel:N})=>{const A=()=>{if(S&&S.date)return S.date;const B=new Date,et=B.getFullYear(),P=String(B.getMonth()+1).padStart(2,"0"),J=String(B.getDate()).padStart(2,"0"),L=String(B.getHours()).padStart(2,"0"),ct=String(B.getMinutes()).padStart(2,"0");return`${et}-${P}-${J} ${L}:${ct}`},[j,R]=vt.useState(S||{date:A(),content:"",images:[]}),[xt,nt]=vt.useState(!1),O=B=>{const{name:et,value:P}=B.target;R(J=>({...J,[et]:P}))},Q=B=>new Promise((et,P)=>{const J=new FileReader;J.onload=()=>et(J.result),J.onerror=P,J.readAsDataURL(B)}),W=async B=>{const et=Array.from(B.target.files);if(et.length===0)return;nt(!0);const P=[];for(const J of et){if(!J.type.startsWith("image/")){alert("이미지 파일만 업로드 가능합니다.");continue}if(J.size>1024*1024){alert(`${J.name}은(는) 1MB보다 큽니다. 더 작은 이미지를 사용해주세요.`);continue}try{const L=await Q(J);P.push({url:L,name:J.name})}catch(L){console.error("이미지 변환 실패:",L),alert("이미지 처리에 실패했습니다.")}}R(J=>({...J,images:[...J.images||[],...P]})),nt(!1),B.target.value=""},lt=B=>{R(et=>({...et,images:et.images.filter((P,J)=>J!==B)}))},w=()=>{const B={...j,id:j.id||zi(),customerId:r,date:j.date};q(B)};return p.jsx("div",{className:"modal-overlay",onClick:N,children:p.jsxs("div",{className:"modal-content",onClick:B=>B.stopPropagation(),children:[p.jsxs("div",{className:"modal-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[p.jsx("h3",{style:{margin:0},children:"활동 기록"}),p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[p.jsx("input",{type:"text",name:"date",value:j.date,onChange:O,placeholder:"YYYY-MM-DD HH:mm",style:{padding:"6px 8px",fontSize:"14px",borderRadius:"4px",border:"1px solid #ccc",width:"160px"}}),p.jsx("button",{className:"btn-close",onClick:N,children:"×"})]})]}),p.jsxs("div",{className:"form-grid",children:[p.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1",display:"none"},children:[p.jsx("label",{children:"활동일 *"}),p.jsx("input",{type:"date",name:"date",value:j.date,onChange:O})]}),p.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[p.jsx("label",{children:"활동 내용 *"}),p.jsx("textarea",{name:"content",value:j.content,onChange:O,placeholder:`활동 내용을 자유롭게 입력하세요
예: 전화 통화, 매물 3개 제안함`})]}),p.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[p.jsx("label",{children:"이미지 첨부"}),p.jsx("input",{type:"file",accept:"image/png, image/jpeg, image/jpg",multiple:!0,onChange:W,disabled:xt}),xt&&p.jsx("p",{style:{fontSize:"12px",color:"#999",marginTop:"5px"},children:"업로드 중..."}),j.images&&j.images.length>0&&p.jsx("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap",marginTop:"10px"},children:j.images.map((B,et)=>p.jsxs("div",{style:{position:"relative",width:"100px",height:"100px"},children:[p.jsx("img",{src:B.url,alt:`첨부 ${et+1}`,style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"5px"}}),p.jsx("button",{type:"button",onClick:()=>lt(et),style:{position:"absolute",top:"-5px",right:"-5px",background:"red",color:"white",border:"none",borderRadius:"50%",width:"20px",height:"20px",fontSize:"12px",cursor:"pointer",padding:0},children:"×"})]},et))})]})]}),p.jsxs("div",{className:"modal-footer",children:[p.jsx("button",{onClick:N,className:"btn-secondary",children:"취소"}),p.jsx("button",{onClick:w,className:"btn-primary",disabled:xt,children:"저장"})]})]})})},C=y?V.find(S=>S.id===y.id):null;return p.jsxs("div",{className:"activity-tab",children:[p.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"20px"},children:!o&&!d&&p.jsx("button",{onClick:()=>h(!0),className:"btn-primary",style:{padding:"8px 16px",fontSize:"14px"},children:"+ 활동 추가"})}),o&&p.jsx(D,{onCancel:()=>h(!1)}),d?p.jsx(D,{activity:d,onCancel:()=>g(null)}):V.length>0?p.jsx("div",{onClick:ot,children:p.jsxs("table",{className:"customer-table",children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{style:{width:"80px"},children:"활동일"}),p.jsx("th",{style:{width:"360px"},children:"활동 내용"}),p.jsx("th",{style:{width:"720px"},children:"후속기록"})]})}),p.jsx("tbody",{children:V.map(S=>{const N=mt(S.date);return p.jsxs("tr",{onContextMenu:A=>G(A,S),style:{cursor:"context-menu",backgroundColor:N?"rgba(211, 47, 47, 0.08)":"transparent",color:N?"#d32f2f":"inherit",fontWeight:N?"bold":"normal"},children:[p.jsx("td",{style:{fontSize:"13px",color:N?"#d32f2f":"inherit"},children:ht(S.date)}),p.jsxs("td",{onClick:()=>v(S),style:{cursor:"pointer",fontSize:"13px",width:"360px",maxWidth:"360px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",color:N?"#d32f2f":"inherit"},title:S.content,children:[gt(S.content||"",30),S.followUps&&S.followUps.length>0&&p.jsxs("span",{style:{marginLeft:"8px",fontSize:"12px",color:N?"#d32f2f":"#7f8c8d"},children:["💬",S.followUps.length]}),S.images&&S.images.length>0&&p.jsxs("span",{style:{marginLeft:"8px",fontSize:"12px",color:N?"#d32f2f":"#7f8c8d"},children:["📷",S.images.length]})]}),p.jsx("td",{onClick:()=>v(S),style:{cursor:"pointer",fontSize:"13px",width:"720px",maxWidth:"720px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",color:N?"#d32f2f":"inherit"},title:ft(S),children:gt(ft(S),50)})]},S.id)})})]})}):p.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#999"},children:"등록된 활동이 없습니다."}),C&&p.jsx(z,{activity:C,onClose:()=>v(null)}),b.visible&&p.jsx("div",{style:{top:b.y,left:b.x,position:"absolute",zIndex:100,background:"white",border:"1px solid #ccc",borderRadius:"5px",padding:"5px"},children:p.jsxs("ul",{style:{listStyle:"none",margin:0,padding:"5px"},children:[p.jsx("li",{style:{padding:"8px",cursor:"pointer"},onClick:$,children:"수정"}),p.jsx("li",{style:{padding:"8px",cursor:"pointer"},onClick:tt,children:"삭제"}),p.jsx("li",{style:{padding:"8px",cursor:"pointer"},onClick:ot,children:"취소"})]})})]})},zE=r=>{if(!r)return"";const e=r.split(`
`).filter(i=>i.trim()!=="");return e.length>=2?e[1].trim():""},BE=r=>{if(!r)return"";const e=r.split(`
`).filter(i=>i.trim()!=="");return e.length>=7?e[6].trim():""},_d=r=>{if(!r)return"";const e=r.split(`
`);let i=-1;for(let a=0;a<e.length;a++)if(e[a].match(/공인중개사.*사무소|중개법인/)){i=a;break}if(i>=0&&i<e.length-1)for(let a=i+1;a<Math.min(i+10,e.length);a++){const o=e[a];if(o.match(/관리소|관리팀|관리사무소/i))continue;const h=/(전\s*화\s*번\s*호|전화번호)\s*([\d\-]+)/,d=o.match(h);if(d)return d[2].trim().split(",")[0].trim()}return""},qE=r=>{if(!r)return"";const e=r.split(`
`).filter(i=>i.trim()!=="");return e.length>0?e[0].trim():""},HE=r=>{if(!r)return"";const e=r.split(`
`);for(let i=0;i<e.length;i++)if(e[i].includes("중개사")&&i+1<e.length){const a=e[i+1].trim();if(a&&!a.includes("대표")&&!a.includes("등록"))return a}return""},FE=r=>{if(!r)return"";const e=/전화([\d\-,\s]+)(?:최근|$)/,i=r.match(e);if(i){const a=i[1].trim(),o=a.match(/(02[-\s]?\d{3,4}[-\s]?\d{4})/);if(o)return o[1].replace(/\s/g,"");const h=a.match(/(\d{2,3}[-\s]?\d{3,4}[-\s]?\d{4})/);if(h)return h[1].replace(/\s/g,"");const d=a.match(/(010[-\s]?\d{4}[-\s]?\d{4})/);if(d)return d[1].replace(/\s/g,"")}return""},Ca=(r,e="TEN")=>{if(!r)return{propertyName:"",agencyName:"",contactNumber:""};const i=r.split(`
`).filter(o=>o.trim()!=="");if(i.some(o=>o.includes("소재지:"))){let o="",h="",d="";for(const g of i)if(g.includes("소재지:")){const y=g.match(/소재지:\s*(.+?)\(/);y&&(o=y[1].trim())}else if(g.includes("부동산:"))h=g.replace("부동산:","").trim();else if(g.includes("연락처:")&&!g.match(/\b(팩스|fax|FAX|관리소|관리팀|관리사무소)\b/i)){const y=g.match(/연락처:\s*([\d\-]+)/);y&&(d=y[1].trim())}return{propertyName:o,agencyName:h,contactNumber:d}}else return e==="네이버부동산"?{propertyName:qE(r),agencyName:HE(r),contactNumber:FE(r)}:{propertyName:zE(r),agencyName:BE(r),contactNumber:_d(r)}},GE=r=>r.includes("계약/전용면적")||r.includes("해당층/총층")||r.includes("매물특징"),QE=r=>{let e="🏠 매물정보",i="";const a=r.split(`
`).filter(z=>z.trim());if(a.length>0){const D=a[0].trim().replace(/\s*\d+동\s*(저층|고층|중층)?.*$/,"").trim();D&&(i=`• 소재지: ${D}`)}let o="";const h=r.match(/(월세|전세|매매)(\d+)\/(\d+)|월세(\d+)/);if(h)if(h[1]==="월세"&&h[2]&&h[3]){const z=h[2],D=h[3];o=`• 임대료: ${z}/${D}`}else h[1]==="전세"&&h[2]?o=`• 임대료: ${h[2]}`:h[1]==="매매"&&h[2]&&(o=`• 임대료: ${h[2]}`);let d="";const g=r.match(/계약\/전용면적\s*([\d.]+)㎡\/([\d.]+)㎡/),y=r.match(/방수\/욕실수\s*(\d+)\/(\d+)/);if(g&&y){const z=parseFloat(g[1]),D=parseFloat(g[2]),C=Math.min(z,D),S=y[1],N=y[2],A=(C/3.3).toFixed(1);d=`• 구조정보: ${C}㎡ (전용${A}평)/방${S},욕실${N}`}let v="";const b=a[0]?.match(/(\d+)동/),I=r.match(/해당층\/총층\s*([^/]+)\/(\d+)층/);if(b&&I){const z=b[1],D=I[1].trim();v=`• 동/층: ${z}동/${D}`}let V="",q=[];const G=r.match(/매물특징\s*(.+?)(?=계약\/전용면적|해당층|방향|$)/);if(G){const z=G[1].trim();z&&q.push(z)}const ot=r.match(/방향\s*(.+?)(?=난방|$)/);if(ot){const z=ot[1].trim();z&&q.push(z)}const $=r.match(/입주가능일\s*(.+?)(?=총주차|$)/);if($){const z=$[1].trim();z&&q.push(z)}q.length>0&&(V=`• 특징: ${q.join(" | ")}`);let tt="",ht=r.match(/중개사\s*(.+?공인중개사사무소)/);ht||(ht=r.match(/중개[사법인]*\s*(.+?중개법인)/)),ht&&(tt=`• 부동산: ${ht[1].trim()}`);let ft="";const mt=_d(r);return mt&&(ft=`• 연락처: ${mt}`),[e,i,o,d,v,V,tt,ft].filter(z=>z!=="").join(`
`)},YE=r=>{let e="🏠 매물정보",i="";const a=r.match(/물\s*건\s*명\s*(.+?)(?=건축|$)/s),o=r.match(/소\s*재\s*지\s*(.+?)(?=공개여부|대\s*분|$)/);if(a&&o){const z=a[1].trim().split(`
`)[0].trim(),D=o[1].trim().split(/\s+/)[0];i=`• 소재지: ${z}(${D})`}else a&&(i=`• 소재지: ${a[1].trim().split(`
`)[0].trim()}`);let h="",d=r.match(/현\s*보\s*증\s*금\s*([0-9,]+)/),g=r.match(/현\s*월\s*세\s*([0-9,]+)/);if(d||(d=r.match(/보\s*증\s*금\s*([0-9,]+)/)),g||(g=r.match(/월\s*세\s*([0-9,]+)/)),d&&g){const z=d[1].trim(),D=g[1].trim();h=`• 임대료: ${z}/${D}`}let y="";const v=r.match(/전용면적[\s(]*([0-9.]+)[\s)]*[\s]*([0-9.]*)/);let b=null;if(v){const z=parseFloat(v[1]);if(v[2]&&v[2].trim()){const D=parseFloat(v[2].trim());b=Math.min(z,D)}else b=z}const I=r.match(/방\s*수\s*(\d+)/),V=r.match(/욕\s*실\s*수\s*(\d+)/);if(b!==null){const z=I?I[1].trim():"0",D=V?V[1].trim():"0",C=(b/3.3).toFixed(1);y=`• 구조정보: ${b}㎡ (전용${C}평)/방${z},욕실${D}`}let q="",G=r.match(/(\d+)동\s*\[(\d+)\s*\/\s*(\d+)\]/);if(G){const z=G[1],D=G[2];q=`• 동/층: ${z}동/${D}층`}else if(G=r.match(/(\d+)동\s*\[([^\]]+)\]/),G){const z=G[1],D=G[2].trim();q=`• 동/층: ${z}동/${D}`}let ot="";const $=r.match(/공개비고\s*(.+?)(?=매물메모|비고|복도구조|$)/s);if($){const z=$[1].trim().replace(/\s+/g," ");z&&(ot=`• 특징: ${z}`)}let tt="",ht=r.match(/(.+?공인중개사.*?사무소)/);ht||(ht=r.match(/(.+?중개법인)/)),ht&&(tt=`• 부동산: ${ht[1].trim()}`);let ft="";const mt=_d(r);return mt&&(ft=`• 연락처: ${mt}`),[e,i,h,y,q,ot,tt,ft].filter(z=>z!=="").join(`
`)},Ty=r=>r?GE(r)?QE(r):YE(r):"",KE=({customerId:r,customerName:e,meetings:i,onSaveMeeting:a,onDeleteMeeting:o,initialProperties:h,onClearInitialProperties:d})=>{const[g,y]=vt.useState(!1),[v,b]=vt.useState(null),[I,V]=vt.useState(null),[q,G]=vt.useState(null);vt.useEffect(()=>{h&&h.length>0&&(G(h),y(!0),d&&d())},[h,d]);const ot=z=>{const C=new Date().toISOString().slice(0,10);return z.slice(0,10)===C},$=i.filter(z=>z.customerId===r).sort((z,D)=>new Date(D.date)-new Date(z.date)),tt=({onCancel:z,meetingData:D,initialPropertiesData:C})=>{const S=()=>{if(D){const w=D.date||new Date().toISOString().slice(0,16);return{...D,date:w.slice(0,10),time:D.time||w.slice(11,16)}}return{date:new Date().toISOString().slice(0,10),time:"12:00",properties:C||[]}},[N,A]=vt.useState(S()),[j,R]=vt.useState(!1),[xt,nt]=vt.useState(null),O=w=>{A({...N,[w.target.name]:w.target.value})},Q=w=>{if(confirm("정말 이 매물을 삭제하시겠습니까?")){const B=N.properties.filter((et,P)=>P!==w);A({...N,properties:B})}},W=()=>{const w={...N,id:N.id||zi(),customerId:r,date:`${N.date}T${N.time}:00`};a(w),y(!1),b(null),z()},lt=({onClose:w,propertyToEdit:B,editIndex:et})=>{const[P,J]=vt.useState(B||{roomName:"",visitTime:"",agency:"",agencyPhone:"",info:"",status:Mn[0]}),[L,ct]=vt.useState("TEN"),Et=dt=>{const Ht=dt.target.value,{propertyName:Ut,agencyName:Ft,contactNumber:Nt}=Ca(Ht,L);J({...P,info:Ht,roomName:Ut||P.roomName,agency:Ft||P.agency,agencyPhone:Nt||P.agencyPhone})},_t=()=>{if(et!=null){const dt=[...N.properties];dt[et]={...P},A({...N,properties:dt})}else A({...N,properties:[...N.properties,{...P,id:zi()}]});w()};return p.jsx("div",{className:"modal-overlay",children:p.jsxs("div",{className:"modal-content",onClick:dt=>dt.stopPropagation(),children:[p.jsxs("div",{className:"modal-header",children:[p.jsx("h3",{children:et!=null?"매물 수정":"매물 추가"}),p.jsx("button",{className:"btn-close",onClick:w,children:"×"})]}),p.jsxs("div",{className:"form-grid",children:[p.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[p.jsx("label",{style:{margin:0},children:"매물정보 (전체 텍스트 붙여넣기)"}),p.jsxs("div",{style:{display:"flex",gap:"0",backgroundColor:"#f0f0f0",borderRadius:"6px",padding:"2px"},children:[p.jsx("button",{onClick:()=>ct("TEN"),style:{padding:"6px 14px",backgroundColor:L==="TEN"?"#2196F3":"transparent",color:L==="TEN"?"white":"#666",border:"none",borderRadius:"4px",fontSize:"12px",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:dt=>{L!=="TEN"&&(dt.target.style.backgroundColor="#e0e0e0")},onMouseLeave:dt=>{L!=="TEN"&&(dt.target.style.backgroundColor="transparent")},children:"TEN"}),p.jsx("button",{onClick:()=>ct("네이버부동산"),style:{padding:"6px 14px",backgroundColor:L==="네이버부동산"?"#2196F3":"transparent",color:L==="네이버부동산"?"white":"#666",border:"none",borderRadius:"4px",fontSize:"12px",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:dt=>{L!=="네이버부동산"&&(dt.target.style.backgroundColor="#e0e0e0")},onMouseLeave:dt=>{L!=="네이버부동산"&&(dt.target.style.backgroundColor="transparent")},children:"네이버부동산"})]})]}),p.jsx("textarea",{className:"large",placeholder:`매물 정보를 붙여넣으세요
2번째 줄 → 호실명 자동입력
7번째 줄 → 부동산 자동입력
마지막 줄 → 연락처 자동입력`,value:P.info,onChange:Et}),p.jsx("p",{className:"form-hint",children:L==="TEN"?"매물 정보를 붙여넣으면 2번째 줄이 호실명, 7번째 줄이 부동산, 마지막 줄이 연락처로 자동 입력됩니다.":"매물 정보를 붙여넣으면 첫 줄이 호실명, 중개사 섹션의 부동산명, 전화 라벨 뒤의 연락처가 자동 입력됩니다."})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"호실명"}),p.jsx("input",{type:"text",placeholder:"자동 입력되지만 수정 가능합니다",value:P.roomName,onChange:dt=>J({...P,roomName:dt.target.value})})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"연락처"}),p.jsx("input",{type:"text",placeholder:"자동 입력되지만 수정 가능합니다",value:P.agencyPhone,onChange:dt=>J({...P,agencyPhone:dt.target.value})})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"방문시간"}),p.jsx("input",{type:"time",value:P.visitTime,onChange:dt=>J({...P,visitTime:dt.target.value})})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"준비상태"}),p.jsx("select",{value:P.status,onChange:dt=>J({...P,status:dt.target.value}),children:Mn.map(dt=>p.jsx("option",{value:dt,children:dt},dt))})]}),p.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[p.jsx("label",{children:"부동산"}),p.jsx("input",{type:"text",value:P.agency,onChange:dt=>J({...P,agency:dt.target.value})})]})]}),p.jsxs("div",{className:"modal-footer",children:[p.jsx("button",{onClick:w,className:"btn-secondary",children:"취소"}),p.jsx("button",{onClick:_t,className:"btn-primary",children:et!=null?"수정":"추가"})]})]})})};return p.jsx("div",{className:"modal-overlay",children:p.jsxs("div",{className:"modal-content",onClick:w=>w.stopPropagation(),children:[p.jsxs("div",{className:"modal-header",children:[p.jsxs("h3",{children:["미팅 추가 - ",e?e.slice(0,30):""]}),p.jsx("button",{className:"btn-close",onClick:z,children:"×"})]}),p.jsxs("div",{className:"form-grid",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"미팅 날짜"}),p.jsx("input",{type:"date",name:"date",value:N.date,onChange:O})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"미팅 시간"}),p.jsx("input",{type:"time",name:"time",value:N.time,onChange:O})]})]}),p.jsx("h4",{style:{marginTop:"20px",marginBottom:"10px"},children:"매물 준비"}),N.properties.length===0?p.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#999"},children:"준비된 매물이 없습니다."}):N.properties.map((w,B)=>p.jsxs("div",{className:"property-card",style:{marginBottom:"10px"},children:[p.jsxs("div",{className:"property-card-header",children:[p.jsxs("div",{className:"property-room-name",children:["🏠 ",w.roomName||"미지정"]}),p.jsx("select",{className:`property-status-badge status-${w.status}`,value:w.status,onChange:et=>{const P=[...N.properties];P[B]={...P[B],status:et.target.value},A({...N,properties:P})},style:{cursor:"pointer",border:"none",fontWeight:"bold"},children:Mn.map(et=>p.jsx("option",{value:et,children:et},et))})]}),p.jsxs("div",{className:"property-card-body",children:[p.jsx("div",{className:"property-info-label",children:"📋 매물정보"}),p.jsx("div",{className:"property-info-content",children:w.info})]}),p.jsxs("div",{className:"property-card-footer",children:[p.jsxs("span",{className:"property-detail",children:["🏢 ",w.agency]}),p.jsxs("span",{className:"property-detail",children:["📞 ",w.agencyPhone?p.jsx("a",{href:`sms:${w.agencyPhone}`,style:{color:"inherit",textDecoration:"underline"},children:w.agencyPhone}):""]}),p.jsxs("span",{className:"property-detail",style:{display:"flex",alignItems:"center",gap:"5px"},children:["🕐",p.jsx("input",{type:"time",value:w.visitTime||"",onChange:et=>{const P=[...N.properties];P[B]={...P[B],visitTime:et.target.value},A({...N,properties:P})},style:{border:"1px solid #e0e0e0",padding:"2px 5px",borderRadius:"3px",fontSize:"13px",cursor:"pointer"}}),"방문"]})]}),p.jsxs("div",{style:{padding:"10px",borderTop:"1px solid #e0e0e0",display:"flex",gap:"10px",justifyContent:"flex-end"},children:[p.jsx("button",{onClick:()=>{nt(B),R(!0)},className:"btn-primary",style:{fontSize:"12px",padding:"6px 12px"},children:"수정"}),p.jsx("button",{onClick:()=>Q(B),className:"btn-secondary",style:{fontSize:"12px",padding:"6px 12px"},children:"삭제"})]})]},w.id||B)),p.jsx("div",{style:{textAlign:"center",margin:"20px 0",borderTop:"1px dashed #ccc",paddingTop:"20px"},children:p.jsx("button",{onClick:()=>{nt(null),R(!0)},className:"btn-primary",children:"+ 매물 추가"})}),p.jsxs("div",{className:"modal-footer",children:[p.jsx("button",{onClick:z,className:"btn-secondary",children:"취소"}),p.jsx("button",{onClick:W,className:"btn-primary",children:"저장"})]}),j&&p.jsx(lt,{onClose:()=>{R(!1),nt(null)},propertyToEdit:xt!==null?N.properties[xt]:null,editIndex:xt})]})})},ht=z=>{if(!z)return"";const[D,C]=z.split(":"),S=parseInt(D),N=S<12?"오전":"오후",A=S===0?12:S>12?S-12:S;return`${N} ${A}:${C}`},ft=z=>z?z.slice(0,10):"",mt=z=>{if(!z)return"";const D=z.slice(11,16);return ht(D)},gt=({meeting:z,onClose:D})=>{const[C,S]=vt.useState(null),[N,A]=vt.useState(!1),j=z.properties?z.properties.map((Q,W)=>({prop:Q,originalIndex:W})).sort((Q,W)=>Q.prop.visitTime?W.prop.visitTime?Q.prop.visitTime.localeCompare(W.prop.visitTime):-1:1):[],R=Q=>{S(Q),A(!0)},xt=Q=>{if(confirm("이 매물을 삭제하시겠습니까?")){const W=z.properties.filter((w,B)=>B!==Q),lt={...z,properties:W};a(lt),V(lt)}},nt=(Q,W)=>{const lt=[...z.properties];W!=null?lt[W]=Q:lt.push({...Q,id:zi()});const w={...z,properties:lt};a(w),V(w),A(!1),S(null)},O=({propertyToEdit:Q,editIndex:W,onClose:lt})=>{const[w,B]=vt.useState(Q||{roomName:"",visitTime:"",agency:"",agencyPhone:"",info:"",status:Mn[0]}),[et,P]=vt.useState("TEN"),J=L=>{const ct=L.target.value,{propertyName:Et,agencyName:_t,contactNumber:dt}=Ca(ct,et);B({...w,info:ct,roomName:Et||w.roomName,agency:_t||w.agency,agencyPhone:dt||w.agencyPhone})};return p.jsx("div",{className:"modal-overlay",style:{zIndex:1100},children:p.jsxs("div",{className:"modal-content",onClick:L=>L.stopPropagation(),children:[p.jsxs("div",{className:"modal-header",children:[p.jsx("h3",{children:"매물 수정"}),p.jsx("button",{className:"btn-close",onClick:lt,children:"×"})]}),p.jsxs("div",{className:"form-grid",children:[p.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[p.jsx("label",{style:{margin:0},children:"매물정보 (전체 텍스트 붙여넣기)"}),p.jsxs("div",{style:{display:"flex",gap:"0",backgroundColor:"#f0f0f0",borderRadius:"6px",padding:"2px"},children:[p.jsx("button",{onClick:()=>P("TEN"),style:{padding:"6px 14px",backgroundColor:et==="TEN"?"#2196F3":"transparent",color:et==="TEN"?"white":"#666",border:"none",borderRadius:"4px",fontSize:"12px",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:L=>{et!=="TEN"&&(L.target.style.backgroundColor="#e0e0e0")},onMouseLeave:L=>{et!=="TEN"&&(L.target.style.backgroundColor="transparent")},children:"TEN"}),p.jsx("button",{onClick:()=>P("네이버부동산"),style:{padding:"6px 14px",backgroundColor:et==="네이버부동산"?"#2196F3":"transparent",color:et==="네이버부동산"?"white":"#666",border:"none",borderRadius:"4px",fontSize:"12px",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:L=>{et!=="네이버부동산"&&(L.target.style.backgroundColor="#e0e0e0")},onMouseLeave:L=>{et!=="네이버부동산"&&(L.target.style.backgroundColor="transparent")},children:"네이버부동산"})]})]}),p.jsx("textarea",{className:"large",placeholder:`매물 정보를 붙여넣으세요
2번째 줄 → 호실명 자동입력
7번째 줄 → 부동산 자동입력
마지막 줄 → 연락처 자동입력`,value:w.info,onChange:J}),p.jsx("p",{className:"form-hint",children:et==="TEN"?"매물 정보를 붙여넣으면 2번째 줄이 호실명, 7번째 줄이 부동산, 마지막 줄이 연락처로 자동 입력됩니다.":"매물 정보를 붙여넣으면 첫 줄이 호실명, 중개사 섹션의 부동산명, 전화 라벨 뒤의 연락처가 자동 입력됩니다."})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"호실명"}),p.jsx("input",{type:"text",placeholder:"자동 입력되지만 수정 가능합니다",value:w.roomName,onChange:L=>B({...w,roomName:L.target.value})})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"연락처"}),p.jsx("input",{type:"text",placeholder:"자동 입력되지만 수정 가능합니다",value:w.agencyPhone,onChange:L=>B({...w,agencyPhone:L.target.value})})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"방문시간"}),p.jsx("input",{type:"time",value:w.visitTime,onChange:L=>B({...w,visitTime:L.target.value})})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"준비상태"}),p.jsx("select",{value:w.status,onChange:L=>B({...w,status:L.target.value}),children:Mn.map(L=>p.jsx("option",{value:L,children:L},L))})]}),p.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[p.jsx("label",{children:"부동산"}),p.jsx("input",{type:"text",value:w.agency,onChange:L=>B({...w,agency:L.target.value})})]})]}),p.jsxs("div",{className:"modal-footer",children:[p.jsx("button",{onClick:lt,className:"btn-secondary",children:"취소"}),p.jsx("button",{onClick:()=>nt(w,W),className:"btn-primary",children:"수정"})]})]})})};return p.jsx("div",{className:"modal-overlay",children:p.jsxs("div",{className:"modal-content",onClick:Q=>Q.stopPropagation(),children:[p.jsxs("div",{className:"modal-header",children:[p.jsxs("h3",{children:["미팅 매물 - ",P_(z.date)]}),p.jsx("button",{className:"btn-close",onClick:D,children:"×"})]}),p.jsx("div",{style:{maxHeight:"60vh",overflowY:"auto",padding:"10px 0"},children:j.length>0?j.map(({prop:Q,originalIndex:W})=>p.jsxs("div",{className:"property-card",style:{marginBottom:"15px"},children:[p.jsxs("div",{className:"property-card-header",children:[p.jsxs("div",{className:"property-room-name",children:["🏠 ",Q.roomName||"미지정"]}),p.jsx("select",{className:`property-status-badge status-${Q.status}`,value:Q.status,onChange:lt=>{const w=[...z.properties];w[W]={...w[W],status:lt.target.value};const B={...z,properties:w};a(B),V(B)},style:{cursor:"pointer",border:"none",fontWeight:"bold"},children:Mn.map(lt=>p.jsx("option",{value:lt,children:lt},lt))})]}),p.jsxs("div",{className:"property-card-body",children:[p.jsx("div",{className:"property-info-label",children:"📋 매물정보"}),p.jsx("div",{className:"property-info-content",children:Q.info})]}),p.jsxs("div",{className:"property-card-footer",children:[p.jsxs("span",{className:"property-detail",children:["🏢 ",Q.agency]}),p.jsxs("span",{className:"property-detail",children:["📞 ",Q.agencyPhone?p.jsx("a",{href:`sms:${Q.agencyPhone}`,style:{color:"inherit",textDecoration:"underline"},children:Q.agencyPhone}):""]}),p.jsxs("span",{className:"property-detail",style:{display:"flex",alignItems:"center",gap:"5px"},children:["🕐",p.jsx("input",{type:"time",value:Q.visitTime||"",onChange:lt=>{const w=[...z.properties];w[W]={...w[W],visitTime:lt.target.value};const B={...z,properties:w};a(B),V(B)},style:{border:"1px solid #e0e0e0",padding:"2px 5px",borderRadius:"3px",fontSize:"13px",cursor:"pointer"}}),"방문"]})]}),p.jsxs("div",{style:{padding:"10px",borderTop:"1px solid #e0e0e0",display:"flex",gap:"10px",justifyContent:"flex-end"},children:[p.jsx("button",{onClick:()=>R(W),className:"btn-primary",style:{fontSize:"12px",padding:"6px 12px"},children:"수정"}),p.jsx("button",{onClick:()=>xt(W),className:"btn-secondary",style:{fontSize:"12px",padding:"6px 12px"},children:"삭제"})]})]},Q.id)):p.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#999"},children:"등록된 매물이 없습니다."})}),p.jsx("div",{className:"modal-footer",children:p.jsx("button",{onClick:D,className:"btn-primary",children:"닫기"})}),N&&p.jsx(O,{propertyToEdit:C!==null?z.properties[C]:null,editIndex:C,onClose:()=>{A(!1),S(null)}})]})})};return p.jsxs("div",{className:"meeting-tab",children:[p.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"20px"},children:!g&&!v&&p.jsx("button",{onClick:()=>y(!0),className:"btn-primary",style:{padding:"8px 16px",fontSize:"14px"},children:"+ 미팅 추가"})}),g&&p.jsx(tt,{onCancel:()=>{y(!1),G(null)},initialPropertiesData:q}),v?p.jsx(tt,{meetingData:v,onCancel:()=>b(null)},v.id):$.length>0?p.jsxs("table",{className:"customer-table",children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"미팅날짜"}),p.jsx("th",{children:"미팅시간"}),p.jsx("th",{children:"매물수"}),p.jsx("th",{children:"액션"})]})}),p.jsx("tbody",{children:$.map(z=>{const D=ot(z.date);return p.jsxs("tr",{style:{backgroundColor:D?"rgba(211, 47, 47, 0.08)":"transparent",color:D?"#d32f2f":"inherit",fontWeight:D?"bold":"normal"},children:[p.jsx("td",{style:{color:D?"#d32f2f":"inherit"},children:ft(z.date)}),p.jsx("td",{style:{color:D?"#d32f2f":"inherit"},children:mt(z.date)}),p.jsxs("td",{onClick:()=>V(z),style:{cursor:"pointer",color:D?"#d32f2f":"var(--primary-blue)",textDecoration:"underline",fontWeight:D?"bold":"normal"},children:[z.properties?.length||0,"개 매물"]}),p.jsxs("td",{children:[p.jsx("button",{onClick:()=>b(z),style:{fontSize:"12px",padding:"4px 8px",marginRight:"5px",color:D?"#d32f2f":"inherit"},children:"수정"}),p.jsx("button",{onClick:()=>o(z.id),className:"btn-secondary",style:{fontSize:"12px",padding:"4px 8px",color:D?"#d32f2f":"inherit"},children:"삭제"})]})]},z.id)})})]}):p.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#999"},children:"등록된 미팅이 없습니다."}),I&&p.jsx(gt,{meeting:I,onClose:()=>V(null)})]})},XE=({customerId:r,customerName:e,propertySelections:i,onSavePropertySelection:a,onDeletePropertySelection:o,onTabChange:h,onCreateMeetingFromSelection:d})=>{const[g,y]=vt.useState(!1),[v,b]=vt.useState(null),[I,V]=vt.useState(null),q=i.filter(tt=>tt.customerId===r).sort((tt,ht)=>new Date(ht.createdAt)-new Date(tt.createdAt)),G=({onCancel:tt,selectionData:ht})=>{const ft=()=>ht?{...ht}:{properties:[]},[mt,gt]=vt.useState(ft()),[z,D]=vt.useState(!1),[C,S]=vt.useState(null),N=R=>{if(confirm("정말 이 매물을 삭제하시겠습니까?")){const xt=mt.properties.filter((nt,O)=>O!==R);gt({...mt,properties:xt})}},A=()=>{const R={...mt,id:mt.id||zi(),customerId:r,createdAt:mt.createdAt||new Date().toISOString()};a(R),y(!1),b(null),tt()},j=({onClose:R,propertyToEdit:xt,editIndex:nt})=>{const[O,Q]=vt.useState(xt||{roomName:"",agency:"",agencyPhone:"",info:"",status:Mn[0]}),[W,lt]=vt.useState("TEN"),w=P=>{const J=P.target.value,{propertyName:L,agencyName:ct,contactNumber:Et}=Ca(J,W);Q({...O,info:J,roomName:L||O.roomName,agency:ct||O.agency,agencyPhone:Et||O.agencyPhone})},B=()=>{const P=O.info,J=Ty(P);if(!J){alert("매물정보에서 필요한 데이터를 추출할 수 없습니다. 정보를 확인해주세요.");return}const L={...O,info:J},{propertyName:ct,agencyName:Et,contactNumber:_t}=Ca(J);L.roomName=ct||O.roomName,L.agency=Et||O.agency,L.agencyPhone=_t||O.agencyPhone,Q(L)},et=()=>{if(nt!=null){const P=[...mt.properties];P[nt]={...O},gt({...mt,properties:P})}else gt({...mt,properties:[...mt.properties,{...O,id:zi()}]});R()};return p.jsx("div",{className:"modal-overlay",children:p.jsxs("div",{className:"modal-content",onClick:P=>P.stopPropagation(),children:[p.jsxs("div",{className:"modal-header",children:[p.jsx("h3",{children:nt!=null?"매물 수정":"매물 추가"}),p.jsx("button",{className:"btn-close",onClick:R,children:"×"})]}),p.jsxs("div",{className:"form-grid",children:[p.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[p.jsx("label",{style:{margin:0},children:"매물정보 (전체 텍스트 붙여넣기)"}),p.jsxs("div",{style:{display:"flex",gap:"0",backgroundColor:"#f0f0f0",borderRadius:"6px",padding:"2px"},children:[p.jsx("button",{onClick:()=>lt("TEN"),style:{padding:"6px 14px",backgroundColor:W==="TEN"?"#2196F3":"transparent",color:W==="TEN"?"white":"#666",border:"none",borderRadius:"4px",fontSize:"12px",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:P=>{W!=="TEN"&&(P.target.style.backgroundColor="#e0e0e0")},onMouseLeave:P=>{W!=="TEN"&&(P.target.style.backgroundColor="transparent")},children:"TEN"}),p.jsx("button",{onClick:()=>lt("네이버부동산"),style:{padding:"6px 14px",backgroundColor:W==="네이버부동산"?"#2196F3":"transparent",color:W==="네이버부동산"?"white":"#666",border:"none",borderRadius:"4px",fontSize:"12px",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:P=>{W!=="네이버부동산"&&(P.target.style.backgroundColor="#e0e0e0")},onMouseLeave:P=>{W!=="네이버부동산"&&(P.target.style.backgroundColor="transparent")},children:"네이버부동산"})]})]}),p.jsx("textarea",{className:"large",placeholder:`매물 정보를 붙여넣으세요
2번째 줄 → 호실명 자동입력
7번째 줄 → 부동산 자동입력
마지막 줄 → 연락처 자동입력`,value:O.info,onChange:w}),p.jsx("button",{type:"button",onClick:B,style:{padding:"8px 16px",fontSize:"14px",fontWeight:"bold",backgroundColor:"#FF9800",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",marginTop:"10px",transition:"all 0.2s",display:"block"},onMouseEnter:P=>P.target.style.backgroundColor="#F57C00",onMouseLeave:P=>P.target.style.backgroundColor="#FF9800",children:"⚡ 매물정보 자동 생성"}),p.jsx("p",{className:"form-hint",children:W==="TEN"?"매물 정보를 붙여넣으면 2번째 줄이 호실명, 7번째 줄이 부동산, 마지막 줄이 연락처로 자동 입력됩니다.":"매물 정보를 붙여넣으면 첫 줄이 호실명, 중개사 섹션의 부동산명, 전화 라벨 뒤의 연락처가 자동 입력됩니다."})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"호실명"}),p.jsx("input",{type:"text",placeholder:"자동 입력되지만 수정 가능합니다",value:O.roomName,onChange:P=>Q({...O,roomName:P.target.value})})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"준비상태"}),p.jsx("select",{value:O.status,onChange:P=>Q({...O,status:P.target.value}),children:Mn.map(P=>p.jsx("option",{value:P,children:P},P))})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"부동산"}),p.jsx("input",{type:"text",value:O.agency,onChange:P=>Q({...O,agency:P.target.value})})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"연락처"}),p.jsx("input",{type:"text",placeholder:"자동 입력되지만 수정 가능합니다",value:O.agencyPhone,onChange:P=>Q({...O,agencyPhone:P.target.value})})]})]}),p.jsxs("div",{className:"modal-footer",children:[p.jsx("button",{onClick:R,className:"btn-secondary",children:"취소"}),p.jsx("button",{onClick:et,className:"btn-primary",children:nt!=null?"수정":"추가"})]})]})})};return p.jsx("div",{className:"modal-overlay",children:p.jsxs("div",{className:"modal-content",onClick:R=>R.stopPropagation(),children:[p.jsxs("div",{className:"modal-header",children:[p.jsxs("h3",{children:["매물선정 - ",e?e.slice(0,30):""]}),p.jsx("button",{className:"btn-close",onClick:tt,children:"×"})]}),p.jsx("h4",{style:{marginTop:"20px",marginBottom:"10px"},children:"선정 매물"}),mt.properties.length===0?p.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#999"},children:"선정된 매물이 없습니다."}):mt.properties.map((R,xt)=>p.jsxs("div",{className:"property-card",style:{marginBottom:"10px"},children:[p.jsxs("div",{className:"property-card-header",children:[p.jsxs("div",{className:"property-room-name",children:["🏠 ",R.roomName||"미지정"]}),p.jsx("select",{className:`property-status-badge status-${R.status}`,value:R.status,onChange:nt=>{const O=[...mt.properties];O[xt]={...O[xt],status:nt.target.value},gt({...mt,properties:O})},style:{cursor:"pointer",border:"none",fontWeight:"bold"},children:Mn.map(nt=>p.jsx("option",{value:nt,children:nt},nt))})]}),p.jsxs("div",{className:"property-card-body",children:[p.jsx("div",{className:"property-info-label",children:"📋 매물정보"}),p.jsx("div",{className:"property-info-content",children:R.info})]}),p.jsxs("div",{className:"property-card-footer",children:[p.jsxs("span",{className:"property-detail",children:["🏢 ",R.agency]}),p.jsxs("span",{className:"property-detail",children:["📞 ",R.agencyPhone?p.jsx("a",{href:`sms:${R.agencyPhone}`,style:{color:"inherit",textDecoration:"underline"},children:R.agencyPhone}):""]})]}),p.jsxs("div",{style:{padding:"10px",borderTop:"1px solid #e0e0e0",display:"flex",gap:"10px",justifyContent:"flex-end"},children:[p.jsx("button",{onClick:()=>{S(xt),D(!0)},className:"btn-primary",style:{fontSize:"12px",padding:"6px 12px"},children:"수정"}),p.jsx("button",{onClick:()=>N(xt),className:"btn-secondary",style:{fontSize:"12px",padding:"6px 12px"},children:"삭제"})]})]},R.id||xt)),p.jsxs("div",{className:"modal-footer",style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"10px",marginTop:"20px",borderTop:"1px solid #e0e0e0",paddingTop:"15px"},children:[p.jsx("button",{onClick:tt,className:"btn-secondary",children:"취소"}),p.jsxs("div",{style:{display:"flex",gap:"10px",marginLeft:"auto"},children:[p.jsx("button",{onClick:()=>{S(null),D(!0)},style:{padding:"8px 16px",fontSize:"14px",fontWeight:"bold",backgroundColor:"#2196F3",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:R=>R.target.style.backgroundColor="#1976D2",onMouseLeave:R=>R.target.style.backgroundColor="#2196F3",children:"+ 매물 추가"}),p.jsx("button",{onClick:A,className:"btn-primary",style:{padding:"8px 16px",fontSize:"14px",fontWeight:"bold"},children:"저장"})]})]}),z&&p.jsx(j,{onClose:()=>{D(!1),S(null)},propertyToEdit:C!==null?mt.properties[C]:null,editIndex:C})]})})},ot=tt=>tt?new Date(tt).toLocaleDateString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit"}):"",$=({selection:tt,onClose:ht})=>{const[ft,mt]=vt.useState(null),[gt,z]=vt.useState(!1),[D,C]=vt.useState(!1),S=O=>O.map(Q=>{const W=Q.info.split(`
`).filter(lt=>lt.trim());return W.length>1&&(W.length>6&&W.splice(6,1),W.length>0&&W.pop()),W.join(`
`)}).join(`

`),N=()=>{if(tt.properties.length===0){alert("매물을 먼저 추가해주세요.");return}d(tt.properties),ht()},A=O=>{mt(O),z(!0)},j=O=>{if(confirm("이 매물을 삭제하시겠습니까?")){const Q=tt.properties.filter((lt,w)=>w!==O),W={...tt,properties:Q};a(W),V(W)}},R=(O,Q)=>{const W=[...tt.properties];Q!=null?W[Q]=O:W.push({...O,id:zi()});const lt={...tt,properties:W};a(lt),V(lt),z(!1),mt(null)},xt=({propertyToEdit:O,editIndex:Q,onClose:W})=>{const[lt,w]=vt.useState(O||{roomName:"",agency:"",agencyPhone:"",info:"",status:Mn[0]}),B=P=>{const J=P.target.value,{propertyName:L,agencyName:ct,contactNumber:Et}=Ca(J);w({...lt,info:J,roomName:L||lt.roomName,agency:ct||lt.agency,agencyPhone:Et||lt.agencyPhone})},et=()=>{const P=lt.info,J=Ty(P);if(!J){alert("매물정보에서 필요한 데이터를 추출할 수 없습니다. 정보를 확인해주세요.");return}const L={...lt,info:J},{propertyName:ct,agencyName:Et,contactNumber:_t}=Ca(J);L.roomName=ct||lt.roomName,L.agency=Et||lt.agency,L.agencyPhone=_t||lt.agencyPhone,w(L)};return p.jsx("div",{className:"modal-overlay",style:{zIndex:1100},children:p.jsxs("div",{className:"modal-content",onClick:P=>P.stopPropagation(),children:[p.jsxs("div",{className:"modal-header",children:[p.jsx("h3",{children:"매물 수정"}),p.jsx("button",{className:"btn-close",onClick:W,children:"×"})]}),p.jsxs("div",{className:"form-grid",children:[p.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[p.jsx("label",{children:"매물정보 (전체 텍스트 붙여넣기)"}),p.jsx("textarea",{className:"large",placeholder:`매물 정보를 붙여넣으세요
2번째 줄 → 호실명 자동입력
7번째 줄 → 부동산 자동입력
마지막 줄 → 연락처 자동입력`,value:lt.info,onChange:B}),p.jsx("button",{type:"button",onClick:et,style:{padding:"8px 16px",fontSize:"14px",fontWeight:"bold",backgroundColor:"#FF9800",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",marginTop:"10px",transition:"all 0.2s",display:"block"},onMouseEnter:P=>P.target.style.backgroundColor="#F57C00",onMouseLeave:P=>P.target.style.backgroundColor="#FF9800",children:"⚡ 매물정보 자동 생성"}),p.jsx("p",{className:"form-hint",children:source==="TEN"?"매물 정보를 붙여넣으면 2번째 줄이 호실명, 7번째 줄이 부동산, 마지막 줄이 연락처로 자동 입력됩니다.":"매물 정보를 붙여넣으면 첫 줄이 호실명, 중개사 섹션의 부동산명, 전화 라벨 뒤의 연락처가 자동 입력됩니다."})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"호실명"}),p.jsx("input",{type:"text",placeholder:"자동 입력되지만 수정 가능합니다",value:lt.roomName,onChange:P=>w({...lt,roomName:P.target.value})})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"준비상태"}),p.jsx("select",{value:lt.status,onChange:P=>w({...lt,status:P.target.value}),children:Mn.map(P=>p.jsx("option",{value:P,children:P},P))})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"부동산"}),p.jsx("input",{type:"text",value:lt.agency,onChange:P=>w({...lt,agency:P.target.value})})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"연락처"}),p.jsx("input",{type:"text",placeholder:"자동 입력되지만 수정 가능합니다",value:lt.agencyPhone,onChange:P=>w({...lt,agencyPhone:P.target.value})})]})]}),p.jsxs("div",{className:"modal-footer",children:[p.jsx("button",{onClick:W,className:"btn-secondary",children:"취소"}),p.jsx("button",{onClick:()=>R(lt,Q),className:"btn-primary",children:"수정"})]})]})})},nt=({onClose:O})=>{const[Q,W]=vt.useState(S(tt.properties)),[lt,w]=vt.useState(!1),B=async()=>{try{await navigator.clipboard.writeText(Q),alert("보고서가 클립보드에 복사되었습니다!")}catch(et){alert("복사에 실패했습니다: "+et.message)}};return p.jsx("div",{className:"modal-overlay",style:{zIndex:1100},children:p.jsxs("div",{className:"modal-content",onClick:et=>et.stopPropagation(),style:{maxWidth:"800px"},children:[p.jsxs("div",{className:"modal-header",children:[p.jsx("h3",{children:"매물 브리핑 보고서"}),p.jsx("button",{className:"btn-close",onClick:O,children:"×"})]}),p.jsx("div",{style:{padding:"20px"},children:lt?p.jsx("textarea",{value:Q,onChange:et=>W(et.target.value),style:{width:"100%",minHeight:"400px",padding:"12px",fontSize:"14px",lineHeight:"1.6",border:"1px solid #e0e0e0",borderRadius:"4px",fontFamily:"monospace",resize:"vertical"}}):p.jsx("pre",{style:{whiteSpace:"pre-wrap",wordWrap:"break-word",backgroundColor:"#f5f5f5",padding:"15px",borderRadius:"4px",fontSize:"14px",lineHeight:"1.6",maxHeight:"400px",overflowY:"auto",border:"1px solid #e0e0e0"},children:Q})}),p.jsxs("div",{className:"modal-footer",children:[p.jsx("button",{onClick:O,className:"btn-secondary",children:"닫기"}),p.jsx("button",{onClick:()=>w(!lt),className:"btn-primary",style:{marginLeft:"10px"},children:lt?"완료":"수정"}),p.jsx("button",{onClick:B,className:"btn-primary",style:{marginLeft:"10px"},children:"복사"})]})]})})};return p.jsx("div",{className:"modal-overlay",children:p.jsxs("div",{className:"modal-content",onClick:O=>O.stopPropagation(),children:[p.jsxs("div",{className:"modal-header",children:[p.jsxs("h3",{children:["선정 매물 - ",ot(tt.createdAt)]}),p.jsx("button",{className:"btn-close",onClick:ht,children:"×"})]}),p.jsx("div",{style:{maxHeight:"60vh",overflowY:"auto",padding:"10px 0"},children:tt.properties&&tt.properties.length>0?tt.properties.map((O,Q)=>p.jsxs("div",{className:"property-card",style:{marginBottom:"15px"},children:[p.jsxs("div",{className:"property-card-header",children:[p.jsxs("div",{className:"property-room-name",children:["🏠 ",O.roomName||"미지정"]}),p.jsx("select",{className:`property-status-badge status-${O.status}`,value:O.status,onChange:W=>{const lt=[...tt.properties];lt[Q]={...lt[Q],status:W.target.value};const w={...tt,properties:lt};a(w),V(w)},style:{cursor:"pointer",border:"none",fontWeight:"bold"},children:Mn.map(W=>p.jsx("option",{value:W,children:W},W))})]}),p.jsxs("div",{className:"property-card-body",children:[p.jsx("div",{className:"property-info-label",children:"📋 매물정보"}),p.jsx("div",{className:"property-info-content",children:O.info})]}),p.jsxs("div",{className:"property-card-footer",children:[p.jsxs("span",{className:"property-detail",children:["🏢 ",O.agency]}),p.jsxs("span",{className:"property-detail",children:["📞 ",O.agencyPhone?p.jsx("a",{href:`sms:${O.agencyPhone}`,style:{color:"inherit",textDecoration:"underline"},children:O.agencyPhone}):""]})]}),p.jsxs("div",{style:{padding:"10px",borderTop:"1px solid #e0e0e0",display:"flex",gap:"10px",justifyContent:"flex-end"},children:[p.jsx("button",{onClick:()=>A(Q),className:"btn-primary",style:{fontSize:"12px",padding:"6px 12px"},children:"수정"}),p.jsx("button",{onClick:()=>j(Q),className:"btn-secondary",style:{fontSize:"12px",padding:"6px 12px"},children:"삭제"})]})]},O.id)):p.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#999"},children:"등록된 매물이 없습니다."})}),p.jsxs("div",{className:"modal-footer",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[p.jsx("button",{onClick:ht,className:"btn-primary",children:"닫기"}),p.jsxs("div",{style:{display:"flex",gap:"10px"},children:[p.jsx("button",{onClick:()=>C(!0),disabled:!tt.properties||tt.properties.length===0,style:{padding:"8px 16px",fontSize:"14px",fontWeight:"bold",backgroundColor:"#f44336",color:"white",border:"none",borderRadius:"4px",cursor:!tt.properties||tt.properties.length===0?"not-allowed":"pointer",opacity:!tt.properties||tt.properties.length===0?.5:1,transition:"all 0.2s"},onMouseEnter:O=>{tt.properties&&tt.properties.length>0&&(O.target.style.backgroundColor="#d32f2f")},onMouseLeave:O=>{tt.properties&&tt.properties.length>0&&(O.target.style.backgroundColor="#f44336")},children:"📋 보고서 생성"}),p.jsx("button",{onClick:N,disabled:!tt.properties||tt.properties.length===0,style:{padding:"8px 16px",fontSize:"14px",fontWeight:"bold",backgroundColor:"#9C27B0",color:"white",border:"none",borderRadius:"4px",cursor:!tt.properties||tt.properties.length===0?"not-allowed":"pointer",opacity:!tt.properties||tt.properties.length===0?.5:1,transition:"all 0.2s"},onMouseEnter:O=>{tt.properties&&tt.properties.length>0&&(O.target.style.backgroundColor="#7B1FA2")},onMouseLeave:O=>{tt.properties&&tt.properties.length>0&&(O.target.style.backgroundColor="#9C27B0")},children:"📅 미팅내역추가"})]})]}),D&&p.jsx(nt,{onClose:()=>C(!1)}),gt&&p.jsx(xt,{propertyToEdit:ft!==null?tt.properties[ft]:null,editIndex:ft,onClose:()=>{z(!1),mt(null)}})]})})};return p.jsxs("div",{className:"meeting-tab",children:[p.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"20px"},children:!g&&!v&&p.jsx("button",{onClick:()=>y(!0),className:"btn-primary",style:{padding:"8px 16px",fontSize:"14px"},children:"+ 매물선정"})}),g&&p.jsx(G,{onCancel:()=>y(!1)}),v?p.jsx(G,{selectionData:v,onCancel:()=>b(null)},v.id):q.length>0?p.jsxs("table",{className:"customer-table",children:[p.jsx("thead",{children:p.jsxs("tr",{children:[p.jsx("th",{children:"생성일자"}),p.jsx("th",{children:"매물수"}),p.jsx("th",{children:"액션"})]})}),p.jsx("tbody",{children:q.map(tt=>p.jsxs("tr",{children:[p.jsx("td",{children:ot(tt.createdAt)}),p.jsxs("td",{onClick:()=>V(tt),style:{cursor:"pointer",color:"var(--primary-blue)",textDecoration:"underline"},children:[tt.properties?.length||0,"개 매물"]}),p.jsxs("td",{children:[p.jsx("button",{onClick:()=>b(tt),style:{fontSize:"12px",padding:"4px 8px",marginRight:"5px"},children:"수정"}),p.jsx("button",{onClick:()=>o(tt.id),className:"btn-secondary",style:{fontSize:"12px",padding:"4px 8px"},children:"삭제"})]})]},tt.id))})]}):p.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#999"},children:"등록된 매물선정이 없습니다."}),I&&p.jsx($,{selection:I,onClose:()=>V(null)})]})},$E=({selectedCustomer:r,onClose:e,onEditCustomer:i,onUpdateCustomer:a,onDeleteCustomer:o,activities:h,onSaveActivity:d,onDeleteActivity:g,meetings:y,onSaveMeeting:v,onDeleteMeeting:b,propertySelections:I,onSavePropertySelection:V,onDeletePropertySelection:q})=>{const[G,ot]=vt.useState("기본정보"),[$,tt]=vt.useState(null);vt.useEffect(()=>{r&&(ot("기본정보"),tt(null))},[r?.id]);const ht=!!r,ft=z=>{const D={...r,status:z,progress:z==="보류"?null:r.progress};a(D)},mt=z=>{const D={...r,progress:z};a(D)},gt=z=>{const D=z.map(C=>({...C,visitTime:""}));tt(D),ot("미팅 내역")};return p.jsx("aside",{className:`detail-panel ${ht?"open":""}`,children:ht&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"panel-header",children:[p.jsxs("div",{children:[p.jsx("h3",{children:"고객 상세"}),p.jsxs("span",{className:"created-date",children:["접수일자: ",new Date(r.createdAt).toLocaleDateString()]})]}),p.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[p.jsx("button",{onClick:z=>{z.stopPropagation(),i(r)},className:"btn-primary",style:{padding:"8px 16px"},children:"수정"}),p.jsx("button",{onClick:z=>{z.stopPropagation(),o(r)},className:"btn-secondary",style:{padding:"8px 16px"},children:"삭제"}),p.jsx("button",{onClick:e,className:"btn-close",children:"✕"})]})]}),p.jsx("div",{style:{padding:"15px",borderBottom:"1px solid #e0e0e0",backgroundColor:"#f8f9fa"},children:p.jsxs("div",{style:{display:"flex",gap:"20px",alignItems:"center",flexWrap:"wrap"},children:[p.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[p.jsx("label",{style:{fontSize:"14px",marginBottom:0,minWidth:"60px",fontWeight:"bold"},children:"상태"}),p.jsx("div",{style:{display:"flex",gap:"5px"},children:ME.map(z=>p.jsx("button",{type:"button",onClick:()=>ft(z),style:{fontSize:"13px",padding:"5px 12px",border:"1px solid #ccc",borderRadius:"4px",backgroundColor:r.status===z?"#4CAF50":"white",color:r.status===z?"white":"#333",cursor:"pointer",transition:"all 0.2s"},children:z},z))})]}),(r.status==="신규"||r.status==="진행중")&&p.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[p.jsx("label",{style:{fontSize:"14px",marginBottom:0,minWidth:"60px",fontWeight:"bold"},children:"진행상황"}),p.jsx("div",{style:{display:"flex",gap:"5px",flexWrap:"wrap"},children:k_.map(z=>p.jsx("button",{type:"button",onClick:()=>mt(z),style:{fontSize:"13px",padding:"5px 12px",border:"1px solid #ccc",borderRadius:"4px",backgroundColor:r.progress===z?"#2196F3":"white",color:r.progress===z?"white":"#333",cursor:"pointer",transition:"all 0.2s"},children:z},z))})]})]})}),p.jsxs("div",{className:"panel-content",children:[p.jsx("div",{style:{display:"flex",gap:"4px",padding:"12px 15px",backgroundColor:"#e3f2fd",borderRadius:"8px",marginBottom:"15px",border:"1px solid #bbdefb"},children:["기본정보","활동 내역","미팅 내역","매물선정"].map((z,D)=>p.jsx("button",{onClick:()=>ot(z),style:{flex:1,padding:"10px 16px",fontSize:"14px",fontWeight:"700",border:"none",borderRadius:"6px",backgroundColor:G===z?"white":"transparent",color:"#1a1a1a",cursor:"pointer",transition:"all 0.2s ease",boxShadow:G===z?"0 2px 8px rgba(33, 150, 243, 0.15)":"none",border:G===z?"1px solid #e0e0e0":"1px solid transparent"},onMouseEnter:C=>{G!==z&&(C.target.style.backgroundColor="#f9f9f9")},onMouseLeave:C=>{G!==z&&(C.target.style.backgroundColor="transparent")},children:z},z))}),p.jsxs("div",{className:"tab-content",children:[G==="기본정보"&&p.jsx(UE,{customer:r,onUpdateCustomer:a,activities:h,meetings:y,onTabChange:ot}),G==="활동 내역"&&p.jsx(LE,{customerId:r.id,activities:h,onSaveActivity:d,onDeleteActivity:g}),G==="미팅 내역"&&p.jsx(KE,{customerId:r.id,customerName:r.name,meetings:y,onSaveMeeting:v,onDeleteMeeting:b,initialProperties:$,onClearInitialProperties:()=>tt(null)}),G==="매물선정"&&p.jsx(XE,{customerId:r.id,customerName:r.name,propertySelections:I,onSavePropertySelection:V,onDeletePropertySelection:q,onTabChange:ot,onCreateMeetingFromSelection:gt})]})]})]})})},ZE=()=>{};var by={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_=function(r){const e=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},JE=function(r){const e=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const h=r[i++];e[a++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=r[i++],d=r[i++],g=r[i++],y=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(y>>10)),e[a++]=String.fromCharCode(56320+(y&1023))}else{const h=r[i++],d=r[i++];e[a++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},L_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const h=r[o],d=o+1<r.length,g=d?r[o+1]:0,y=o+2<r.length,v=y?r[o+2]:0,b=h>>2,I=(h&3)<<4|g>>4;let V=(g&15)<<2|v>>6,q=v&63;y||(q=64,d||(V=64)),a.push(i[b],i[I],i[V],i[q])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(U_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):JE(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const h=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const v=o<r.length?i[r.charAt(o)]:64;++o;const I=o<r.length?i[r.charAt(o)]:64;if(++o,h==null||g==null||v==null||I==null)throw new WE;const V=h<<2|g>>4;if(a.push(V),v!==64){const q=g<<4&240|v>>2;if(a.push(q),I!==64){const G=v<<6&192|I;a.push(G)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class WE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tT=function(r){const e=U_(r);return L_.encodeByteArray(e,!0)},$u=function(r){return tT(r).replace(/\./g,"")},eT=function(r){try{return L_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT=()=>nT().__FIREBASE_DEFAULTS__,sT=()=>{if(typeof process>"u"||typeof by>"u")return;const r=by.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},rT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&eT(r[1]);return e&&JSON.parse(e)},vd=()=>{try{return ZE()||iT()||sT()||rT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},aT=r=>vd()?.emulatorHosts?.[r],z_=r=>{const e=aT(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},B_=()=>vd()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dc(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function q_(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H_(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...r};return[$u(JSON.stringify(i)),$u(JSON.stringify(d)),""].join(".")}const Jl={};function oT(){const r={prod:[],emulator:[]};for(const e of Object.keys(Jl))Jl[e]?r.emulator.push(e):r.prod.push(e);return r}function uT(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let Sy=!1;function F_(r,e){if(typeof window>"u"||typeof document>"u"||!dc(window.location.host)||Jl[r]===e||Jl[r]||Sy)return;Jl[r]=e;function i(V){return`__firebase__banner__${V}`}const a="__firebase__banner",h=oT().prod.length>0;function d(){const V=document.getElementById(a);V&&V.remove()}function g(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function y(V,q){V.setAttribute("width","24"),V.setAttribute("id",q),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function v(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{Sy=!0,d()},V}function b(V,q){V.setAttribute("id",q),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function I(){const V=uT(a),q=i("text"),G=document.getElementById(q)||document.createElement("span"),ot=i("learnmore"),$=document.getElementById(ot)||document.createElement("a"),tt=i("preprendIcon"),ht=document.getElementById(tt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const ft=V.element;g(ft),b($,ot);const mt=v();y(ht,tt),ft.append(ht,G,$,mt),document.body.appendChild(ft)}h?(G.innerText="Preview backend disconnected.",ht.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ht.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",I):I()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hT(){const r=vd()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fT(){return!hT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dT(){try{return typeof indexedDB=="object"}catch{return!1}}function pT(){return new Promise((r,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="FirebaseError";class Ir extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=mT,Object.setPrototypeOf(this,Ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,G_.prototype.create)}}class G_{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?gT(h,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Ir(o,g,a)}}function gT(r,e){return r.replace(yT,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const yT=/\{\$([^}]+)}/g;function Zu(r,e){if(r===e)return!0;const i=Object.keys(r),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const h=r[o],d=e[o];if(xy(h)&&xy(d)){if(!Zu(h,d))return!1}else if(h!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function xy(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(r){return r&&r._delegate?r._delegate:r}class Ia{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new lT;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ET(e))try{this.getOrInitializeService({instanceIdentifier:Sr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});a.resolve(h)}catch{}}}}clearInstance(e=Sr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Sr){return this.instances.has(e)}getOptions(e=Sr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);a===g&&d.resolve(o)}return o}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(e),this.onInitCallbacks.set(a,o);const h=this.instances.get(a);return h&&e(h,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:vT(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Sr){return this.component?this.component.multipleInstances?e:Sr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vT(r){return r===Sr?void 0:r}function ET(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new _T(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Yt||(Yt={}));const bT={debug:Yt.DEBUG,verbose:Yt.VERBOSE,info:Yt.INFO,warn:Yt.WARN,error:Yt.ERROR,silent:Yt.SILENT},ST=Yt.INFO,xT={[Yt.DEBUG]:"log",[Yt.VERBOSE]:"log",[Yt.INFO]:"info",[Yt.WARN]:"warn",[Yt.ERROR]:"error"},AT=(r,e,...i)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=xT[e];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Q_{constructor(e){this.name=e,this._logLevel=ST,this._logHandler=AT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Yt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Yt.DEBUG,...e),this._logHandler(this,Yt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Yt.VERBOSE,...e),this._logHandler(this,Yt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Yt.INFO,...e),this._logHandler(this,Yt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Yt.WARN,...e),this._logHandler(this,Yt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Yt.ERROR,...e),this._logHandler(this,Yt.ERROR,...e)}}const RT=(r,e)=>e.some(i=>r instanceof i);let Ay,Ry;function wT(){return Ay||(Ay=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CT(){return Ry||(Ry=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Y_=new WeakMap,$f=new WeakMap,K_=new WeakMap,zf=new WeakMap,Ed=new WeakMap;function DT(r){const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",h),r.removeEventListener("error",d)},h=()=>{i(Cs(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",h),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Y_.set(i,r)}).catch(()=>{}),Ed.set(e,r),e}function NT(r){if($f.has(r))return;const e=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",d),r.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",h),r.addEventListener("error",d),r.addEventListener("abort",d)});$f.set(r,e)}let Zf={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return $f.get(r);if(e==="objectStoreNames")return r.objectStoreNames||K_.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Cs(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function IT(r){Zf=r(Zf)}function MT(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=r.call(Bf(this),e,...i);return K_.set(a,e.sort?e.sort():[e]),Cs(a)}:CT().includes(r)?function(...e){return r.apply(Bf(this),e),Cs(Y_.get(this))}:function(...e){return Cs(r.apply(Bf(this),e))}}function VT(r){return typeof r=="function"?MT(r):(r instanceof IDBTransaction&&NT(r),RT(r,wT())?new Proxy(r,Zf):r)}function Cs(r){if(r instanceof IDBRequest)return DT(r);if(zf.has(r))return zf.get(r);const e=VT(r);return e!==r&&(zf.set(r,e),Ed.set(e,r)),e}const Bf=r=>Ed.get(r);function OT(r,e,{blocked:i,upgrade:a,blocking:o,terminated:h}={}){const d=indexedDB.open(r,e),g=Cs(d);return a&&d.addEventListener("upgradeneeded",y=>{a(Cs(d.result),y.oldVersion,y.newVersion,Cs(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{h&&y.addEventListener("close",()=>h()),o&&y.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const jT=["get","getKey","getAll","getAllKeys","count"],kT=["put","add","delete","clear"],qf=new Map;function wy(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(qf.get(e))return qf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=kT.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||jT.includes(i)))return;const h=async function(d,...g){const y=this.transaction(d,o?"readwrite":"readonly");let v=y.store;return a&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),o&&y.done]))[0]};return qf.set(e,h),h}IT(r=>({...r,get:(e,i,a)=>wy(e,i)||r.get(e,i,a),has:(e,i)=>!!wy(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(UT(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function UT(r){return r.getComponent()?.type==="VERSION"}const Jf="@firebase/app",Cy="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=new Q_("@firebase/app"),LT="@firebase/app-compat",zT="@firebase/analytics-compat",BT="@firebase/analytics",qT="@firebase/app-check-compat",HT="@firebase/app-check",FT="@firebase/auth",GT="@firebase/auth-compat",QT="@firebase/database",YT="@firebase/data-connect",KT="@firebase/database-compat",XT="@firebase/functions",$T="@firebase/functions-compat",ZT="@firebase/installations",JT="@firebase/installations-compat",WT="@firebase/messaging",tb="@firebase/messaging-compat",eb="@firebase/performance",nb="@firebase/performance-compat",ib="@firebase/remote-config",sb="@firebase/remote-config-compat",rb="@firebase/storage",ab="@firebase/storage-compat",lb="@firebase/firestore",ob="@firebase/ai",ub="@firebase/firestore-compat",cb="firebase",hb="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wf="[DEFAULT]",fb={[Jf]:"fire-core",[LT]:"fire-core-compat",[BT]:"fire-analytics",[zT]:"fire-analytics-compat",[HT]:"fire-app-check",[qT]:"fire-app-check-compat",[FT]:"fire-auth",[GT]:"fire-auth-compat",[QT]:"fire-rtdb",[YT]:"fire-data-connect",[KT]:"fire-rtdb-compat",[XT]:"fire-fn",[$T]:"fire-fn-compat",[ZT]:"fire-iid",[JT]:"fire-iid-compat",[WT]:"fire-fcm",[tb]:"fire-fcm-compat",[eb]:"fire-perf",[nb]:"fire-perf-compat",[ib]:"fire-rc",[sb]:"fire-rc-compat",[rb]:"fire-gcs",[ab]:"fire-gcs-compat",[lb]:"fire-fst",[ub]:"fire-fst-compat",[ob]:"fire-vertex","fire-js":"fire-js",[cb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju=new Map,db=new Map,td=new Map;function Dy(r,e){try{r.container.addComponent(e)}catch(i){Bi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function io(r){const e=r.name;if(td.has(e))return Bi.debug(`There were multiple attempts to register component ${e}.`),!1;td.set(e,r);for(const i of Ju.values())Dy(i,r);for(const i of db.values())Dy(i,r);return!0}function X_(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function $_(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ds=new G_("app","Firebase",pb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ia("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ds.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_=hb;function J_(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const a={name:Wf,automaticDataCollectionEnabled:!0,...e},o=a.name;if(typeof o!="string"||!o)throw Ds.create("bad-app-name",{appName:String(o)});if(i||(i=B_()),!i)throw Ds.create("no-options");const h=Ju.get(o);if(h){if(Zu(i,h.options)&&Zu(a,h.config))return h;throw Ds.create("duplicate-app",{appName:o})}const d=new TT(o);for(const y of td.values())d.addComponent(y);const g=new mb(i,a,d);return Ju.set(o,g),g}function W_(r=Wf){const e=Ju.get(r);if(!e&&r===Wf&&B_())return J_();if(!e)throw Ds.create("no-app",{appName:r});return e}function Ns(r,e,i){let a=fb[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${a}" with version "${e}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bi.warn(d.join(" "));return}io(new Ia(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb="firebase-heartbeat-database",yb=1,so="firebase-heartbeat-store";let Hf=null;function tv(){return Hf||(Hf=OT(gb,yb,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(so)}catch(i){console.warn(i)}}}}).catch(r=>{throw Ds.create("idb-open",{originalErrorMessage:r.message})})),Hf}async function _b(r){try{const i=(await tv()).transaction(so),a=await i.objectStore(so).get(ev(r));return await i.done,a}catch(e){if(e instanceof Ir)Bi.warn(e.message);else{const i=Ds.create("idb-get",{originalErrorMessage:e?.message});Bi.warn(i.message)}}}async function Ny(r,e){try{const a=(await tv()).transaction(so,"readwrite");await a.objectStore(so).put(e,ev(r)),await a.done}catch(i){if(i instanceof Ir)Bi.warn(i.message);else{const a=Ds.create("idb-set",{originalErrorMessage:i?.message});Bi.warn(a.message)}}}function ev(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb=1024,Eb=30;class Tb{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Sb(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Iy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>Eb){const o=xb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Bi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Iy(),{heartbeatsToSend:i,unsentEntries:a}=bb(this._heartbeatsCache.heartbeats),o=$u(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Bi.warn(e),""}}}function Iy(){return new Date().toISOString().substring(0,10)}function bb(r,e=vb){const i=[];let a=r.slice();for(const o of r){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),My(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),My(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class Sb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dT()?pT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await _b(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Ny(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Ny(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function My(r){return $u(JSON.stringify({version:2,heartbeats:r})).length}function xb(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(r){io(new Ia("platform-logger",e=>new PT(e),"PRIVATE")),io(new Ia("heartbeat",e=>new Tb(e),"PRIVATE")),Ns(Jf,Cy,r),Ns(Jf,Cy,"esm2020"),Ns("fire-js","")}Ab("");var Vy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Is,nv;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,C){function S(){}S.prototype=C.prototype,D.F=C.prototype,D.prototype=new S,D.prototype.constructor=D,D.D=function(N,A,j){for(var R=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)R[xt-2]=arguments[xt];return C.prototype[A].apply(N,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,C,S){S||(S=0);const N=Array(16);if(typeof C=="string")for(var A=0;A<16;++A)N[A]=C.charCodeAt(S++)|C.charCodeAt(S++)<<8|C.charCodeAt(S++)<<16|C.charCodeAt(S++)<<24;else for(A=0;A<16;++A)N[A]=C[S++]|C[S++]<<8|C[S++]<<16|C[S++]<<24;C=D.g[0],S=D.g[1],A=D.g[2];let j=D.g[3],R;R=C+(j^S&(A^j))+N[0]+3614090360&4294967295,C=S+(R<<7&4294967295|R>>>25),R=j+(A^C&(S^A))+N[1]+3905402710&4294967295,j=C+(R<<12&4294967295|R>>>20),R=A+(S^j&(C^S))+N[2]+606105819&4294967295,A=j+(R<<17&4294967295|R>>>15),R=S+(C^A&(j^C))+N[3]+3250441966&4294967295,S=A+(R<<22&4294967295|R>>>10),R=C+(j^S&(A^j))+N[4]+4118548399&4294967295,C=S+(R<<7&4294967295|R>>>25),R=j+(A^C&(S^A))+N[5]+1200080426&4294967295,j=C+(R<<12&4294967295|R>>>20),R=A+(S^j&(C^S))+N[6]+2821735955&4294967295,A=j+(R<<17&4294967295|R>>>15),R=S+(C^A&(j^C))+N[7]+4249261313&4294967295,S=A+(R<<22&4294967295|R>>>10),R=C+(j^S&(A^j))+N[8]+1770035416&4294967295,C=S+(R<<7&4294967295|R>>>25),R=j+(A^C&(S^A))+N[9]+2336552879&4294967295,j=C+(R<<12&4294967295|R>>>20),R=A+(S^j&(C^S))+N[10]+4294925233&4294967295,A=j+(R<<17&4294967295|R>>>15),R=S+(C^A&(j^C))+N[11]+2304563134&4294967295,S=A+(R<<22&4294967295|R>>>10),R=C+(j^S&(A^j))+N[12]+1804603682&4294967295,C=S+(R<<7&4294967295|R>>>25),R=j+(A^C&(S^A))+N[13]+4254626195&4294967295,j=C+(R<<12&4294967295|R>>>20),R=A+(S^j&(C^S))+N[14]+2792965006&4294967295,A=j+(R<<17&4294967295|R>>>15),R=S+(C^A&(j^C))+N[15]+1236535329&4294967295,S=A+(R<<22&4294967295|R>>>10),R=C+(A^j&(S^A))+N[1]+4129170786&4294967295,C=S+(R<<5&4294967295|R>>>27),R=j+(S^A&(C^S))+N[6]+3225465664&4294967295,j=C+(R<<9&4294967295|R>>>23),R=A+(C^S&(j^C))+N[11]+643717713&4294967295,A=j+(R<<14&4294967295|R>>>18),R=S+(j^C&(A^j))+N[0]+3921069994&4294967295,S=A+(R<<20&4294967295|R>>>12),R=C+(A^j&(S^A))+N[5]+3593408605&4294967295,C=S+(R<<5&4294967295|R>>>27),R=j+(S^A&(C^S))+N[10]+38016083&4294967295,j=C+(R<<9&4294967295|R>>>23),R=A+(C^S&(j^C))+N[15]+3634488961&4294967295,A=j+(R<<14&4294967295|R>>>18),R=S+(j^C&(A^j))+N[4]+3889429448&4294967295,S=A+(R<<20&4294967295|R>>>12),R=C+(A^j&(S^A))+N[9]+568446438&4294967295,C=S+(R<<5&4294967295|R>>>27),R=j+(S^A&(C^S))+N[14]+3275163606&4294967295,j=C+(R<<9&4294967295|R>>>23),R=A+(C^S&(j^C))+N[3]+4107603335&4294967295,A=j+(R<<14&4294967295|R>>>18),R=S+(j^C&(A^j))+N[8]+1163531501&4294967295,S=A+(R<<20&4294967295|R>>>12),R=C+(A^j&(S^A))+N[13]+2850285829&4294967295,C=S+(R<<5&4294967295|R>>>27),R=j+(S^A&(C^S))+N[2]+4243563512&4294967295,j=C+(R<<9&4294967295|R>>>23),R=A+(C^S&(j^C))+N[7]+1735328473&4294967295,A=j+(R<<14&4294967295|R>>>18),R=S+(j^C&(A^j))+N[12]+2368359562&4294967295,S=A+(R<<20&4294967295|R>>>12),R=C+(S^A^j)+N[5]+4294588738&4294967295,C=S+(R<<4&4294967295|R>>>28),R=j+(C^S^A)+N[8]+2272392833&4294967295,j=C+(R<<11&4294967295|R>>>21),R=A+(j^C^S)+N[11]+1839030562&4294967295,A=j+(R<<16&4294967295|R>>>16),R=S+(A^j^C)+N[14]+4259657740&4294967295,S=A+(R<<23&4294967295|R>>>9),R=C+(S^A^j)+N[1]+2763975236&4294967295,C=S+(R<<4&4294967295|R>>>28),R=j+(C^S^A)+N[4]+1272893353&4294967295,j=C+(R<<11&4294967295|R>>>21),R=A+(j^C^S)+N[7]+4139469664&4294967295,A=j+(R<<16&4294967295|R>>>16),R=S+(A^j^C)+N[10]+3200236656&4294967295,S=A+(R<<23&4294967295|R>>>9),R=C+(S^A^j)+N[13]+681279174&4294967295,C=S+(R<<4&4294967295|R>>>28),R=j+(C^S^A)+N[0]+3936430074&4294967295,j=C+(R<<11&4294967295|R>>>21),R=A+(j^C^S)+N[3]+3572445317&4294967295,A=j+(R<<16&4294967295|R>>>16),R=S+(A^j^C)+N[6]+76029189&4294967295,S=A+(R<<23&4294967295|R>>>9),R=C+(S^A^j)+N[9]+3654602809&4294967295,C=S+(R<<4&4294967295|R>>>28),R=j+(C^S^A)+N[12]+3873151461&4294967295,j=C+(R<<11&4294967295|R>>>21),R=A+(j^C^S)+N[15]+530742520&4294967295,A=j+(R<<16&4294967295|R>>>16),R=S+(A^j^C)+N[2]+3299628645&4294967295,S=A+(R<<23&4294967295|R>>>9),R=C+(A^(S|~j))+N[0]+4096336452&4294967295,C=S+(R<<6&4294967295|R>>>26),R=j+(S^(C|~A))+N[7]+1126891415&4294967295,j=C+(R<<10&4294967295|R>>>22),R=A+(C^(j|~S))+N[14]+2878612391&4294967295,A=j+(R<<15&4294967295|R>>>17),R=S+(j^(A|~C))+N[5]+4237533241&4294967295,S=A+(R<<21&4294967295|R>>>11),R=C+(A^(S|~j))+N[12]+1700485571&4294967295,C=S+(R<<6&4294967295|R>>>26),R=j+(S^(C|~A))+N[3]+2399980690&4294967295,j=C+(R<<10&4294967295|R>>>22),R=A+(C^(j|~S))+N[10]+4293915773&4294967295,A=j+(R<<15&4294967295|R>>>17),R=S+(j^(A|~C))+N[1]+2240044497&4294967295,S=A+(R<<21&4294967295|R>>>11),R=C+(A^(S|~j))+N[8]+1873313359&4294967295,C=S+(R<<6&4294967295|R>>>26),R=j+(S^(C|~A))+N[15]+4264355552&4294967295,j=C+(R<<10&4294967295|R>>>22),R=A+(C^(j|~S))+N[6]+2734768916&4294967295,A=j+(R<<15&4294967295|R>>>17),R=S+(j^(A|~C))+N[13]+1309151649&4294967295,S=A+(R<<21&4294967295|R>>>11),R=C+(A^(S|~j))+N[4]+4149444226&4294967295,C=S+(R<<6&4294967295|R>>>26),R=j+(S^(C|~A))+N[11]+3174756917&4294967295,j=C+(R<<10&4294967295|R>>>22),R=A+(C^(j|~S))+N[2]+718787259&4294967295,A=j+(R<<15&4294967295|R>>>17),R=S+(j^(A|~C))+N[9]+3951481745&4294967295,D.g[0]=D.g[0]+C&4294967295,D.g[1]=D.g[1]+(A+(R<<21&4294967295|R>>>11))&4294967295,D.g[2]=D.g[2]+A&4294967295,D.g[3]=D.g[3]+j&4294967295}a.prototype.v=function(D,C){C===void 0&&(C=D.length);const S=C-this.blockSize,N=this.C;let A=this.h,j=0;for(;j<C;){if(A==0)for(;j<=S;)o(this,D,j),j+=this.blockSize;if(typeof D=="string"){for(;j<C;)if(N[A++]=D.charCodeAt(j++),A==this.blockSize){o(this,N),A=0;break}}else for(;j<C;)if(N[A++]=D[j++],A==this.blockSize){o(this,N),A=0;break}}this.h=A,this.o+=C},a.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var C=1;C<D.length-8;++C)D[C]=0;C=this.o*8;for(var S=D.length-8;S<D.length;++S)D[S]=C&255,C/=256;for(this.v(D),D=Array(16),C=0,S=0;S<4;++S)for(let N=0;N<32;N+=8)D[C++]=this.g[S]>>>N&255;return D};function h(D,C){var S=g;return Object.prototype.hasOwnProperty.call(S,D)?S[D]:S[D]=C(D)}function d(D,C){this.h=C;const S=[];let N=!0;for(let A=D.length-1;A>=0;A--){const j=D[A]|0;N&&j==C||(S[A]=j,N=!1)}this.g=S}var g={};function y(D){return-128<=D&&D<128?h(D,function(C){return new d([C|0],C<0?-1:0)}):new d([D|0],D<0?-1:0)}function v(D){if(isNaN(D)||!isFinite(D))return I;if(D<0)return $(v(-D));const C=[];let S=1;for(let N=0;D>=S;N++)C[N]=D/S|0,S*=4294967296;return new d(C,0)}function b(D,C){if(D.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(D.charAt(0)=="-")return $(b(D.substring(1),C));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const S=v(Math.pow(C,8));let N=I;for(let j=0;j<D.length;j+=8){var A=Math.min(8,D.length-j);const R=parseInt(D.substring(j,j+A),C);A<8?(A=v(Math.pow(C,A)),N=N.j(A).add(v(R))):(N=N.j(S),N=N.add(v(R)))}return N}var I=y(0),V=y(1),q=y(16777216);r=d.prototype,r.m=function(){if(ot(this))return-$(this).m();let D=0,C=1;for(let S=0;S<this.g.length;S++){const N=this.i(S);D+=(N>=0?N:4294967296+N)*C,C*=4294967296}return D},r.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(G(this))return"0";if(ot(this))return"-"+$(this).toString(D);const C=v(Math.pow(D,6));var S=this;let N="";for(;;){const A=mt(S,C).g;S=tt(S,A.j(C));let j=((S.g.length>0?S.g[0]:S.h)>>>0).toString(D);if(S=A,G(S))return j+N;for(;j.length<6;)j="0"+j;N=j+N}},r.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function G(D){if(D.h!=0)return!1;for(let C=0;C<D.g.length;C++)if(D.g[C]!=0)return!1;return!0}function ot(D){return D.h==-1}r.l=function(D){return D=tt(this,D),ot(D)?-1:G(D)?0:1};function $(D){const C=D.g.length,S=[];for(let N=0;N<C;N++)S[N]=~D.g[N];return new d(S,~D.h).add(V)}r.abs=function(){return ot(this)?$(this):this},r.add=function(D){const C=Math.max(this.g.length,D.g.length),S=[];let N=0;for(let A=0;A<=C;A++){let j=N+(this.i(A)&65535)+(D.i(A)&65535),R=(j>>>16)+(this.i(A)>>>16)+(D.i(A)>>>16);N=R>>>16,j&=65535,R&=65535,S[A]=R<<16|j}return new d(S,S[S.length-1]&-2147483648?-1:0)};function tt(D,C){return D.add($(C))}r.j=function(D){if(G(this)||G(D))return I;if(ot(this))return ot(D)?$(this).j($(D)):$($(this).j(D));if(ot(D))return $(this.j($(D)));if(this.l(q)<0&&D.l(q)<0)return v(this.m()*D.m());const C=this.g.length+D.g.length,S=[];for(var N=0;N<2*C;N++)S[N]=0;for(N=0;N<this.g.length;N++)for(let A=0;A<D.g.length;A++){const j=this.i(N)>>>16,R=this.i(N)&65535,xt=D.i(A)>>>16,nt=D.i(A)&65535;S[2*N+2*A]+=R*nt,ht(S,2*N+2*A),S[2*N+2*A+1]+=j*nt,ht(S,2*N+2*A+1),S[2*N+2*A+1]+=R*xt,ht(S,2*N+2*A+1),S[2*N+2*A+2]+=j*xt,ht(S,2*N+2*A+2)}for(D=0;D<C;D++)S[D]=S[2*D+1]<<16|S[2*D];for(D=C;D<2*C;D++)S[D]=0;return new d(S,0)};function ht(D,C){for(;(D[C]&65535)!=D[C];)D[C+1]+=D[C]>>>16,D[C]&=65535,C++}function ft(D,C){this.g=D,this.h=C}function mt(D,C){if(G(C))throw Error("division by zero");if(G(D))return new ft(I,I);if(ot(D))return C=mt($(D),C),new ft($(C.g),$(C.h));if(ot(C))return C=mt(D,$(C)),new ft($(C.g),C.h);if(D.g.length>30){if(ot(D)||ot(C))throw Error("slowDivide_ only works with positive integers.");for(var S=V,N=C;N.l(D)<=0;)S=gt(S),N=gt(N);var A=z(S,1),j=z(N,1);for(N=z(N,2),S=z(S,2);!G(N);){var R=j.add(N);R.l(D)<=0&&(A=A.add(S),j=R),N=z(N,1),S=z(S,1)}return C=tt(D,A.j(C)),new ft(A,C)}for(A=I;D.l(C)>=0;){for(S=Math.max(1,Math.floor(D.m()/C.m())),N=Math.ceil(Math.log(S)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),j=v(S),R=j.j(C);ot(R)||R.l(D)>0;)S-=N,j=v(S),R=j.j(C);G(j)&&(j=V),A=A.add(j),D=tt(D,R)}return new ft(A,D)}r.B=function(D){return mt(this,D).h},r.and=function(D){const C=Math.max(this.g.length,D.g.length),S=[];for(let N=0;N<C;N++)S[N]=this.i(N)&D.i(N);return new d(S,this.h&D.h)},r.or=function(D){const C=Math.max(this.g.length,D.g.length),S=[];for(let N=0;N<C;N++)S[N]=this.i(N)|D.i(N);return new d(S,this.h|D.h)},r.xor=function(D){const C=Math.max(this.g.length,D.g.length),S=[];for(let N=0;N<C;N++)S[N]=this.i(N)^D.i(N);return new d(S,this.h^D.h)};function gt(D){const C=D.g.length+1,S=[];for(let N=0;N<C;N++)S[N]=D.i(N)<<1|D.i(N-1)>>>31;return new d(S,D.h)}function z(D,C){const S=C>>5;C%=32;const N=D.g.length-S,A=[];for(let j=0;j<N;j++)A[j]=C>0?D.i(j+S)>>>C|D.i(j+S+1)<<32-C:D.i(j+S);return new d(A,D.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,nv=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=b,Is=d}).apply(typeof Vy<"u"?Vy:typeof self<"u"?self:typeof window<"u"?window:{});var Pu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var iv,Kl,sv,Hu,ed,rv,av,lv;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pu=="object"&&Pu];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var _=a;u=u.split(".");for(var x=0;x<u.length-1;x++){var F=u[x];if(!(F in _))break t;_=_[F]}u=u[u.length-1],x=_[u],m=m(x),m!=x&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var _=[],x;for(x in m)Object.prototype.hasOwnProperty.call(m,x)&&_.push([x,m[x]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,_){return u.call.apply(u.bind,arguments)}function v(u,m,_){return v=y,v.apply(null,arguments)}function b(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var x=_.slice();return x.push.apply(x,arguments),u.apply(this,x)}}function I(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(x,F,Z){for(var pt=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)pt[Mt-2]=arguments[Mt];return m.prototype[F].apply(x,pt)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function q(u){const m=u.length;if(m>0){const _=Array(m);for(let x=0;x<m;x++)_[x]=u[x];return _}return[]}function G(u,m){for(let x=1;x<arguments.length;x++){const F=arguments[x];var _=typeof F;if(_=_!="object"?_:F?Array.isArray(F)?"array":_:"null",_=="array"||_=="object"&&typeof F.length=="number"){_=u.length||0;const Z=F.length||0;u.length=_+Z;for(let pt=0;pt<Z;pt++)u[_+pt]=F[pt]}else u.push(F)}}class ot{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function $(u){d.setTimeout(()=>{throw u},0)}function tt(){var u=D;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ht{constructor(){this.h=this.g=null}add(m,_){const x=ft.get();x.set(m,_),this.h?this.h.next=x:this.g=x,this.h=x}}var ft=new ot(()=>new mt,u=>u.reset());class mt{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let gt,z=!1,D=new ht,C=()=>{const u=Promise.resolve(void 0);gt=()=>{u.then(S)}};function S(){for(var u;u=tt();){try{u.h.call(u.g)}catch(_){$(_)}var m=ft;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}z=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function A(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}A.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function xt(u,m){A.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}I(xt,A),xt.prototype.init=function(u,m){const _=this.type=u.type,x=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&xt.Z.h.call(this)},xt.prototype.h=function(){xt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var nt="closure_listenable_"+(Math.random()*1e6|0),O=0;function Q(u,m,_,x,F){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!x,this.ha=F,this.key=++O,this.da=this.fa=!1}function W(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function lt(u,m,_){for(const x in u)m.call(_,u[x],x,u)}function w(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function B(u){const m={};for(const _ in u)m[_]=u[_];return m}const et="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(u,m){let _,x;for(let F=1;F<arguments.length;F++){x=arguments[F];for(_ in x)u[_]=x[_];for(let Z=0;Z<et.length;Z++)_=et[Z],Object.prototype.hasOwnProperty.call(x,_)&&(u[_]=x[_])}}function J(u){this.src=u,this.g={},this.h=0}J.prototype.add=function(u,m,_,x,F){const Z=u.toString();u=this.g[Z],u||(u=this.g[Z]=[],this.h++);const pt=ct(u,m,x,F);return pt>-1?(m=u[pt],_||(m.fa=!1)):(m=new Q(m,this.src,Z,!!x,F),m.fa=_,u.push(m)),m};function L(u,m){const _=m.type;if(_ in u.g){var x=u.g[_],F=Array.prototype.indexOf.call(x,m,void 0),Z;(Z=F>=0)&&Array.prototype.splice.call(x,F,1),Z&&(W(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function ct(u,m,_,x){for(let F=0;F<u.length;++F){const Z=u[F];if(!Z.da&&Z.listener==m&&Z.capture==!!_&&Z.ha==x)return F}return-1}var Et="closure_lm_"+(Math.random()*1e6|0),_t={};function dt(u,m,_,x,F){if(Array.isArray(m)){for(let Z=0;Z<m.length;Z++)dt(u,m[Z],_,x,F);return null}return _=_o(_),u&&u[nt]?u.J(m,_,g(x)?!!x.capture:!1,F):Ht(u,m,_,!1,x,F)}function Ht(u,m,_,x,F,Z){if(!m)throw Error("Invalid event type");const pt=g(F)?!!F.capture:!!F;let Mt=zs(u);if(Mt||(u[Et]=Mt=new J(u)),_=Mt.add(m,_,x,pt,Z),_.proxy)return _;if(x=Ut(),_.proxy=x,x.src=u,x.listener=_,u.addEventListener)j||(F=pt),F===void 0&&(F=!1),u.addEventListener(m.toString(),x,F);else if(u.attachEvent)u.attachEvent(Ot(m.toString()),x);else if(u.addListener&&u.removeListener)u.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ut(){function u(_){return m.call(u.src,u.listener,_)}const m=_i;return u}function Ft(u,m,_,x,F){if(Array.isArray(m))for(var Z=0;Z<m.length;Z++)Ft(u,m[Z],_,x,F);else x=g(x)?!!x.capture:!!x,_=_o(_),u&&u[nt]?(u=u.i,Z=String(m).toString(),Z in u.g&&(m=u.g[Z],_=ct(m,_,x,F),_>-1&&(W(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[Z],u.h--)))):u&&(u=zs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ct(m,_,x,F)),(_=u>-1?m[u]:null)&&Nt(_))}function Nt(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[nt])L(m.i,u);else{var _=u.type,x=u.proxy;m.removeEventListener?m.removeEventListener(_,x,u.capture):m.detachEvent?m.detachEvent(Ot(_),x):m.addListener&&m.removeListener&&m.removeListener(x),(_=zs(m))?(L(_,u),_.h==0&&(_.src=null,m[Et]=null)):W(u)}}}function Ot(u){return u in _t?_t[u]:_t[u]="on"+u}function _i(u,m){if(u.da)u=!0;else{m=new xt(m,this);const _=u.listener,x=u.ha||u.src;u.fa&&Nt(u),u=_.call(x,m)}return u}function zs(u){return u=u[Et],u instanceof J?u:null}var Ye="__closure_events_fn_"+(Math.random()*1e9>>>0);function _o(u){return typeof u=="function"?u:(u[Ye]||(u[Ye]=function(m){return u.handleEvent(m)}),u[Ye])}function we(){N.call(this),this.i=new J(this),this.M=this,this.G=null}I(we,N),we.prototype[nt]=!0,we.prototype.removeEventListener=function(u,m,_,x){Ft(this,u,m,_,x)};function Oe(u,m){var _,x=u.G;if(x)for(_=[];x;x=x.G)_.push(x);if(u=u.M,x=m.type||m,typeof m=="string")m=new A(m,u);else if(m instanceof A)m.target=m.target||u;else{var F=m;m=new A(x,u),P(m,F)}F=!0;let Z,pt;if(_)for(pt=_.length-1;pt>=0;pt--)Z=m.g=_[pt],F=vi(Z,x,!0,m)&&F;if(Z=m.g=u,F=vi(Z,x,!0,m)&&F,F=vi(Z,x,!1,m)&&F,_)for(pt=0;pt<_.length;pt++)Z=m.g=_[pt],F=vi(Z,x,!1,m)&&F}we.prototype.N=function(){if(we.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let x=0;x<_.length;x++)W(_[x]);delete u.g[m],u.h--}}this.G=null},we.prototype.J=function(u,m,_,x){return this.i.add(String(u),m,!1,_,x)},we.prototype.K=function(u,m,_,x){return this.i.add(String(u),m,!0,_,x)};function vi(u,m,_,x){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let F=!0;for(let Z=0;Z<m.length;++Z){const pt=m[Z];if(pt&&!pt.da&&pt.capture==_){const Mt=pt.listener,le=pt.ha||pt.src;pt.fa&&L(u.i,pt),F=Mt.call(le,x)!==!1&&F}}return F&&!x.defaultPrevented}function jc(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=v(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function qa(u){u.g=jc(()=>{u.g=null,u.i&&(u.i=!1,qa(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class kc extends N{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:qa(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bs(u){N.call(this),this.h=u,this.g={}}I(Bs,N);var Fi=[];function Ke(u){lt(u.g,function(m,_){this.g.hasOwnProperty(_)&&Nt(m)},u),u.g={}}Bs.prototype.N=function(){Bs.Z.N.call(this),Ke(this)},Bs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var En=d.JSON.stringify,nn=d.JSON.parse,Pc=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function vo(){}function Eo(){}var Kn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Gi(){A.call(this,"d")}I(Gi,A);function kn(){A.call(this,"c")}I(kn,A);var Tn={},Qi=null;function kr(){return Qi=Qi||new we}Tn.Ia="serverreachability";function Ha(u){A.call(this,Tn.Ia,u)}I(Ha,A);function Yi(u){const m=kr();Oe(m,new Ha(m))}Tn.STAT_EVENT="statevent";function Pr(u,m){A.call(this,Tn.STAT_EVENT,u),this.stat=m}I(Pr,A);function ge(u){const m=kr();Oe(m,new Pr(m,u))}Tn.Ja="timingevent";function To(u,m){A.call(this,Tn.Ja,u),this.size=m}I(To,A);function Ki(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Xi(){this.g=!0}Xi.prototype.ua=function(){this.g=!1};function Fa(u,m,_,x,F,Z){u.info(function(){if(u.g)if(Z){var pt="",Mt=Z.split("&");for(let Zt=0;Zt<Mt.length;Zt++){var le=Mt[Zt].split("=");if(le.length>1){const ve=le[0];le=le[1];const fn=ve.split("_");pt=fn.length>=2&&fn[1]=="type"?pt+(ve+"="+le+"&"):pt+(ve+"=redacted&")}}}else pt=null;else pt=Z;return"XMLHTTP REQ ("+x+") [attempt "+F+"]: "+m+`
`+_+`
`+pt})}function Ga(u,m,_,x,F,Z,pt){u.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+F+"]: "+m+`
`+_+`
`+Z+" "+pt})}function Ei(u,m,_,x){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Xn(u,_)+(x?" "+x:"")})}function Uc(u,m){u.info(function(){return"TIMEOUT: "+m})}Xi.prototype.info=function(){};function Xn(u,m){if(!u.g)return m;if(!m)return null;try{const Z=JSON.parse(m);if(Z){for(u=0;u<Z.length;u++)if(Array.isArray(Z[u])){var _=Z[u];if(!(_.length<2)){var x=_[1];if(Array.isArray(x)&&!(x.length<1)){var F=x[0];if(F!="noop"&&F!="stop"&&F!="close")for(let pt=1;pt<x.length;pt++)x[pt]=""}}}}return En(Z)}catch{return m}}var ye={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ze={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ti;function qs(){}I(qs,vo),qs.prototype.g=function(){return new XMLHttpRequest},Ti=new qs;function Hs(u){return encodeURIComponent(String(u))}function Lc(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function Pn(u,m,_,x){this.j=u,this.i=m,this.l=_,this.S=x||1,this.V=new Bs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new $i}function $i(){this.i=null,this.g="",this.h=!1}var Ur={},$n={};function Zn(u,m,_){u.M=1,u.A=Si(he(m)),u.u=_,u.R=!0,Zi(u,null)}function Zi(u,m){u.F=Date.now(),Fs(u),u.B=he(u.A);var _=u.B,x=u.S;Array.isArray(x)||(x=[String(x)]),Ao(_.i,"t",x),u.C=0,_=u.j.L,u.h=new $i,u.g=Kr(u.j,_?m:null,!u.u),u.P>0&&(u.O=new kc(v(u.Y,u,u.g),u.P)),m=u.V,_=u.g,x=u.ba;var F="readystatechange";Array.isArray(F)||(F&&(Fi[0]=F.toString()),F=Fi);for(let Z=0;Z<F.length;Z++){const pt=dt(_,F[Z],x||m.handleEvent,!1,m.h||m);if(!pt)break;m.g[pt.key]=pt}m=u.J?B(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Yi(),Fa(u.i,u.v,u.B,u.l,u.S,u.u)}Pn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Xe(u)==3?m.j():this.Y(u)},Pn.prototype.Y=function(u){try{if(u==this.g)t:{const Mt=Xe(this.g),le=this.g.ya(),Zt=this.g.ca();if(!(Mt<3)&&(Mt!=3||this.g&&(this.h.h||this.g.la()||er(this.g)))){this.K||Mt!=4||le==7||(le==8||Zt<=0?Yi(3):Yi(2)),Wn(this);var m=this.g.ca();this.X=m;var _=Ji(this);if(this.o=m==200,Ga(this.i,this.v,this.B,this.l,this.S,Mt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var x,F=this.g;if((x=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(x)){var Z=x;break e}}Z=null}if(u=Z)Ei(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Lr(this,u);else{this.o=!1,this.m=3,ge(12),ti(this),Gs(this);break t}}if(this.R){u=!0;let ve;for(;!this.K&&this.C<_.length;)if(ve=bo(this,_),ve==$n){Mt==4&&(this.m=4,ge(14),u=!1),Ei(this.i,this.l,null,"[Incomplete Response]");break}else if(ve==Ur){this.m=4,ge(15),Ei(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else Ei(this.i,this.l,ve,null),Lr(this,ve);if(_e(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mt!=4||_.length!=0||this.h.h||(this.m=1,ge(16),u=!1),this.o=this.o&&u,!u)Ei(this.i,this.l,_,"[Invalid Chunked Response]"),ti(this),Gs(this);else if(_.length>0&&!this.W){this.W=!0;var pt=this.j;pt.g==this&&pt.aa&&!pt.P&&(pt.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),el(pt),pt.P=!0,ge(11))}}else Ei(this.i,this.l,_,null),Lr(this,_);Mt==4&&ti(this),this.o&&!this.K&&(Mt==4?nl(this.j,this):(this.o=!1,Fs(this)))}else nr(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,ge(12)):(this.m=0,ge(13)),ti(this),Gs(this)}}}catch{}finally{}};function Ji(u){if(!_e(u))return u.g.la();const m=er(u.g);if(m==="")return"";let _="";const x=m.length,F=Xe(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return ti(u),Gs(u),"";u.h.i=new d.TextDecoder}for(let Z=0;Z<x;Z++)u.h.h=!0,_+=u.h.i.decode(m[Z],{stream:!(F&&Z==x-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function _e(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function bo(u,m){var _=u.C,x=m.indexOf(`
`,_);return x==-1?$n:(_=Number(m.substring(_,x)),isNaN(_)?Ur:(x+=1,x+_>m.length?$n:(m=m.slice(x,x+_),u.C=x+_,m)))}Pn.prototype.cancel=function(){this.K=!0,ti(this)};function Fs(u){u.T=Date.now()+u.H,Jn(u,u.H)}function Jn(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Ki(v(u.aa,u),m)}function Wn(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Pn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Uc(this.i,this.B),this.M!=2&&(Yi(),ge(17)),ti(this),this.m=2,Gs(this)):Jn(this,this.T-u)};function Gs(u){u.j.I==0||u.K||nl(u.j,u)}function ti(u){Wn(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Ke(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Lr(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||Ks(_.h,u))){if(!u.L&&Ks(_.h,u)&&_.I==3){try{var x=_.Ba.g.parse(m)}catch{x=null}if(Array.isArray(x)&&x.length==3){var F=x;if(F[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)Yr(_),ei(_);else break t;tl(_),ge(18)}}else _.xa=F[1],0<_.xa-_.K&&F[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=Ki(v(_.Va,_),6e3));bn(_.h)<=1&&_.ta&&(_.ta=void 0)}else Ri(_,11)}else if((u.L||_.g==u)&&Yr(_),!R(m))for(F=_.Ba.g.parse(m),m=0;m<F.length;m++){let Zt=F[m];const ve=Zt[0];if(!(ve<=_.K))if(_.K=ve,Zt=Zt[1],_.I==2)if(Zt[0]=="c"){_.M=Zt[1],_.ba=Zt[2];const fn=Zt[3];fn!=null&&(_.ka=fn,_.j.info("VER="+_.ka));const ni=Zt[4];ni!=null&&(_.za=ni,_.j.info("SVER="+_.za));const zn=Zt[5];zn!=null&&typeof zn=="number"&&zn>0&&(x=1.5*zn,_.O=x,_.j.info("backChannelRequestTimeoutMs_="+x)),x=_;const Bn=u.g;if(Bn){const qn=Bn.g?Bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qn){var Z=x.h;Z.g||qn.indexOf("spdy")==-1&&qn.indexOf("quic")==-1&&qn.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(zr(Z,Z.h),Z.h=null))}if(x.G){const sl=Bn.g?Bn.g.getResponseHeader("X-HTTP-Session-Id"):null;sl&&(x.wa=sl,te(x.J,x.G,sl))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),x=_;var pt=u;if(x.na=Oo(x,x.L?x.ba:null,x.W),pt.L){bi(x.h,pt);var Mt=pt,le=x.O;le&&(Mt.H=le),Mt.D&&(Wn(Mt),Fs(Mt)),x.g=pt}else No(x);_.i.length>0&&ar(_)}else Zt[0]!="stop"&&Zt[0]!="close"||Ri(_,7);else _.I==3&&(Zt[0]=="stop"||Zt[0]=="close"?Zt[0]=="stop"?Ri(_,7):sr(_):Zt[0]!="noop"&&_.l&&_.l.qa(Zt),_.A=0)}}Yi(4)}catch{}}var zc=class{constructor(u,m){this.g=u,this.map=m}};function Qs(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ys(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function bn(u){return u.h?1:u.g?u.g.size:0}function Ks(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function zr(u,m){u.g?u.g.add(m):u.h=m}function bi(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Qs.prototype.cancel=function(){if(this.i=Br(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Br(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return q(u.i)}var qr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bc(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const x=u[_].indexOf("=");let F,Z=null;x>=0?(F=u[_].substring(0,x),Z=u[_].substring(x+1)):F=u[_],m(F,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function Un(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Un?(this.l=u.l,Wi(this,u.j),this.o=u.o,this.g=u.g,Xs(this,u.u),this.h=u.h,ts(this,Ro(u.i)),this.m=u.m):u&&(m=String(u).match(qr))?(this.l=!1,Wi(this,m[1]||"",!0),this.o=$s(m[2]||""),this.g=$s(m[3]||"",!0),Xs(this,m[4]),this.h=$s(m[5]||"",!0),ts(this,m[6]||"",!0),this.m=$s(m[7]||"")):(this.l=!1,this.i=new Sn(null,this.l))}Un.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(je(m,Ya,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(je(m,Ya,!0),"@"),u.push(Hs(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(je(_,_.charAt(0)=="/"?es:Ka,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",je(_,xo)),u.join("")},Un.prototype.resolve=function(u){const m=he(this);let _=!!u.j;_?Wi(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var x=u.h;if(_)Xs(m,u.u);else if(_=!!u.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var F=m.h.lastIndexOf("/");F!=-1&&(x=m.h.slice(0,F+1)+x)}if(F=x,F==".."||F==".")x="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){x=F.lastIndexOf("/",0)==0,F=F.split("/");const Z=[];for(let pt=0;pt<F.length;){const Mt=F[pt++];Mt=="."?x&&pt==F.length&&Z.push(""):Mt==".."?((Z.length>1||Z.length==1&&Z[0]!="")&&Z.pop(),x&&pt==F.length&&Z.push("")):(Z.push(Mt),x=!0)}x=Z.join("/")}else x=F}return _?m.h=x:_=u.i.toString()!=="",_?ts(m,Ro(u.i)):_=!!u.m,_&&(m.m=u.m),m};function he(u){return new Un(u)}function Wi(u,m,_){u.j=_?$s(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Xs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function ts(u,m,_){m instanceof Sn?(u.i=m,Za(u.i,u.l)):(_||(m=je(m,So)),u.i=new Sn(m,u.l))}function te(u,m,_){u.i.set(m,_)}function Si(u){return te(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function $s(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function je(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,Qa),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Qa(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ya=/[#\/\?@]/g,Ka=/[#\?:]/g,es=/[#\?]/g,So=/[#\?@]/g,xo=/#/g;function Sn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function xi(u){u.g||(u.g=new Map,u.h=0,u.i&&Bc(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=Sn.prototype,r.add=function(u,m){xi(this),this.i=null,u=Ln(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function Xa(u,m){xi(u),m=Ln(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function $a(u,m){return xi(u),m=Ln(u,m),u.g.has(m)}r.forEach=function(u,m){xi(this),this.g.forEach(function(_,x){_.forEach(function(F){u.call(m,F,x,this)},this)},this)};function Hr(u,m){xi(u);let _=[];if(typeof m=="string")$a(u,m)&&(_=_.concat(u.g.get(Ln(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}r.set=function(u,m){return xi(this),this.i=null,u=Ln(this,u),$a(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Hr(this,u),u.length>0?String(u[0]):m):m};function Ao(u,m,_){Xa(u,m),_.length>0&&(u.i=null,u.g.set(Ln(u,m),q(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let x=0;x<m.length;x++){var _=m[x];const F=Hs(_);_=Hr(this,_);for(let Z=0;Z<_.length;Z++){let pt=F;_[Z]!==""&&(pt+="="+Hs(_[Z])),u.push(pt)}}return this.i=u.join("&")};function Ro(u){const m=new Sn;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ln(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Za(u,m){m&&!u.j&&(xi(u),u.i=null,u.g.forEach(function(_,x){const F=x.toLowerCase();x!=F&&(Xa(this,x),Ao(this,F,_))},u)),u.j=m}function Ja(u,m){const _=new Xi;if(d.Image){const x=new Image;x.onload=b(sn,_,"TestLoadImage: loaded",!0,m,x),x.onerror=b(sn,_,"TestLoadImage: error",!1,m,x),x.onabort=b(sn,_,"TestLoadImage: abort",!1,m,x),x.ontimeout=b(sn,_,"TestLoadImage: timeout",!1,m,x),d.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=u}else m(!1)}function ns(u,m){const _=new Xi,x=new AbortController,F=setTimeout(()=>{x.abort(),sn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:x.signal}).then(Z=>{clearTimeout(F),Z.ok?sn(_,"TestPingServer: ok",!0,m):sn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(F),sn(_,"TestPingServer: error",!1,m)})}function sn(u,m,_,x,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),x(_)}catch{}}function wo(){this.g=new Pc}function Zs(u){this.i=u.Sb||null,this.h=u.ab||!1}I(Zs,vo),Zs.prototype.g=function(){return new Js(this.i,this.h)};function Js(u,m){we.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}I(Js,we),r=Js.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Ai(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,rn(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ai(this)),this.g&&(this.readyState=3,Ai(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;is(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function is(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?rn(this):Ai(this),this.readyState==3&&is(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,rn(this))},r.Na=function(u){this.g&&(this.response=u,rn(this))},r.ga=function(){this.g&&rn(this)};function rn(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Ai(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Ai(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Js.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ss(u){let m="";return lt(u,function(_,x){m+=x,m+=":",m+=_,m+=`\r
`}),m}function xn(u,m,_){t:{for(x in _){var x=!1;break t}x=!0}x||(_=ss(_),typeof u=="string"?_!=null&&Hs(_):te(u,m,_))}function re(u){we.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}I(re,we);var Fr=/^https?$/i,Co=["POST","PUT"];r=re.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,_,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ti.g(),this.g.onreadystatechange=V(v(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(Z){Ws(this,Z);return}if(u=_||"",_=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var F in x)_.set(F,x[F]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const Z of x.keys())_.set(Z,x.get(Z));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(_.keys()).find(Z=>Z.toLowerCase()=="content-type"),F=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Co,m,void 0)>=0)||x||F||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,pt]of _)this.g.setRequestHeader(Z,pt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(Z){Ws(this,Z)}};function Ws(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,tr(u),Ce(u)}function tr(u){u.A||(u.A=!0,Oe(u,"complete"),Oe(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Oe(this,"complete"),Oe(this,"abort"),Ce(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ce(this,!0)),re.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Wa(this):this.Xa())},r.Xa=function(){Wa(this)};function Wa(u){if(u.h&&typeof h<"u"){if(u.v&&Xe(u)==4)setTimeout(u.Ca.bind(u),0);else if(Oe(u,"readystatechange"),Xe(u)==4){u.h=!1;try{const Z=u.ca();t:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var x;if(x=Z===0){let pt=String(u.D).match(qr)[1]||null;!pt&&d.self&&d.self.location&&(pt=d.self.location.protocol.slice(0,-1)),x=!Fr.test(pt?pt.toLowerCase():"")}_=x}if(_)Oe(u,"complete"),Oe(u,"success");else{u.o=6;try{var F=Xe(u)>2?u.g.statusText:""}catch{F=""}u.l=F+" ["+u.ca()+"]",tr(u)}}finally{Ce(u)}}}}function Ce(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||Oe(u,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Xe(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Xe(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),nn(m)}};function er(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function nr(u){const m={};u=(u.g&&Xe(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<u.length;x++){if(R(u[x]))continue;var _=Lc(u[x]);const F=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Z=m[F]||[];m[F]=Z,Z.push(_)}w(m,function(x){return x.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ir(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function Gr(u){this.za=0,this.i=[],this.j=new Xi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ir("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ir("baseRetryDelayMs",5e3,u),this.Za=ir("retryDelaySeedMs",1e4,u),this.Ta=ir("forwardChannelMaxRetries",2,u),this.va=ir("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Qs(u&&u.concurrentRequestLimit),this.Ba=new wo,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Gr.prototype,r.ka=8,r.I=1,r.connect=function(u,m,_,x){ge(0),this.W=u,this.H=m||{},_&&x!==void 0&&(this.H.OSID=_,this.H.OAID=x),this.F=this.X,this.J=Oo(this,null,this.W),ar(this)};function sr(u){if(rr(u),u.I==3){var m=u.V++,_=he(u.J);if(te(_,"SID",u.M),te(_,"RID",m),te(_,"TYPE","terminate"),lr(u,_),m=new Pn(u,u.j,m),m.M=2,m.A=Si(he(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=Kr(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Fs(m)}Vo(u)}function ei(u){u.g&&(el(u),u.g.cancel(),u.g=null)}function rr(u){ei(u),u.v&&(d.clearTimeout(u.v),u.v=null),Yr(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function ar(u){if(!Ys(u.h)&&!u.m){u.m=!0;var m=u.Ea;gt||C(),z||(gt(),z=!0),D.add(m,u),u.D=0}}function qc(u,m){return bn(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Ki(v(u.Ea,u,m),Mo(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const F=new Pn(this,this.j,u);let Z=this.o;if(this.U&&(Z?(Z=B(Z),P(Z,this.U)):Z=this.U),this.u!==null||this.R||(F.J=Z,Z=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var x=this.i[_];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break e}x=void 0}if(x===void 0)break;if(m+=x,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=Qr(this,F,m),_=he(this.J),te(_,"RID",u),te(_,"CVER",22),this.G&&te(_,"X-HTTP-Session-Id",this.G),lr(this,_),Z&&(this.R?m="headers="+Hs(ss(Z))+"&"+m:this.u&&xn(_,this.u,Z)),zr(this.h,F),this.Ra&&te(_,"TYPE","init"),this.S?(te(_,"$req",m),te(_,"SID","null"),F.U=!0,Zn(F,_,null)):Zn(F,_,m),this.I=2}}else this.I==3&&(u?Do(this,u):this.i.length==0||Ys(this.h)||Do(this))};function Do(u,m){var _;m?_=m.l:_=u.V++;const x=he(u.J);te(x,"SID",u.M),te(x,"RID",_),te(x,"AID",u.K),lr(u,x),u.u&&u.o&&xn(x,u.u,u.o),_=new Pn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Qr(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),zr(u.h,_),Zn(_,x,m)}function lr(u,m){u.H&&lt(u.H,function(_,x){te(m,x,_)}),u.l&&lt({},function(_,x){te(m,x,_)})}function Qr(u,m,_){_=Math.min(u.i.length,_);const x=u.l?v(u.l.Ka,u.l,u):null;t:{var F=u.i;let Mt=-1;for(;;){const le=["count="+_];Mt==-1?_>0?(Mt=F[0].g,le.push("ofs="+Mt)):Mt=0:le.push("ofs="+Mt);let Zt=!0;for(let ve=0;ve<_;ve++){var Z=F[ve].g;const fn=F[ve].map;if(Z-=Mt,Z<0)Mt=Math.max(0,F[ve].g-100),Zt=!1;else try{Z="req"+Z+"_"||"";try{var pt=fn instanceof Map?fn:Object.entries(fn);for(const[ni,zn]of pt){let Bn=zn;g(zn)&&(Bn=En(zn)),le.push(Z+ni+"="+encodeURIComponent(Bn))}}catch(ni){throw le.push(Z+"type="+encodeURIComponent("_badmap")),ni}}catch{x&&x(fn)}}if(Zt){pt=le.join("&");break t}}pt=void 0}return u=u.i.splice(0,_),m.G=u,pt}function No(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;gt||C(),z||(gt(),z=!0),D.add(m,u),u.A=0}}function tl(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Ki(v(u.Da,u),Mo(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Io(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Ki(v(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ge(10),ei(this),Io(this))};function el(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Io(u){u.g=new Pn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=he(u.na);te(m,"RID","rpc"),te(m,"SID",u.M),te(m,"AID",u.K),te(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&te(m,"TO",u.ia),te(m,"TYPE","xmlhttp"),lr(u,m),u.u&&u.o&&xn(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=Si(he(m)),_.u=null,_.R=!0,Zi(_,u)}r.Va=function(){this.C!=null&&(this.C=null,ei(this),tl(this),ge(19))};function Yr(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function nl(u,m){var _=null;if(u.g==m){Yr(u),el(u),u.g=null;var x=2}else if(Ks(u.h,m))_=m.G,bi(u.h,m),x=1;else return;if(u.I!=0){if(m.o)if(x==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var F=u.D;x=kr(),Oe(x,new To(x,_)),ar(u)}else No(u);else if(F=m.m,F==3||F==0&&m.X>0||!(x==1&&qc(u,m)||x==2&&tl(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),F){case 1:Ri(u,5);break;case 4:Ri(u,10);break;case 3:Ri(u,6);break;default:Ri(u,2)}}}function Mo(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function Ri(u,m){if(u.j.info("Error code "+m),m==2){var _=v(u.bb,u),x=u.Ua;const F=!x;x=new Un(x||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Wi(x,"https"),Si(x),F?Ja(x.toString(),_):ns(x.toString(),_)}else ge(2);u.I=0,u.l&&u.l.pa(m),Vo(u),rr(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ge(2)):(this.j.info("Failed to ping google.com"),ge(1))};function Vo(u){if(u.I=0,u.ja=[],u.l){const m=Br(u.h);(m.length!=0||u.i.length!=0)&&(G(u.ja,m),G(u.ja,u.i),u.h.i.length=0,q(u.i),u.i.length=0),u.l.oa()}}function Oo(u,m,_){var x=_ instanceof Un?he(_):new Un(_);if(x.g!="")m&&(x.g=m+"."+x.g),Xs(x,x.u);else{var F=d.location;x=F.protocol,m=m?m+"."+F.hostname:F.hostname,F=+F.port;const Z=new Un(null);x&&Wi(Z,x),m&&(Z.g=m),F&&Xs(Z,F),_&&(Z.h=_),x=Z}return _=u.G,m=u.wa,_&&m&&te(x,_,m),te(x,"VER",u.ka),lr(u,x),x}function Kr(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new re(new Zs({ab:_})):new re(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function jo(){}r=jo.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Xr(){}Xr.prototype.g=function(u,m){return new an(u,m)};function an(u,m){we.call(this),this.g=new Gr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new rs(this)}I(an,we),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){sr(this.g)},an.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=En(u),u=_);m.i.push(new zc(m.Ya++,u)),m.I==3&&ar(m)},an.prototype.N=function(){this.g.l=null,delete this.j,sr(this.g),delete this.g,an.Z.N.call(this)};function il(u){Gi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}I(il,Gi);function ko(){kn.call(this),this.status=1}I(ko,kn);function rs(u){this.g=u}I(rs,jo),rs.prototype.ra=function(){Oe(this.g,"a")},rs.prototype.qa=function(u){Oe(this.g,new il(u))},rs.prototype.pa=function(u){Oe(this.g,new ko)},rs.prototype.oa=function(){Oe(this.g,"b")},Xr.prototype.createWebChannel=Xr.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,lv=function(){return new Xr},av=function(){return kr()},rv=Tn,ed={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ye.NO_ERROR=0,ye.TIMEOUT=8,ye.HTTP_ERROR=6,Hu=ye,ze.COMPLETE="complete",sv=ze,Eo.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",we.prototype.listen=we.prototype.J,Kl=Eo,re.prototype.listenOnce=re.prototype.K,re.prototype.getLastError=re.prototype.Ha,re.prototype.getLastErrorCode=re.prototype.ya,re.prototype.getStatus=re.prototype.ca,re.prototype.getResponseJson=re.prototype.La,re.prototype.getResponseText=re.prototype.la,re.prototype.send=re.prototype.ea,re.prototype.setWithCredentials=re.prototype.Fa,iv=re}).apply(typeof Pu<"u"?Pu:typeof self<"u"?self:typeof window<"u"?window:{});const Oy="@firebase/firestore",jy="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}We.UNAUTHENTICATED=new We(null),We.GOOGLE_CREDENTIALS=new We("google-credentials-uid"),We.FIRST_PARTY=new We("first-party-uid"),We.MOCK_USER=new We("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ua="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr=new Q_("@firebase/firestore");function xa(){return Dr.logLevel}function yt(r,...e){if(Dr.logLevel<=Yt.DEBUG){const i=e.map(Td);Dr.debug(`Firestore (${Ua}): ${r}`,...i)}}function qi(r,...e){if(Dr.logLevel<=Yt.ERROR){const i=e.map(Td);Dr.error(`Firestore (${Ua}): ${r}`,...i)}}function Ma(r,...e){if(Dr.logLevel<=Yt.WARN){const i=e.map(Td);Dr.warn(`Firestore (${Ua}): ${r}`,...i)}}function Td(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(r,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,ov(r,a,i)}function ov(r,e,i){let a=`FIRESTORE (${Ua}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw qi(a),new Error(a)}function $t(r,e,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||ov(e,o,a)}function Vt(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ut={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class bt extends Ir{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Rb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(We.UNAUTHENTICATED)))}shutdown(){}}class wb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Cb{constructor(e){this.t=e,this.currentUser=We.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){$t(this.o===void 0,42304);let a=this.i;const o=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let h=new Ar;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Ar,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const y=h;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},g=y=>{yt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(yt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Ar)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==e?(yt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?($t(typeof a.accessToken=="string",31837,{l:a}),new uv(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $t(e===null||typeof e=="string",2055,{h:e}),new We(e)}}class Db{constructor(e,i,a){this.P=e,this.T=i,this.I=a,this.type="FirstParty",this.user=We.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Nb{constructor(e,i,a){this.P=e,this.T=i,this.I=a}getToken(){return Promise.resolve(new Db(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(We.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ky{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ib{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$_(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){$t(this.o===void 0,3512);const a=h=>{h.error!=null&&yt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,yt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>a(h)))};const o=h=>{yt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):yt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ky(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?($t(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new ky(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=Mb(40);for(let h=0;h<o.length;++h)a.length<20&&o[h]<i&&(a+=e.charAt(o[h]%62))}return a}}function Bt(r,e){return r<e?-1:r>e?1:0}function nd(r,e){const i=Math.min(r.length,e.length);for(let a=0;a<i;a++){const o=r.charAt(a),h=e.charAt(a);if(o!==h)return Ff(o)===Ff(h)?Bt(o,h):Ff(o)?1:-1}return Bt(r.length,e.length)}const Vb=55296,Ob=57343;function Ff(r){const e=r.charCodeAt(0);return e>=Vb&&e<=Ob}function Va(r,e,i){return r.length===e.length&&r.every(((a,o)=>i(a,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py="__name__";class oi{constructor(e,i,a){i===void 0?i=0:i>e.length&&Ct(637,{offset:i,range:e.length}),a===void 0?a=e.length-i:a>e.length-i&&Ct(1746,{length:a,range:e.length-i}),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return oi.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof oi?e.forEach((a=>{i.push(a)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const h=oi.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Bt(e.length,i.length)}static compareSegments(e,i){const a=oi.isNumericId(e),o=oi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?oi.extractNumericId(e).compare(oi.extractNumericId(i)):nd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Is.fromString(e.substring(4,e.length-2))}}class oe extends oi{construct(e,i,a){return new oe(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new bt(ut.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new oe(i)}static emptyPath(){return new oe([])}}const jb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends oi{construct(e,i,a){return new Ge(e,i,a)}static isValidIdentifier(e){return jb.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Py}static keyField(){return new Ge([Py])}static fromServerFormat(e){const i=[];let a="",o=0;const h=()=>{if(a.length===0)throw new bt(ut.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new bt(ut.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new bt(ut.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=y,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(h(),o++)}if(h(),d)throw new bt(ut.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ge(i)}static emptyPath(){return new Ge([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.path=e}static fromPath(e){return new At(oe.fromString(e))}static fromName(e){return new At(oe.fromString(e).popFirst(5))}static empty(){return new At(oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&oe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return oe.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new At(new oe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(r,e,i){if(!i)throw new bt(ut.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function kb(r,e,i,a){if(e===!0&&a===!0)throw new bt(ut.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Uy(r){if(!At.isDocumentKey(r))throw new bt(ut.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Ly(r){if(At.isDocumentKey(r))throw new bt(ut.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function hv(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Sd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ct(12329,{type:typeof r})}function Rr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new bt(ut.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Sd(r);throw new bt(ut.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(r,e){const i={typeString:r};return e&&(i.value=e),i}function fo(r,e){if(!hv(r))throw new bt(ut.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in e)if(e[a]){const o=e[a].typeString,h="value"in e[a]?{value:e[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${a}' field to equal '${h.value}'`;break}}if(i)throw new bt(ut.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy=-62135596800,By=1e6;class ue{static now(){return ue.fromMillis(Date.now())}static fromDate(e){return ue.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*By);return new ue(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new bt(ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new bt(ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<zy)throw new bt(ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new bt(ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/By}_compareTo(e){return this.seconds===e.seconds?Bt(this.nanoseconds,e.nanoseconds):Bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ue._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(fo(e,ue._jsonSchema))return new ue(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-zy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ue._jsonSchemaVersion="firestore/timestamp/1.0",ue._jsonSchema={type:Re("string",ue._jsonSchemaVersion),seconds:Re("number"),nanoseconds:Re("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{static fromTimestamp(e){return new It(e)}static min(){return new It(new ue(0,0))}static max(){return new It(new ue(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro=-1;function Pb(r,e){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=It.fromTimestamp(a===1e9?new ue(i+1,0):new ue(i,a));return new Vs(o,At.empty(),e)}function Ub(r){return new Vs(r.readTime,r.key,ro)}class Vs{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Vs(It.min(),At.empty(),ro)}static max(){return new Vs(It.max(),At.empty(),ro)}}function Lb(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=At.comparator(r.documentKey,e.documentKey),i!==0?i:Bt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Bb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function La(r){if(r.code!==ut.FAILED_PRECONDITION||r.message!==zb)throw r;yt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&Ct(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new at(((a,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof at?i:at.resolve(i)}catch(i){return at.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):at.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):at.reject(i)}static resolve(e){return new at(((i,a)=>{i(e)}))}static reject(e){return new at(((i,a)=>{a(e)}))}static waitFor(e){return new at(((i,a)=>{let o=0,h=0,d=!1;e.forEach((g=>{++o,g.next((()=>{++h,d&&h===o&&i()}),(y=>a(y)))})),d=!0,h===o&&i()}))}static or(e){let i=at.resolve(!1);for(const a of e)i=i.next((o=>o?at.resolve(o):a()));return i}static forEach(e,i){const a=[];return e.forEach(((o,h)=>{a.push(i.call(this,o,h))})),this.waitFor(a)}static mapArray(e,i){return new at(((a,o)=>{const h=e.length,d=new Array(h);let g=0;for(let y=0;y<h;y++){const v=y;i(e[v]).next((b=>{d[v]=b,++g,g===h&&a(d)}),(b=>o(b)))}}))}static doWhile(e,i){return new at(((a,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):a()};h()}))}}function qb(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function za(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}pc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd=-1;function mc(r){return r==null}function Wu(r){return r===0&&1/r==-1/0}function Hb(r){return typeof r=="number"&&Number.isInteger(r)&&!Wu(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv="";function Fb(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=qy(e)),e=Gb(r.get(i),e);return qy(e)}function Gb(r,e){let i=e;const a=r.length;for(let o=0;o<a;o++){const h=r.charAt(o);switch(h){case"\0":i+="";break;case fv:i+="";break;default:i+=h}}return i}function qy(r){return r+fv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hy(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Mr(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function dv(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e,i){this.comparator=e,this.root=i||Fe.EMPTY}insert(e,i){return new de(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Fe.BLACK,null,null))}remove(e){return new de(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fe.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,a)=>(e(i,a),!1)))}toString(){const e=[];return this.inorderTraversal(((i,a)=>(e.push(`${i}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uu(this.root,e,this.comparator,!0)}}class Uu{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Fe{constructor(e,i,a,o,h){this.key=e,this.value=i,this.color=a??Fe.RED,this.left=o??Fe.EMPTY,this.right=h??Fe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,h){return new Fe(e??this.key,i??this.value,a??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const h=a(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,a),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Fe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Fe.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ct(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ct(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ct(27949);return e+(this.isRed()?0:1)}}Fe.EMPTY=null,Fe.RED=!0,Fe.BLACK=!1;Fe.EMPTY=new class{constructor(){this.size=0}get key(){throw Ct(57766)}get value(){throw Ct(16141)}get color(){throw Ct(16727)}get left(){throw Ct(29726)}get right(){throw Ct(36894)}copy(e,i,a,o,h){return this}insert(e,i,a){return new Fe(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.comparator=e,this.data=new de(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,a)=>(e(i),!1)))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Fy(this.data.getIterator())}getIteratorFrom(e){return new Fy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((a=>{i=i.add(a)})),i}isEqual(e){if(!(e instanceof Ve)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new Ve(this.comparator);return i.data=e,i}}class Fy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.fields=e,e.sort(Ge.comparator)}static empty(){return new Qn([])}unionWith(e){let i=new Ve(Ge.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Qn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Va(this.fields,e.fields,((i,a)=>i.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new pv("Invalid base64 string: "+h):h}})(e);return new Qe(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new Qe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const Qb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Os(r){if($t(!!r,39018),typeof r=="string"){let e=0;const i=Qb.exec(r);if($t(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:be(r.seconds),nanos:be(r.nanos)}}function be(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function js(r){return typeof r=="string"?Qe.fromBase64String(r):Qe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv="server_timestamp",gv="__type__",yv="__previous_value__",_v="__local_write_time__";function Ad(r){return(r?.mapValue?.fields||{})[gv]?.stringValue===mv}function gc(r){const e=r.mapValue.fields[yv];return Ad(e)?gc(e):e}function ao(r){const e=Os(r.mapValue.fields[_v].timestampValue);return new ue(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e,i,a,o,h,d,g,y,v,b){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=v,this.isUsingEmulator=b}}const tc="(default)";class lo{constructor(e,i){this.projectId=e,this.database=i||tc}static empty(){return new lo("","")}get isDefaultDatabase(){return this.database===tc}isEqual(e){return e instanceof lo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="__type__",Kb="__max__",Lu={mapValue:{}},Ev="__vector__",ec="value";function ks(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Ad(r)?4:$b(r)?9007199254740991:Xb(r)?10:11:Ct(28295,{value:r})}function pi(r,e){if(r===e)return!0;const i=ks(r);if(i!==ks(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ao(r).isEqual(ao(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Os(o.timestampValue),g=Os(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,h){return js(o.bytesValue).isEqual(js(h.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,h){return be(o.geoPointValue.latitude)===be(h.geoPointValue.latitude)&&be(o.geoPointValue.longitude)===be(h.geoPointValue.longitude)})(r,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return be(o.integerValue)===be(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=be(o.doubleValue),g=be(h.doubleValue);return d===g?Wu(d)===Wu(g):isNaN(d)&&isNaN(g)}return!1})(r,e);case 9:return Va(r.arrayValue.values||[],e.arrayValue.values||[],pi);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if(Hy(d)!==Hy(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!pi(d[y],g[y])))return!1;return!0})(r,e);default:return Ct(52216,{left:r})}}function oo(r,e){return(r.values||[]).find((i=>pi(i,e)))!==void 0}function Oa(r,e){if(r===e)return 0;const i=ks(r),a=ks(e);if(i!==a)return Bt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Bt(r.booleanValue,e.booleanValue);case 2:return(function(h,d){const g=be(h.integerValue||h.doubleValue),y=be(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(r,e);case 3:return Gy(r.timestampValue,e.timestampValue);case 4:return Gy(ao(r),ao(e));case 5:return nd(r.stringValue,e.stringValue);case 6:return(function(h,d){const g=js(h),y=js(d);return g.compareTo(y)})(r.bytesValue,e.bytesValue);case 7:return(function(h,d){const g=h.split("/"),y=d.split("/");for(let v=0;v<g.length&&v<y.length;v++){const b=Bt(g[v],y[v]);if(b!==0)return b}return Bt(g.length,y.length)})(r.referenceValue,e.referenceValue);case 8:return(function(h,d){const g=Bt(be(h.latitude),be(d.latitude));return g!==0?g:Bt(be(h.longitude),be(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Qy(r.arrayValue,e.arrayValue);case 10:return(function(h,d){const g=h.fields||{},y=d.fields||{},v=g[ec]?.arrayValue,b=y[ec]?.arrayValue,I=Bt(v?.values?.length||0,b?.values?.length||0);return I!==0?I:Qy(v,b)})(r.mapValue,e.mapValue);case 11:return(function(h,d){if(h===Lu.mapValue&&d===Lu.mapValue)return 0;if(h===Lu.mapValue)return 1;if(d===Lu.mapValue)return-1;const g=h.fields||{},y=Object.keys(g),v=d.fields||{},b=Object.keys(v);y.sort(),b.sort();for(let I=0;I<y.length&&I<b.length;++I){const V=nd(y[I],b[I]);if(V!==0)return V;const q=Oa(g[y[I]],v[b[I]]);if(q!==0)return q}return Bt(y.length,b.length)})(r.mapValue,e.mapValue);default:throw Ct(23264,{he:i})}}function Gy(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Bt(r,e);const i=Os(r),a=Os(e),o=Bt(i.seconds,a.seconds);return o!==0?o:Bt(i.nanos,a.nanos)}function Qy(r,e){const i=r.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const h=Oa(i[o],a[o]);if(h)return h}return Bt(i.length,a.length)}function ja(r){return id(r)}function id(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=Os(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return js(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return At.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const h of i.values||[])o?o=!1:a+=",",a+=id(h);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of a)h?h=!1:o+=",",o+=`${d}:${id(i.fields[d])}`;return o+"}"})(r.mapValue):Ct(61005,{value:r})}function Fu(r){switch(ks(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=gc(r);return e?16+Fu(e):16;case 5:return 2*r.stringValue.length;case 6:return js(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,h)=>o+Fu(h)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return Mr(a.fields,((h,d)=>{o+=h.length+Fu(d)})),o})(r.mapValue);default:throw Ct(13486,{value:r})}}function sd(r){return!!r&&"integerValue"in r}function Rd(r){return!!r&&"arrayValue"in r}function Yy(r){return!!r&&"nullValue"in r}function Ky(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Gu(r){return!!r&&"mapValue"in r}function Xb(r){return(r?.mapValue?.fields||{})[vv]?.stringValue===Ev}function Wl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Mr(r.mapValue.fields,((i,a)=>e.mapValue.fields[i]=Wl(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Wl(r.arrayValue.values[i]);return e}return{...r}}function $b(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Kb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.value=e}static empty(){return new Vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Gu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wl(i)}setAll(e){let i=Ge.emptyPath(),a={},o=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=Wl(d):o.push(g.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,a,o)}delete(e){const i=this.field(e.popLast());Gu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return pi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Gu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){Mr(i,((o,h)=>e[o]=h));for(const o of a)delete e[o]}clone(){return new Vn(Wl(this.value))}}function Tv(r){const e=[];return Mr(r.fields,((i,a)=>{const o=new Ge([i]);if(Gu(a)){const h=Tv(a.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)})),new Qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,i,a,o,h,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new tn(e,0,It.min(),It.min(),It.min(),Vn.empty(),0)}static newFoundDocument(e,i,a,o){return new tn(e,1,i,It.min(),a,o,0)}static newNoDocument(e,i){return new tn(e,2,i,It.min(),It.min(),Vn.empty(),0)}static newUnknownDocument(e,i){return new tn(e,3,i,It.min(),It.min(),Vn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(It.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,i){this.position=e,this.inclusive=i}}function Xy(r,e,i){let a=0;for(let o=0;o<r.position.length;o++){const h=e[o],d=r.position[o];if(h.field.isKeyField()?a=At.comparator(At.fromName(d.referenceValue),i.key):a=Oa(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function $y(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!pi(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,i="asc"){this.field=e,this.dir=i}}function Zb(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{}class Ie extends bv{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new Wb(e,i,a):i==="array-contains"?new nS(e,a):i==="in"?new iS(e,a):i==="not-in"?new sS(e,a):i==="array-contains-any"?new rS(e,a):new Ie(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new tS(e,a):new eS(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Oa(i,this.value)):i!==null&&ks(this.value)===ks(i)&&this.matchesComparison(Oa(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ct(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mi extends bv{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new mi(e,i)}matches(e){return Sv(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Sv(r){return r.op==="and"}function xv(r){return Jb(r)&&Sv(r)}function Jb(r){for(const e of r.filters)if(e instanceof mi)return!1;return!0}function rd(r){if(r instanceof Ie)return r.field.canonicalString()+r.op.toString()+ja(r.value);if(xv(r))return r.filters.map((e=>rd(e))).join(",");{const e=r.filters.map((i=>rd(i))).join(",");return`${r.op}(${e})`}}function Av(r,e){return r instanceof Ie?(function(a,o){return o instanceof Ie&&a.op===o.op&&a.field.isEqual(o.field)&&pi(a.value,o.value)})(r,e):r instanceof mi?(function(a,o){return o instanceof mi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((h,d,g)=>h&&Av(d,o.filters[g])),!0):!1})(r,e):void Ct(19439)}function Rv(r){return r instanceof Ie?(function(i){return`${i.field.canonicalString()} ${i.op} ${ja(i.value)}`})(r):r instanceof mi?(function(i){return i.op.toString()+" {"+i.getFilters().map(Rv).join(" ,")+"}"})(r):"Filter"}class Wb extends Ie{constructor(e,i,a){super(e,i,a),this.key=At.fromName(a.referenceValue)}matches(e){const i=At.comparator(e.key,this.key);return this.matchesComparison(i)}}class tS extends Ie{constructor(e,i){super(e,"in",i),this.keys=wv("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class eS extends Ie{constructor(e,i){super(e,"not-in",i),this.keys=wv("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function wv(r,e){return(e.arrayValue?.values||[]).map((i=>At.fromName(i.referenceValue)))}class nS extends Ie{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Rd(i)&&oo(i.arrayValue,this.value)}}class iS extends Ie{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&oo(this.value.arrayValue,i)}}class sS extends Ie{constructor(e,i){super(e,"not-in",i)}matches(e){if(oo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!oo(this.value.arrayValue,i)}}class rS extends Ie{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Rd(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>oo(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,i=null,a=[],o=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.Te=null}}function Zy(r,e=null,i=[],a=[],o=null,h=null,d=null){return new aS(r,e,i,a,o,h,d)}function wd(r){const e=Vt(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((a=>rd(a))).join(","),i+="|ob:",i+=e.orderBy.map((a=>(function(h){return h.field.canonicalString()+h.dir})(a))).join(","),mc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>ja(a))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>ja(a))).join(",")),e.Te=i}return e.Te}function Cd(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!Zb(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!Av(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!$y(r.startAt,e.startAt)&&$y(r.endAt,e.endAt)}function ad(r){return At.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,i=null,a=[],o=[],h=null,d="F",g=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function lS(r,e,i,a,o,h,d,g){return new yc(r,e,i,a,o,h,d,g)}function Dd(r){return new yc(r)}function Jy(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function oS(r){return r.collectionGroup!==null}function to(r){const e=Vt(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ve(Ge.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((v=>{v.isInequality()&&(g=g.add(v.field))}))})),g})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new ic(h,a))})),i.has(Ge.keyField().canonicalString())||e.Ie.push(new ic(Ge.keyField(),a))}return e.Ie}function ui(r){const e=Vt(r);return e.Ee||(e.Ee=uS(e,to(r))),e.Ee}function uS(r,e){if(r.limitType==="F")return Zy(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new ic(o.field,h)}));const i=r.endAt?new nc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new nc(r.startAt.position,r.startAt.inclusive):null;return Zy(r.path,r.collectionGroup,e,r.filters,r.limit,i,a)}}function ld(r,e,i){return new yc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function _c(r,e){return Cd(ui(r),ui(e))&&r.limitType===e.limitType}function Cv(r){return`${wd(ui(r))}|lt:${r.limitType}`}function Aa(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>Rv(o))).join(", ")}]`),mc(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>ja(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>ja(o))).join(",")),`Target(${a})`})(ui(r))}; limitType=${r.limitType})`}function vc(r,e){return e.isFoundDocument()&&(function(a,o){const h=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):At.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)})(r,e)&&(function(a,o){for(const h of to(a))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(r,e)&&(function(a,o){for(const h of a.filters)if(!h.matches(o))return!1;return!0})(r,e)&&(function(a,o){return!(a.startAt&&!(function(d,g,y){const v=Xy(d,g,y);return d.inclusive?v<=0:v<0})(a.startAt,to(a),o)||a.endAt&&!(function(d,g,y){const v=Xy(d,g,y);return d.inclusive?v>=0:v>0})(a.endAt,to(a),o))})(r,e)}function cS(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Dv(r){return(e,i)=>{let a=!1;for(const o of to(r)){const h=hS(o,e,i);if(h!==0)return h;a=a||o.field.isKeyField()}return 0}}function hS(r,e,i){const a=r.field.isKeyField()?At.comparator(e.key,i.key):(function(h,d,g){const y=d.data.field(h),v=g.data.field(h);return y!==null&&v!==null?Oa(y,v):Ct(42886)})(r.field,e,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Ct(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,h]of a)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Mr(this.inner,((i,a)=>{for(const[o,h]of a)e(o,h)}))}isEmpty(){return dv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fS=new de(At.comparator);function Hi(){return fS}const Nv=new de(At.comparator);function Xl(...r){let e=Nv;for(const i of r)e=e.insert(i.key,i);return e}function Iv(r){let e=Nv;return r.forEach(((i,a)=>e=e.insert(i,a.overlayedDocument))),e}function xr(){return eo()}function Mv(){return eo()}function eo(){return new Vr((r=>r.toString()),((r,e)=>r.isEqual(e)))}const dS=new de(At.comparator),pS=new Ve(At.comparator);function qt(...r){let e=pS;for(const i of r)e=e.add(i);return e}const mS=new Ve(Bt);function gS(){return mS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nd(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wu(e)?"-0":e}}function Vv(r){return{integerValue:""+r}}function yS(r,e){return Hb(e)?Vv(e):Nd(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(){this._=void 0}}function _S(r,e,i){return r instanceof sc?(function(o,h){const d={fields:{[gv]:{stringValue:mv},[_v]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&Ad(h)&&(h=gc(h)),h&&(d.fields[yv]=h),{mapValue:d}})(i,e):r instanceof uo?jv(r,e):r instanceof co?kv(r,e):(function(o,h){const d=Ov(o,h),g=Wy(d)+Wy(o.Ae);return sd(d)&&sd(o.Ae)?Vv(g):Nd(o.serializer,g)})(r,e)}function vS(r,e,i){return r instanceof uo?jv(r,e):r instanceof co?kv(r,e):i}function Ov(r,e){return r instanceof rc?(function(a){return sd(a)||(function(h){return!!h&&"doubleValue"in h})(a)})(e)?e:{integerValue:0}:null}class sc extends Ec{}class uo extends Ec{constructor(e){super(),this.elements=e}}function jv(r,e){const i=Pv(e);for(const a of r.elements)i.some((o=>pi(o,a)))||i.push(a);return{arrayValue:{values:i}}}class co extends Ec{constructor(e){super(),this.elements=e}}function kv(r,e){let i=Pv(e);for(const a of r.elements)i=i.filter((o=>!pi(o,a)));return{arrayValue:{values:i}}}class rc extends Ec{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function Wy(r){return be(r.integerValue||r.doubleValue)}function Pv(r){return Rd(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function ES(r,e){return r.field.isEqual(e.field)&&(function(a,o){return a instanceof uo&&o instanceof uo||a instanceof co&&o instanceof co?Va(a.elements,o.elements,pi):a instanceof rc&&o instanceof rc?pi(a.Ae,o.Ae):a instanceof sc&&o instanceof sc})(r.transform,e.transform)}class TS{constructor(e,i){this.version=e,this.transformResults=i}}class ci{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ci}static exists(e){return new ci(void 0,e)}static updateTime(e){return new ci(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qu(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Tc{}function Uv(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Id(r.key,ci.none()):new po(r.key,r.data,ci.none());{const i=r.data,a=Vn.empty();let o=new Ve(Ge.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),o=o.add(h)}return new Or(r.key,a,new Qn(o.toArray()),ci.none())}}function bS(r,e,i){r instanceof po?(function(o,h,d){const g=o.value.clone(),y=e_(o.fieldTransforms,h,d.transformResults);g.setAll(y),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,e,i):r instanceof Or?(function(o,h,d){if(!Qu(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=e_(o.fieldTransforms,h,d.transformResults),y=h.data;y.setAll(Lv(o)),y.setAll(g),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,e,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function no(r,e,i,a){return r instanceof po?(function(h,d,g,y){if(!Qu(h.precondition,d))return g;const v=h.value.clone(),b=n_(h.fieldTransforms,y,d);return v.setAll(b),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null})(r,e,i,a):r instanceof Or?(function(h,d,g,y){if(!Qu(h.precondition,d))return g;const v=n_(h.fieldTransforms,y,d),b=d.data;return b.setAll(Lv(h)),b.setAll(v),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((I=>I.field)))})(r,e,i,a):(function(h,d,g){return Qu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,e,i)}function SS(r,e){let i=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),h=Ov(a.transform,o||null);h!=null&&(i===null&&(i=Vn.empty()),i.set(a.field,h))}return i||null}function t_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Va(a,o,((h,d)=>ES(h,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class po extends Tc{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Or extends Tc{constructor(e,i,a,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Lv(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);e.set(i,a)}})),e}function e_(r,e,i){const a=new Map;$t(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const h=r[o],d=h.transform,g=e.data.field(h.field);a.set(h.field,vS(d,g,i[o]))}return a}function n_(r,e,i){const a=new Map;for(const o of r){const h=o.transform,d=i.data.field(o.field);a.set(o.field,_S(h,d,e))}return a}class Id extends Tc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xS extends Tc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&bS(h,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=no(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=no(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=Mv();return this.mutations.forEach((o=>{const h=e.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const y=Uv(d,g);y!==null&&a.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(It.min())})),a}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),qt())}isEqual(e){return this.batchId===e.batchId&&Va(this.mutations,e.mutations,((i,a)=>t_(i,a)))&&Va(this.baseMutations,e.baseMutations,((i,a)=>t_(i,a)))}}class Md{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){$t(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return dS})();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,a[d].version);return new Md(e,i,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae,Qt;function CS(r){switch(r){case ut.OK:return Ct(64938);case ut.CANCELLED:case ut.UNKNOWN:case ut.DEADLINE_EXCEEDED:case ut.RESOURCE_EXHAUSTED:case ut.INTERNAL:case ut.UNAVAILABLE:case ut.UNAUTHENTICATED:return!1;case ut.INVALID_ARGUMENT:case ut.NOT_FOUND:case ut.ALREADY_EXISTS:case ut.PERMISSION_DENIED:case ut.FAILED_PRECONDITION:case ut.ABORTED:case ut.OUT_OF_RANGE:case ut.UNIMPLEMENTED:case ut.DATA_LOSS:return!0;default:return Ct(15467,{code:r})}}function zv(r){if(r===void 0)return qi("GRPC error has no .code"),ut.UNKNOWN;switch(r){case Ae.OK:return ut.OK;case Ae.CANCELLED:return ut.CANCELLED;case Ae.UNKNOWN:return ut.UNKNOWN;case Ae.DEADLINE_EXCEEDED:return ut.DEADLINE_EXCEEDED;case Ae.RESOURCE_EXHAUSTED:return ut.RESOURCE_EXHAUSTED;case Ae.INTERNAL:return ut.INTERNAL;case Ae.UNAVAILABLE:return ut.UNAVAILABLE;case Ae.UNAUTHENTICATED:return ut.UNAUTHENTICATED;case Ae.INVALID_ARGUMENT:return ut.INVALID_ARGUMENT;case Ae.NOT_FOUND:return ut.NOT_FOUND;case Ae.ALREADY_EXISTS:return ut.ALREADY_EXISTS;case Ae.PERMISSION_DENIED:return ut.PERMISSION_DENIED;case Ae.FAILED_PRECONDITION:return ut.FAILED_PRECONDITION;case Ae.ABORTED:return ut.ABORTED;case Ae.OUT_OF_RANGE:return ut.OUT_OF_RANGE;case Ae.UNIMPLEMENTED:return ut.UNIMPLEMENTED;case Ae.DATA_LOSS:return ut.DATA_LOSS;default:return Ct(39323,{code:r})}}(Qt=Ae||(Ae={}))[Qt.OK=0]="OK",Qt[Qt.CANCELLED=1]="CANCELLED",Qt[Qt.UNKNOWN=2]="UNKNOWN",Qt[Qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qt[Qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qt[Qt.NOT_FOUND=5]="NOT_FOUND",Qt[Qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qt[Qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qt[Qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qt[Qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qt[Qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qt[Qt.ABORTED=10]="ABORTED",Qt[Qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qt[Qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qt[Qt.INTERNAL=13]="INTERNAL",Qt[Qt.UNAVAILABLE=14]="UNAVAILABLE",Qt[Qt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS=new Is([4294967295,4294967295],0);function i_(r){const e=DS().encode(r),i=new nv;return i.update(e),new Uint8Array(i.digest())}function s_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Is([i,a],0),new Is([o,h],0)]}class Vd{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new $l(`Invalid padding: ${i}`);if(a<0)throw new $l(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new $l(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new $l(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Is.fromNumber(this.ge)}ye(e,i,a){let o=e.add(i.multiply(Is.fromNumber(a)));return o.compare(NS)===1&&(o=new Is([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=i_(e),[a,o]=s_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,o,h);if(!this.we(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Vd(h,o,i);return a.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=i_(e),[a,o]=s_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(a,o,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class $l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,i,a,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,mo.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new bc(It.min(),o,new de(Bt),Hi(),qt())}}class mo{constructor(e,i,a,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new mo(a,i,qt(),qt(),qt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,i,a,o){this.be=e,this.removedTargetIds=i,this.key=a,this.De=o}}class Bv{constructor(e,i){this.targetId=e,this.Ce=i}}class qv{constructor(e,i,a=Qe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class r_{constructor(){this.ve=0,this.Fe=a_(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qt(),i=qt(),a=qt();return this.Fe.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:Ct(38017,{changeType:h})}})),new mo(this.Me,this.xe,e,i,a)}qe(){this.Oe=!1,this.Fe=a_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,$t(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class IS{constructor(e){this.Ge=e,this.ze=new Map,this.je=Hi(),this.Je=zu(),this.He=zu(),this.Ye=new de(Bt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const a=this.nt(i);switch(e.state){case 0:this.rt(i)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(e.resumeToken));break;default:Ct(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,a=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(ad(h))if(a===0){const d=new At(h.path);this.et(i,d,tn.newNoDocument(d,It.min()))}else $t(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(e),y=g?this.ct(g,e,d):1;if(y!==0){this.it(i);const v=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,v)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:h=0}=i;let d,g;try{d=js(a).toUint8Array()}catch(y){if(y instanceof pv)return Ma("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new Vd(d,o,h)}catch(y){return Ma(y instanceof $l?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(e,i,a){return i.Ce.count===a-this.Pt(e,i.targetId)?0:2}Pt(e,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((h=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.et(i,h,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const g=this.ot(d);if(g){if(h.current&&ad(g.target)){const y=new At(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,tn.newNoDocument(y,e))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let a=qt();this.He.forEach(((h,d)=>{let g=!0;d.forEachWhile((y=>{const v=this.ot(y);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const o=new bc(e,i,this.Ye,this.je,a);return this.je=Hi(),this.Je=zu(),this.He=zu(),this.Ye=new de(Bt),o}Xe(e,i){if(!this.rt(e))return;const a=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),a&&(this.je=this.je.insert(i,a))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new r_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new Ve(Bt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new Ve(Bt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||yt("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new r_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function zu(){return new de(At.comparator)}function a_(){return new de(At.comparator)}const MS={asc:"ASCENDING",desc:"DESCENDING"},VS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OS={and:"AND",or:"OR"};class jS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function od(r,e){return r.useProto3Json||mc(e)?e:{value:e}}function ac(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Hv(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function kS(r,e){return ac(r,e.toTimestamp())}function hi(r){return $t(!!r,49232),It.fromTimestamp((function(i){const a=Os(i);return new ue(a.seconds,a.nanos)})(r))}function Od(r,e){return ud(r,e).canonicalString()}function ud(r,e){const i=(function(o){return new oe(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function Fv(r){const e=oe.fromString(r);return $t(Xv(e),10190,{key:e.toString()}),e}function cd(r,e){return Od(r.databaseId,e.path)}function Gf(r,e){const i=Fv(e);if(i.get(1)!==r.databaseId.projectId)throw new bt(ut.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new bt(ut.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new At(Qv(i))}function Gv(r,e){return Od(r.databaseId,e)}function PS(r){const e=Fv(r);return e.length===4?oe.emptyPath():Qv(e)}function hd(r){return new oe(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Qv(r){return $t(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function l_(r,e,i){return{name:cd(r,e),fields:i.value.mapValue.fields}}function US(r,e){let i;if("targetChange"in e){e.targetChange;const a=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Ct(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(v,b){return v.useProto3Json?($t(b===void 0||typeof b=="string",58123),Qe.fromBase64String(b||"")):($t(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Qe.fromUint8Array(b||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(v){const b=v.code===void 0?ut.UNKNOWN:zv(v.code);return new bt(b,v.message||"")})(d);i=new qv(a,o,h,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Gf(r,a.document.name),h=hi(a.document.updateTime),d=a.document.createTime?hi(a.document.createTime):It.min(),g=new Vn({mapValue:{fields:a.document.fields}}),y=tn.newFoundDocument(o,h,d,g),v=a.targetIds||[],b=a.removedTargetIds||[];i=new Yu(v,b,y.key,y)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Gf(r,a.document),h=a.readTime?hi(a.readTime):It.min(),d=tn.newNoDocument(o,h),g=a.removedTargetIds||[];i=new Yu([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Gf(r,a.document),h=a.removedTargetIds||[];i=new Yu([],h,o,null)}else{if(!("filter"in e))return Ct(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:h}=a,d=new wS(o,h),g=a.targetId;i=new Bv(g,d)}}return i}function LS(r,e){let i;if(e instanceof po)i={update:l_(r,e.key,e.value)};else if(e instanceof Id)i={delete:cd(r,e.key)};else if(e instanceof Or)i={update:l_(r,e.key,e.data),updateMask:KS(e.fieldMask)};else{if(!(e instanceof xS))return Ct(16599,{Vt:e.type});i={verify:cd(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((a=>(function(h,d){const g=d.transform;if(g instanceof sc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof uo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof co)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof rc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw Ct(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:kS(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:Ct(27497)})(r,e.precondition)),i}function zS(r,e){return r&&r.length>0?($t(e!==void 0,14353),r.map((i=>(function(o,h){let d=o.updateTime?hi(o.updateTime):hi(h);return d.isEqual(It.min())&&(d=hi(h)),new TS(d,o.transformResults||[])})(i,e)))):[]}function BS(r,e){return{documents:[Gv(r,e.path)]}}function qS(r,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=Gv(r,o);const h=(function(v){if(v.length!==0)return Kv(mi.create(v,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(v){if(v.length!==0)return v.map((b=>(function(V){return{field:Ra(V.field),direction:GS(V.dir)}})(b)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=od(r,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{ft:i,parent:o}}function HS(r){let e=PS(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){$t(a===1,65062);const b=i.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let h=[];i.where&&(h=(function(I){const V=Yv(I);return V instanceof mi&&xv(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(I){return I.map((V=>(function(G){return new ic(wa(G.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(V)))})(i.orderBy));let g=null;i.limit&&(g=(function(I){let V;return V=typeof I=="object"?I.value:I,mc(V)?null:V})(i.limit));let y=null;i.startAt&&(y=(function(I){const V=!!I.before,q=I.values||[];return new nc(q,V)})(i.startAt));let v=null;return i.endAt&&(v=(function(I){const V=!I.before,q=I.values||[];return new nc(q,V)})(i.endAt)),lS(e,o,d,h,g,"F",y,v)}function FS(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ct(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Yv(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=wa(i.unaryFilter.field);return Ie.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=wa(i.unaryFilter.field);return Ie.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=wa(i.unaryFilter.field);return Ie.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=wa(i.unaryFilter.field);return Ie.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ct(61313);default:return Ct(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ie.create(wa(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ct(58110);default:return Ct(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return mi.create(i.compositeFilter.filters.map((a=>Yv(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ct(1026)}})(i.compositeFilter.op))})(r):Ct(30097,{filter:r})}function GS(r){return MS[r]}function QS(r){return VS[r]}function YS(r){return OS[r]}function Ra(r){return{fieldPath:r.canonicalString()}}function wa(r){return Ge.fromServerFormat(r.fieldPath)}function Kv(r){return r instanceof Ie?(function(i){if(i.op==="=="){if(Ky(i.value))return{unaryFilter:{field:Ra(i.field),op:"IS_NAN"}};if(Yy(i.value))return{unaryFilter:{field:Ra(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Ky(i.value))return{unaryFilter:{field:Ra(i.field),op:"IS_NOT_NAN"}};if(Yy(i.value))return{unaryFilter:{field:Ra(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ra(i.field),op:QS(i.op),value:i.value}}})(r):r instanceof mi?(function(i){const a=i.getFilters().map((o=>Kv(o)));return a.length===1?a[0]:{compositeFilter:{op:YS(i.op),filters:a}}})(r):Ct(54877,{filter:r})}function KS(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function Xv(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,i,a,o,h=It.min(),d=It.min(),g=Qe.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(e){return new ws(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e){this.yt=e}}function $S(r){const e=HS({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?ld(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(){this.Cn=new JS}addToCollectionParentIndex(e,i){return this.Cn.add(i),at.resolve()}getCollectionParents(e,i){return at.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return at.resolve()}deleteFieldIndex(e,i){return at.resolve()}deleteAllFieldIndexes(e){return at.resolve()}createTargetIndexes(e,i){return at.resolve()}getDocumentsMatchingTarget(e,i){return at.resolve(null)}getIndexType(e,i){return at.resolve(0)}getFieldIndexes(e,i){return at.resolve([])}getNextCollectionGroupToUpdate(e){return at.resolve(null)}getMinOffset(e,i){return at.resolve(Vs.min())}getMinOffsetFromCollectionGroup(e,i){return at.resolve(Vs.min())}updateCollectionGroup(e,i,a){return at.resolve()}updateIndexEntries(e,i){return at.resolve()}}class JS{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new Ve(oe.comparator),h=!o.has(a);return this.index[i]=o.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Ve(oe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$v=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn($v,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ka(0)}static cr(){return new ka(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u_="LruGarbageCollector",WS=1048576;function c_([r,e],[i,a]){const o=Bt(r,i);return o===0?Bt(e,a):o}class tx{constructor(e){this.Ir=e,this.buffer=new Ve(c_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();c_(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class ex{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){yt(u_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){za(i)?yt(u_,"Ignoring IndexedDB error during garbage collection: ",i):await La(i)}await this.Vr(3e5)}))}}class nx{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(e,i){if(i===0)return at.resolve(pc.ce);const a=new tx(i);return this.mr.forEachTarget(e,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(e,i,a){return this.mr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(yt("LruGarbageCollector","Garbage collection skipped; disabled"),at.resolve(o_)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(yt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),o_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let a,o,h,d,g,y,v;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((I=>(I>this.params.maximumSequenceNumbersToCollect?(yt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),o=this.params.maximumSequenceNumbersToCollect):o=I,d=Date.now(),this.nthSequenceNumber(e,o)))).next((I=>(a=I,g=Date.now(),this.removeTargets(e,a,i)))).next((I=>(h=I,y=Date.now(),this.removeOrphanedDocuments(e,a)))).next((I=>(v=Date.now(),xa()<=Yt.DEBUG&&yt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${h} targets in `+(y-g)+`ms
	Removed ${I} documents in `+(v-y)+`ms
Total Duration: ${v-b}ms`),at.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:I}))))}}function ix(r,e){return new nx(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(){this.changes=new Vr((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?at.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(a!==null&&no(a.mutation,o,Qn.empty(),ue.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.getLocalViewOfDocuments(e,a,qt()).next((()=>a))))}getLocalViewOfDocuments(e,i,a=qt()){const o=xr();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,a).next((h=>{let d=Xl();return h.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const a=xr();return this.populateOverlays(e,a,i).next((()=>this.computeViews(e,i,a,qt())))}populateOverlays(e,i,a){const o=[];return a.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,a,o){let h=Hi();const d=eo(),g=(function(){return eo()})();return i.forEach(((y,v)=>{const b=a.get(v.key);o.has(v.key)&&(b===void 0||b.mutation instanceof Or)?h=h.insert(v.key,v):b!==void 0?(d.set(v.key,b.mutation.getFieldMask()),no(b.mutation,v,b.mutation.getFieldMask(),ue.now())):d.set(v.key,Qn.empty())})),this.recalculateAndSaveOverlays(e,h).next((y=>(y.forEach(((v,b)=>d.set(v,b))),i.forEach(((v,b)=>g.set(v,new rx(b,d.get(v)??null)))),g)))}recalculateAndSaveOverlays(e,i){const a=eo();let o=new de(((d,g)=>d-g)),h=qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((y=>{const v=i.get(y);if(v===null)return;let b=a.get(y)||Qn.empty();b=g.applyToLocalView(v,b),a.set(y,b);const I=(o.get(g.batchId)||qt()).add(y);o=o.insert(g.batchId,I)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),v=y.key,b=y.value,I=Mv();b.forEach((V=>{if(!h.has(V)){const q=Uv(i.get(V),a.get(V));q!==null&&I.set(V,q),h=h.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(e,v,I))}return at.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,i,a,o){return(function(d){return At.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):oS(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-h.size):at.resolve(xr());let g=ro,y=h;return d.next((v=>at.forEach(v,((b,I)=>(g<I.largestBatchId&&(g=I.largestBatchId),h.get(b)?at.resolve():this.remoteDocumentCache.getEntry(e,b).next((V=>{y=y.insert(b,V)}))))).next((()=>this.populateOverlays(e,v,h))).next((()=>this.computeViews(e,y,v,qt()))).next((b=>({batchId:g,changes:Iv(b)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new At(i)).next((a=>{let o=Xl();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const h=i.collectionGroup;let d=Xl();return this.indexManager.getCollectionParents(e,h).next((g=>at.forEach(g,(y=>{const v=(function(I,V){return new yc(V,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)})(i,y.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,a,o).next((b=>{b.forEach(((I,V)=>{d=d.insert(I,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,a,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,o)))).next((d=>{h.forEach(((y,v)=>{const b=v.getKey();d.get(b)===null&&(d=d.insert(b,tn.newInvalidDocument(b)))}));let g=Xl();return d.forEach(((y,v)=>{const b=h.get(y);b!==void 0&&no(b.mutation,v,Qn.empty(),ue.now()),vc(i,v)&&(g=g.insert(y,v))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return at.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:hi(o.createTime)}})(i)),at.resolve()}getNamedQuery(e,i){return at.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:$S(o.bundledQuery),readTime:hi(o.readTime)}})(i)),at.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(){this.overlays=new de(At.comparator),this.qr=new Map}getOverlay(e,i){return at.resolve(this.overlays.get(i))}getOverlays(e,i){const a=xr();return at.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&a.set(o,h)})))).next((()=>a))}saveOverlays(e,i,a){return a.forEach(((o,h)=>{this.St(e,i,h)})),at.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(a)),at.resolve()}getOverlaysForCollection(e,i,a){const o=xr(),h=i.length+1,d=new At(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,v=y.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&y.largestBatchId>a&&o.set(y.getKey(),y)}return at.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let h=new de(((v,b)=>v-b));const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let b=h.get(v.largestBatchId);b===null&&(b=xr(),h=h.insert(v.largestBatchId,b)),b.set(v.getKey(),v)}}const g=xr(),y=h.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((v,b)=>g.set(v,b))),!(g.size()>=o)););return at.resolve(g)}St(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new RS(i,a));let h=this.qr.get(i);h===void 0&&(h=qt(),this.qr.set(i,h)),this.qr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(e){return at.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,at.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(){this.Qr=new Ve(Le.$r),this.Ur=new Ve(Le.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const a=new Le(e,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,i){e.forEach((a=>this.addReference(a,i)))}removeReference(e,i){this.Gr(new Le(e,i))}zr(e,i){e.forEach((a=>this.removeReference(a,i)))}jr(e){const i=new At(new oe([])),a=new Le(i,e),o=new Le(i,e+1),h=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new At(new oe([])),a=new Le(i,e),o=new Le(i,e+1);let h=qt();return this.Ur.forEachInRange([a,o],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new Le(e,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Le{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return At.comparator(e.key,i.key)||Bt(e.Yr,i.Yr)}static Kr(e,i){return Bt(e.Yr,i.Yr)||At.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ve(Le.$r)}checkEmpty(e){return at.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new AS(h,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new Le(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return at.resolve(d)}lookupMutationBatch(e,i){return at.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.ei(a),h=o<0?0:o;return at.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return at.resolve(this.mutationQueue.length===0?xd:this.tr-1)}getAllMutationBatches(e){return at.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Le(i,0),o=new Le(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([a,o],(d=>{const g=this.Xr(d.Yr);h.push(g)})),at.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Ve(Bt);return i.forEach((o=>{const h=new Le(o,0),d=new Le(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(g=>{a=a.add(g.Yr)}))})),at.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let h=a;At.isDocumentKey(h)||(h=h.child(""));const d=new Le(new At(h),0);let g=new Ve(Bt);return this.Zr.forEachWhile((y=>{const v=y.key.path;return!!a.isPrefixOf(v)&&(v.length===o&&(g=g.add(y.Yr)),!0)}),d),at.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){$t(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return at.forEach(i.mutations,(o=>{const h=new Le(o.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,i){const a=new Le(i,0),o=this.Zr.firstAfterOrEqual(a);return at.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,at.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e){this.ri=e,this.docs=(function(){return new de(At.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),h=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return at.resolve(a?a.document.mutableCopy():tn.newInvalidDocument(i))}getEntries(e,i){let a=Hi();return i.forEach((o=>{const h=this.docs.get(o);a=a.insert(o,h?h.document.mutableCopy():tn.newInvalidDocument(o))})),at.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let h=Hi();const d=i.path,g=new At(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:v,value:{document:b}}=y.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||Lb(Ub(b),a)<=0||(o.has(b.key)||vc(i,b))&&(h=h.insert(b.key,b.mutableCopy()))}return at.resolve(h)}getAllFromCollectionGroup(e,i,a,o){Ct(9500)}ii(e,i){return at.forEach(this.docs,(a=>i(a)))}newChangeBuffer(e){return new fx(this)}getSize(e){return at.resolve(this.size)}}class fx extends sx{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(a)})),at.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e){this.persistence=e,this.si=new Vr((i=>wd(i)),Cd),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.oi=0,this._i=new jd,this.targetCount=0,this.ai=ka.ur()}forEachTarget(e,i){return this.si.forEach(((a,o)=>i(o))),at.resolve()}getLastRemoteSnapshotVersion(e){return at.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return at.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),at.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),at.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new ka(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,at.resolve()}updateTargetData(e,i){return this.Pr(i),at.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,at.resolve()}removeTargets(e,i,a){let o=0;const h=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),at.waitFor(h).next((()=>o))}getTargetCount(e){return at.resolve(this.targetCount)}getTargetData(e,i){const a=this.si.get(i)||null;return at.resolve(a)}addMatchingKeys(e,i,a){return this._i.Wr(i,a),at.resolve()}removeMatchingKeys(e,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(e,d))})),at.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),at.resolve()}getMatchingKeysForTargetId(e,i){const a=this._i.Hr(i);return at.resolve(a)}containsKey(e,i){return at.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e,i){this.ui={},this.overlays={},this.ci=new pc(0),this.li=!1,this.li=!0,this.hi=new ux,this.referenceDelegate=e(this),this.Pi=new dx(this),this.indexManager=new ZS,this.remoteDocumentCache=(function(o){return new hx(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new XS(i),this.Ii=new lx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new ox,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.ui[e.toKey()];return a||(a=new cx(i,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,a){yt("MemoryPersistence","Starting transaction:",e);const o=new px(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((h=>this.referenceDelegate.di(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ai(e,i){return at.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,i))))}}class px extends Bb{constructor(e){super(),this.currentSequenceNumber=e}}class kd{constructor(e){this.persistence=e,this.Ri=new jd,this.Vi=null}static mi(e){return new kd(e)}get fi(){if(this.Vi)return this.Vi;throw Ct(60996)}addReference(e,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),at.resolve()}removeReference(e,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),at.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),at.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.fi.add(h.toString())))})).next((()=>a.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return at.forEach(this.fi,(a=>{const o=At.fromPath(a);return this.gi(e,o).next((h=>{h||i.removeEntry(o,It.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return at.or([()=>at.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class lc{constructor(e,i){this.persistence=e,this.pi=new Vr((a=>Fb(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=ix(this,i)}static mi(e,i){return new lc(e,i)}Ei(){}di(e){return at.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>i.next((o=>a+o))))}wr(e){let i=0;return this.pr(e,(a=>{i++})).next((()=>i))}pr(e,i){return at.forEach(this.pi,((a,o)=>this.br(e,a,o).next((h=>h?at.resolve():i(o)))))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((g=>{g||(a++,h.removeEntry(d,It.min()))})))).next((()=>h.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),at.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),at.resolve()}removeReference(e,i,a){return this.pi.set(a,e.currentSequenceNumber),at.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),at.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Fu(e.data.value)),i}br(e,i,a){return at.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return at.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Es=a,this.ds=o}static As(e,i){let a=qt(),o=qt();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Pd(e,i.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return fT()?8:qb(cT())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,a,o){const h={result:null};return this.ys(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(e,i,o,a).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new mx;return this.Ss(e,i,d).next((g=>{if(h.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>h.result))}bs(e,i,a,o){return a.documentReadCount<this.fs?(xa()<=Yt.DEBUG&&yt("QueryEngine","SDK will not create cache indexes for query:",Aa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),at.resolve()):(xa()<=Yt.DEBUG&&yt("QueryEngine","Query:",Aa(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(xa()<=Yt.DEBUG&&yt("QueryEngine","The SDK decides to create cache indexes for query:",Aa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ui(i))):at.resolve())}ys(e,i){if(Jy(i))return at.resolve(null);let a=ui(i);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=ld(i,null,"F"),a=ui(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next((h=>{const d=qt(...h);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,a).next((y=>{const v=this.Ds(i,g);return this.Cs(i,v,d,y.readTime)?this.ys(e,ld(i,null,"F")):this.vs(e,v,i,y)}))))})))))}ws(e,i,a,o){return Jy(i)||o.isEqual(It.min())?at.resolve(null):this.ps.getDocuments(e,a).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,a,o)?at.resolve(null):(xa()<=Yt.DEBUG&&yt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Aa(i)),this.vs(e,d,i,Pb(o,ro)).next((g=>g)))}))}Ds(e,i){let a=new Ve(Dv(e));return i.forEach(((o,h)=>{vc(e,h)&&(a=a.add(h))})),a}Cs(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(e,i,a){return xa()<=Yt.DEBUG&&yt("QueryEngine","Using full collection scan to execute query:",Aa(i)),this.ps.getDocumentsMatchingQuery(e,i,Vs.min(),a)}vs(e,i,a,o){return this.ps.getDocumentsMatchingQuery(e,a,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud="LocalStore",yx=3e8;class _x{constructor(e,i,a,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new de(Bt),this.xs=new Vr((h=>wd(h)),Cd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ax(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function vx(r,e,i,a){return new _x(r,e,i,a)}async function Jv(r,e){const i=Vt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((h=>(o=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(a)))).next((h=>{const d=[],g=[];let y=qt();for(const v of o){d.push(v.batchId);for(const b of v.mutations)y=y.add(b.key)}for(const v of h){g.push(v.batchId);for(const b of v.mutations)y=y.add(b.key)}return i.localDocuments.getDocuments(a,y).next((v=>({Ls:v,removedBatchIds:d,addedBatchIds:g})))}))}))}function Ex(r,e){const i=Vt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,y,v,b){const I=v.batch,V=I.keys();let q=at.resolve();return V.forEach((G=>{q=q.next((()=>b.getEntry(y,G))).next((ot=>{const $=v.docVersions.get(G);$t($!==null,48541),ot.version.compareTo($)<0&&(I.applyToRemoteDocument(ot,v),ot.isValidDocument()&&(ot.setReadTime(v.commitVersion),b.addEntry(ot)))}))})),q.next((()=>g.mutationQueue.removeMutationBatch(y,I)))})(i,a,e,h).next((()=>h.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let y=qt();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(y=y.add(g.batch.mutations[v].key));return y})(e)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function Wv(r){const e=Vt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function Tx(r,e){const i=Vt(r),a=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];e.targetChanges.forEach(((b,I)=>{const V=o.get(I);if(!V)return;g.push(i.Pi.removeMatchingKeys(h,b.removedDocuments,I).next((()=>i.Pi.addMatchingKeys(h,b.addedDocuments,I))));let q=V.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(I)!==null?q=q.withResumeToken(Qe.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):b.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(b.resumeToken,a)),o=o.insert(I,q),(function(ot,$,tt){return ot.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-ot.snapshotVersion.toMicroseconds()>=yx?!0:tt.addedDocuments.size+tt.modifiedDocuments.size+tt.removedDocuments.size>0})(V,q,b)&&g.push(i.Pi.updateTargetData(h,q))}));let y=Hi(),v=qt();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,b))})),g.push(bx(h,d,e.documentUpdates).next((b=>{y=b.ks,v=b.qs}))),!a.isEqual(It.min())){const b=i.Pi.getLastRemoteSnapshotVersion(h).next((I=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,a)));g.push(b)}return at.waitFor(g).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,y,v))).next((()=>y))})).then((h=>(i.Ms=o,h)))}function bx(r,e,i){let a=qt(),o=qt();return i.forEach((h=>a=a.add(h))),e.getEntries(r,a).next((h=>{let d=Hi();return i.forEach(((g,y)=>{const v=h.get(g);y.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(g)),y.isNoDocument()&&y.version.isEqual(It.min())?(e.removeEntry(g,y.readTime),d=d.insert(g,y)):!v.isValidDocument()||y.version.compareTo(v.version)>0||y.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(y),d=d.insert(g,y)):yt(Ud,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",y.version)})),{ks:d,qs:o}}))}function Sx(r,e){const i=Vt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=xd),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function xx(r,e){const i=Vt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,e).next((h=>h?(o=h,at.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new ws(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(e,a.targetId)),a}))}async function fd(r,e,i){const a=Vt(r),o=a.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!za(d))throw d;yt(Ud,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(o.target)}function h_(r,e,i){const a=Vt(r);let o=It.min(),h=qt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,v,b){const I=Vt(y),V=I.xs.get(b);return V!==void 0?at.resolve(I.Ms.get(V)):I.Pi.getTargetData(v,b)})(a,d,ui(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((y=>{h=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,i?o:It.min(),i?h:qt()))).next((g=>(Ax(a,cS(e),g),{documents:g,Qs:h})))))}function Ax(r,e,i){let a=r.Os.get(e)||It.min();i.forEach(((o,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)})),r.Os.set(e,a)}class f_{constructor(){this.activeTargetIds=gS()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Rx{constructor(){this.Mo=new f_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,a){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new f_,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_="ConnectivityMonitor";class p_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){yt(d_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){yt(d_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bu=null;function dd(){return Bu===null?Bu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Bu++,"0x"+Bu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf="RestConnection",Cx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Dx{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===tc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(e,i,a,o,h){const d=dd(),g=this.zo(e,i.toUriEncodedString());yt(Qf,`Sending RPC '${e}' ${d}:`,g,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,h);const{host:v}=new URL(g),b=dc(v);return this.Jo(e,g,y,a,b).then((I=>(yt(Qf,`Received RPC '${e}' ${d}: `,I),I)),(I=>{throw Ma(Qf,`RPC '${e}' ${d} failed with error: `,I,"url: ",g,"request:",a),I}))}Ho(e,i,a,o,h,d){return this.Go(e,i,a,o,h)}jo(e,i,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ua})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>e[h]=o)),a&&a.headers.forEach(((o,h)=>e[h]=o))}zo(e,i){const a=Cx[e];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Je="WebChannelConnection";class Ix extends Dx{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,a,o,h){const d=dd();return new Promise(((g,y)=>{const v=new iv;v.setWithCredentials(!0),v.listenOnce(sv.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case Hu.NO_ERROR:const I=v.getResponseJson();yt(Je,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(I)),g(I);break;case Hu.TIMEOUT:yt(Je,`RPC '${e}' ${d} timed out`),y(new bt(ut.DEADLINE_EXCEEDED,"Request time out"));break;case Hu.HTTP_ERROR:const V=v.getStatus();if(yt(Je,`RPC '${e}' ${d} failed with status:`,V,"response text:",v.getResponseText()),V>0){let q=v.getResponseJson();Array.isArray(q)&&(q=q[0]);const G=q?.error;if(G&&G.status&&G.message){const ot=(function(tt){const ht=tt.toLowerCase().replace(/_/g,"-");return Object.values(ut).indexOf(ht)>=0?ht:ut.UNKNOWN})(G.status);y(new bt(ot,G.message))}else y(new bt(ut.UNKNOWN,"Server responded with status "+v.getStatus()))}else y(new bt(ut.UNAVAILABLE,"Connection failed."));break;default:Ct(9055,{l_:e,streamId:d,h_:v.getLastErrorCode(),P_:v.getLastError()})}}finally{yt(Je,`RPC '${e}' ${d} completed.`)}}));const b=JSON.stringify(o);yt(Je,`RPC '${e}' ${d} sending request:`,o),v.send(i,"POST",b,a,15)}))}T_(e,i,a){const o=dd(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=lv(),g=av(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const b=h.join("");yt(Je,`Creating RPC '${e}' stream ${o}: ${b}`,y);const I=d.createWebChannel(b,y);this.I_(I);let V=!1,q=!1;const G=new Nx({Yo:$=>{q?yt(Je,`Not sending because RPC '${e}' stream ${o} is closed:`,$):(V||(yt(Je,`Opening RPC '${e}' stream ${o} transport.`),I.open(),V=!0),yt(Je,`RPC '${e}' stream ${o} sending:`,$),I.send($))},Zo:()=>I.close()}),ot=($,tt,ht)=>{$.listen(tt,(ft=>{try{ht(ft)}catch(mt){setTimeout((()=>{throw mt}),0)}}))};return ot(I,Kl.EventType.OPEN,(()=>{q||(yt(Je,`RPC '${e}' stream ${o} transport opened.`),G.o_())})),ot(I,Kl.EventType.CLOSE,(()=>{q||(q=!0,yt(Je,`RPC '${e}' stream ${o} transport closed`),G.a_(),this.E_(I))})),ot(I,Kl.EventType.ERROR,($=>{q||(q=!0,Ma(Je,`RPC '${e}' stream ${o} transport errored. Name:`,$.name,"Message:",$.message),G.a_(new bt(ut.UNAVAILABLE,"The operation could not be completed")))})),ot(I,Kl.EventType.MESSAGE,($=>{if(!q){const tt=$.data[0];$t(!!tt,16349);const ht=tt,ft=ht?.error||ht[0]?.error;if(ft){yt(Je,`RPC '${e}' stream ${o} received error:`,ft);const mt=ft.status;let gt=(function(C){const S=Ae[C];if(S!==void 0)return zv(S)})(mt),z=ft.message;gt===void 0&&(gt=ut.INTERNAL,z="Unknown error status: "+mt+" with message "+ft.message),q=!0,G.a_(new bt(gt,z)),I.close()}else yt(Je,`RPC '${e}' stream ${o} received:`,tt),G.u_(tt)}})),ot(g,rv.STAT_EVENT,($=>{$.stat===ed.PROXY?yt(Je,`RPC '${e}' stream ${o} detected buffering proxy`):$.stat===ed.NOPROXY&&yt(Je,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{G.__()}),0),G}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Yf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(r){return new jS(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e,i,a=1e3,o=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=a,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&yt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_="PersistentStream";class e0{constructor(e,i,a,o,h,d,g,y){this.Mi=e,this.S_=a,this.b_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new t0(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===ut.RESOURCE_EXHAUSTED?(qi(i.toString()),qi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===ut.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{e((()=>{const o=new bt(ut.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,i){const a=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return yt(m_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(yt(m_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Mx extends e0{constructor(e,i,a,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=US(this.serializer,e),a=(function(h){if(!("targetChange"in h))return It.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?It.min():d.readTime?hi(d.readTime):It.min()})(e);return this.listener.H_(i,a)}Y_(e){const i={};i.database=hd(this.serializer),i.addTarget=(function(h,d){let g;const y=d.target;if(g=ad(y)?{documents:BS(h,y)}:{query:qS(h,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=Hv(h,d.resumeToken);const v=od(h,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(It.min())>0){g.readTime=ac(h,d.snapshotVersion.toTimestamp());const v=od(h,d.expectedCount);v!==null&&(g.expectedCount=v)}return g})(this.serializer,e);const a=FS(this.serializer,e);a&&(i.labels=a),this.q_(i)}Z_(e){const i={};i.database=hd(this.serializer),i.removeTarget=e,this.q_(i)}}class Vx extends e0{constructor(e,i,a,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return $t(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$t(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){$t(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=zS(e.writeResults,e.commitTime),a=hi(e.commitTime);return this.listener.na(a,i)}ra(){const e={};e.database=hd(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((a=>LS(this.serializer,a)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{}class jx extends Ox{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new bt(ut.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(e,ud(i,a),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ut.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new bt(ut.UNKNOWN,h.toString())}))}Ho(e,i,a,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,ud(i,a),o,d,g,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===ut.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new bt(ut.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class kx{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(qi(i),this.aa=!1):yt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr="RemoteStore";class Px{constructor(e,i,a,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{jr(this)&&(yt(Nr,"Restarting streams for network reachability change."),await(async function(y){const v=Vt(y);v.Ea.add(4),await go(v),v.Ra.set("Unknown"),v.Ea.delete(4),await xc(v)})(this))}))})),this.Ra=new kx(a,o)}}async function xc(r){if(jr(r))for(const e of r.da)await e(!0)}async function go(r){for(const e of r.da)await e(!1)}function n0(r,e){const i=Vt(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),qd(i)?Bd(i):Ba(i).O_()&&zd(i,e))}function Ld(r,e){const i=Vt(r),a=Ba(i);i.Ia.delete(e),a.O_()&&i0(i,e),i.Ia.size===0&&(a.O_()?a.L_():jr(i)&&i.Ra.set("Unknown"))}function zd(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(It.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ba(r).Y_(e)}function i0(r,e){r.Va.Ue(e),Ba(r).Z_(e)}function Bd(r){r.Va=new IS({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Ba(r).start(),r.Ra.ua()}function qd(r){return jr(r)&&!Ba(r).x_()&&r.Ia.size>0}function jr(r){return Vt(r).Ea.size===0}function s0(r){r.Va=void 0}async function Ux(r){r.Ra.set("Online")}async function Lx(r){r.Ia.forEach(((e,i)=>{zd(r,e)}))}async function zx(r,e){s0(r),qd(r)?(r.Ra.ha(e),Bd(r)):r.Ra.set("Unknown")}async function Bx(r,e,i){if(r.Ra.set("Online"),e instanceof qv&&e.state===2&&e.cause)try{await(async function(o,h){const d=h.cause;for(const g of h.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))})(r,e)}catch(a){yt(Nr,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await oc(r,a)}else if(e instanceof Yu?r.Va.Ze(e):e instanceof Bv?r.Va.st(e):r.Va.tt(e),!i.isEqual(It.min()))try{const a=await Wv(r.localStore);i.compareTo(a)>=0&&await(function(h,d){const g=h.Va.Tt(d);return g.targetChanges.forEach(((y,v)=>{if(y.resumeToken.approximateByteSize()>0){const b=h.Ia.get(v);b&&h.Ia.set(v,b.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,v)=>{const b=h.Ia.get(y);if(!b)return;h.Ia.set(y,b.withResumeToken(Qe.EMPTY_BYTE_STRING,b.snapshotVersion)),i0(h,y);const I=new ws(b.target,y,v,b.sequenceNumber);zd(h,I)})),h.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(a){yt(Nr,"Failed to raise snapshot:",a),await oc(r,a)}}async function oc(r,e,i){if(!za(e))throw e;r.Ea.add(1),await go(r),r.Ra.set("Offline"),i||(i=()=>Wv(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{yt(Nr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await xc(r)}))}function r0(r,e){return e().catch((i=>oc(r,i,e)))}async function Ac(r){const e=Vt(r),i=Ps(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:xd;for(;qx(e);)try{const o=await Sx(e.localStore,a);if(o===null){e.Ta.length===0&&i.L_();break}a=o.batchId,Hx(e,o)}catch(o){await oc(e,o)}a0(e)&&l0(e)}function qx(r){return jr(r)&&r.Ta.length<10}function Hx(r,e){r.Ta.push(e);const i=Ps(r);i.O_()&&i.X_&&i.ea(e.mutations)}function a0(r){return jr(r)&&!Ps(r).x_()&&r.Ta.length>0}function l0(r){Ps(r).start()}async function Fx(r){Ps(r).ra()}async function Gx(r){const e=Ps(r);for(const i of r.Ta)e.ea(i.mutations)}async function Qx(r,e,i){const a=r.Ta.shift(),o=Md.from(a,e,i);await r0(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Ac(r)}async function Yx(r,e){e&&Ps(r).X_&&await(async function(a,o){if((function(d){return CS(d)&&d!==ut.ABORTED})(o.code)){const h=a.Ta.shift();Ps(a).B_(),await r0(a,(()=>a.remoteSyncer.rejectFailedWrite(h.batchId,o))),await Ac(a)}})(r,e),a0(r)&&l0(r)}async function g_(r,e){const i=Vt(r);i.asyncQueue.verifyOperationInProgress(),yt(Nr,"RemoteStore received new credentials");const a=jr(i);i.Ea.add(3),await go(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await xc(i)}async function Kx(r,e){const i=Vt(r);e?(i.Ea.delete(2),await xc(i)):e||(i.Ea.add(2),await go(i),i.Ra.set("Unknown"))}function Ba(r){return r.ma||(r.ma=(function(i,a,o){const h=Vt(i);return h.sa(),new Mx(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(r.datastore,r.asyncQueue,{Xo:Ux.bind(null,r),t_:Lx.bind(null,r),r_:zx.bind(null,r),H_:Bx.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),qd(r)?Bd(r):r.Ra.set("Unknown")):(await r.ma.stop(),s0(r))}))),r.ma}function Ps(r){return r.fa||(r.fa=(function(i,a,o){const h=Vt(i);return h.sa(),new Vx(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:Fx.bind(null,r),r_:Yx.bind(null,r),ta:Gx.bind(null,r),na:Qx.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Ac(r)):(await r.fa.stop(),r.Ta.length>0&&(yt(Nr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,i,a,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=h,this.deferred=new Ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,h){const d=Date.now()+a,g=new Hd(e,i,d,o,h);return g.start(a),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new bt(ut.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fd(r,e){if(qi("AsyncQueue",`${e}: ${r}`),za(r))return new bt(ut.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{static emptySet(e){return new Da(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||At.comparator(i.key,a.key):(i,a)=>At.comparator(i.key,a.key),this.keyedMap=Xl(),this.sortedSet=new de(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,a)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Da)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new Da;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(){this.ga=new de(At.comparator)}track(e){const i=e.doc.key,a=this.ga.get(i);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(i,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(i):e.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):Ct(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,a)=>{e.push(a)})),e}}class Pa{constructor(e,i,a,o,h,d,g,y,v){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=v}static fromInitialDocuments(e,i,a,o,h){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new Pa(e,i,Da.emptySet(i),d,a,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_c(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class $x{constructor(){this.queries=__(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Vt(i),h=o.queries;o.queries=__(),h.forEach(((d,g)=>{for(const y of g.Sa)y.onError(a)}))})(this,new bt(ut.ABORTED,"Firestore shutting down"))}}function __(){return new Vr((r=>Cv(r)),_c)}async function Zx(r,e){const i=Vt(r);let a=3;const o=e.query;let h=i.queries.get(o);h?!h.ba()&&e.Da()&&(a=2):(h=new Xx,a=e.Da()?0:1);try{switch(a){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=Fd(d,`Initialization of query '${Aa(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&Gd(i)}async function Jx(r,e){const i=Vt(r),a=e.query;let o=3;const h=i.queries.get(a);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?o=e.Da()?0:1:!h.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function Wx(r,e){const i=Vt(r);let a=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const g of d.Sa)g.Fa(o)&&(a=!0);d.wa=o}}a&&Gd(i)}function tA(r,e,i){const a=Vt(r),o=a.queries.get(e);if(o)for(const h of o.Sa)h.onError(i);a.queries.delete(e)}function Gd(r){r.Ca.forEach((e=>{e.next()}))}var pd,v_;(v_=pd||(pd={})).Ma="default",v_.Cache="cache";class eA{constructor(e,i,a){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Pa(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Pa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==pd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e){this.key=e}}class u0{constructor(e){this.key=e}}class nA{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=qt(),this.mutatedKeys=qt(),this.eu=Dv(e),this.tu=new Da(this.eu)}get nu(){return this.Ya}ru(e,i){const a=i?i.iu:new y_,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((b,I)=>{const V=o.get(b),q=vc(this.query,I)?I:null,G=!!V&&this.mutatedKeys.has(V.key),ot=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let $=!1;V&&q?V.data.isEqual(q.data)?G!==ot&&(a.track({type:3,doc:q}),$=!0):this.su(V,q)||(a.track({type:2,doc:q}),$=!0,(y&&this.eu(q,y)>0||v&&this.eu(q,v)<0)&&(g=!0)):!V&&q?(a.track({type:0,doc:q}),$=!0):V&&!q&&(a.track({type:1,doc:V}),$=!0,(y||v)&&(g=!0)),$&&(q?(d=d.add(q),h=ot?h.add(b):h.delete(b)):(d=d.delete(b),h=h.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),h=h.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Cs:g,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((b,I)=>(function(q,G){const ot=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ct(20277,{Rt:$})}};return ot(q)-ot(G)})(b.type,I.type)||this.eu(b.doc,I.doc))),this.ou(a),o=o??!1;const g=i&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,v=y!==this.Za;return this.Za=y,d.length!==0||v?{snapshot:new Pa(this.query,e.tu,h,d,e.mutatedKeys,y===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new y_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=qt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return e.forEach((a=>{this.Xa.has(a)||i.push(new u0(a))})),this.Xa.forEach((a=>{e.has(a)||i.push(new o0(a))})),i}cu(e){this.Ya=e.Qs,this.Xa=qt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Pa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Qd="SyncEngine";class iA{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class sA{constructor(e){this.key=e,this.hu=!1}}class rA{constructor(e,i,a,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Vr((g=>Cv(g)),_c),this.Iu=new Map,this.Eu=new Set,this.du=new de(At.comparator),this.Au=new Map,this.Ru=new jd,this.Vu={},this.mu=new Map,this.fu=ka.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function aA(r,e,i=!0){const a=m0(r);let o;const h=a.Tu.get(e);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await c0(a,e,i,!0),o}async function lA(r,e){const i=m0(r);await c0(i,e,!0,!1)}async function c0(r,e,i,a){const o=await xx(r.localStore,ui(e)),h=o.targetId,d=r.sharedClientState.addLocalQueryTarget(h,i);let g;return a&&(g=await oA(r,e,h,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&n0(r.remoteStore,o),g}async function oA(r,e,i,a,o){r.pu=(I,V,q)=>(async function(ot,$,tt,ht){let ft=$.view.ru(tt);ft.Cs&&(ft=await h_(ot.localStore,$.query,!1).then((({documents:D})=>$.view.ru(D,ft))));const mt=ht&&ht.targetChanges.get($.targetId),gt=ht&&ht.targetMismatches.get($.targetId)!=null,z=$.view.applyChanges(ft,ot.isPrimaryClient,mt,gt);return T_(ot,$.targetId,z.au),z.snapshot})(r,I,V,q);const h=await h_(r.localStore,e,!0),d=new nA(e,h.Qs),g=d.ru(h.documents),y=mo.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),v=d.applyChanges(g,r.isPrimaryClient,y);T_(r,i,v.au);const b=new iA(e,i,d);return r.Tu.set(e,b),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),v.snapshot}async function uA(r,e,i){const a=Vt(r),o=a.Tu.get(e),h=a.Iu.get(o.targetId);if(h.length>1)return a.Iu.set(o.targetId,h.filter((d=>!_c(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await fd(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Ld(a.remoteStore,o.targetId),md(a,o.targetId)})).catch(La)):(md(a,o.targetId),await fd(a.localStore,o.targetId,!0))}async function cA(r,e){const i=Vt(r),a=i.Tu.get(e),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Ld(i.remoteStore,a.targetId))}async function hA(r,e,i){const a=_A(r);try{const o=await(function(d,g){const y=Vt(d),v=ue.now(),b=g.reduce(((q,G)=>q.add(G.key)),qt());let I,V;return y.persistence.runTransaction("Locally write mutations","readwrite",(q=>{let G=Hi(),ot=qt();return y.Ns.getEntries(q,b).next(($=>{G=$,G.forEach(((tt,ht)=>{ht.isValidDocument()||(ot=ot.add(tt))}))})).next((()=>y.localDocuments.getOverlayedDocuments(q,G))).next(($=>{I=$;const tt=[];for(const ht of g){const ft=SS(ht,I.get(ht.key).overlayedDocument);ft!=null&&tt.push(new Or(ht.key,ft,Tv(ft.value.mapValue),ci.exists(!0)))}return y.mutationQueue.addMutationBatch(q,v,tt,g)})).next(($=>{V=$;const tt=$.applyToLocalDocumentSet(I,ot);return y.documentOverlayCache.saveOverlays(q,$.batchId,tt)}))})).then((()=>({batchId:V.batchId,changes:Iv(I)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(d,g,y){let v=d.Vu[d.currentUser.toKey()];v||(v=new de(Bt)),v=v.insert(g,y),d.Vu[d.currentUser.toKey()]=v})(a,o.batchId,i),await yo(a,o.changes),await Ac(a.remoteStore)}catch(o){const h=Fd(o,"Failed to persist write");i.reject(h)}}async function h0(r,e){const i=Vt(r);try{const a=await Tx(i.localStore,e);e.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&($t(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?$t(d.hu,14607):o.removedDocuments.size>0&&($t(d.hu,42227),d.hu=!1))})),await yo(i,a,e)}catch(a){await La(a)}}function E_(r,e,i){const a=Vt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((h,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const y=Vt(d);y.onlineState=g;let v=!1;y.queries.forEach(((b,I)=>{for(const V of I.Sa)V.va(g)&&(v=!0)})),v&&Gd(y)})(a.eventManager,e),o.length&&a.Pu.H_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function fA(r,e,i){const a=Vt(r);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Au.get(e),h=o&&o.key;if(h){let d=new de(At.comparator);d=d.insert(h,tn.newNoDocument(h,It.min()));const g=qt().add(h),y=new bc(It.min(),new Map,new de(Bt),d,g);await h0(a,y),a.du=a.du.remove(h),a.Au.delete(e),Yd(a)}else await fd(a.localStore,e,!1).then((()=>md(a,e,i))).catch(La)}async function dA(r,e){const i=Vt(r),a=e.batch.batchId;try{const o=await Ex(i.localStore,e);d0(i,a,null),f0(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await yo(i,o)}catch(o){await La(o)}}async function pA(r,e,i){const a=Vt(r);try{const o=await(function(d,g){const y=Vt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let b;return y.mutationQueue.lookupMutationBatch(v,g).next((I=>($t(I!==null,37113),b=I.keys(),y.mutationQueue.removeMutationBatch(v,I)))).next((()=>y.mutationQueue.performConsistencyCheck(v))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(v,b,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,b))).next((()=>y.localDocuments.getDocuments(v,b)))}))})(a.localStore,e);d0(a,e,i),f0(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await yo(a,o)}catch(o){await La(o)}}function f0(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function d0(r,e,i){const a=Vt(r);let o=a.Vu[a.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),a.Vu[a.currentUser.toKey()]=o}}function md(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Iu.get(e))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((a=>{r.Ru.containsKey(a)||p0(r,a)}))}function p0(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(Ld(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),Yd(r))}function T_(r,e,i){for(const a of i)a instanceof o0?(r.Ru.addReference(a.key,e),mA(r,a)):a instanceof u0?(yt(Qd,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,e),r.Ru.containsKey(a.key)||p0(r,a.key)):Ct(19791,{wu:a})}function mA(r,e){const i=e.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(yt(Qd,"New document in limbo: "+i),r.Eu.add(a),Yd(r))}function Yd(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new At(oe.fromString(e)),a=r.fu.next();r.Au.set(a,new sA(i)),r.du=r.du.insert(i,a),n0(r.remoteStore,new ws(ui(Dd(i.path)),a,"TargetPurposeLimboResolution",pc.ce))}}async function yo(r,e,i){const a=Vt(r),o=[],h=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,y)=>{d.push(a.pu(y,e,i).then((v=>{if((v||i)&&a.isPrimaryClient){const b=v?!v.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,b?"current":"not-current")}if(v){o.push(v);const b=Pd.As(y.targetId,v);h.push(b)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(y,v){const b=Vt(y);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(I=>at.forEach(v,(V=>at.forEach(V.Es,(q=>b.persistence.referenceDelegate.addReference(I,V.targetId,q))).next((()=>at.forEach(V.ds,(q=>b.persistence.referenceDelegate.removeReference(I,V.targetId,q)))))))))}catch(I){if(!za(I))throw I;yt(Ud,"Failed to update sequence numbers: "+I)}for(const I of v){const V=I.targetId;if(!I.fromCache){const q=b.Ms.get(V),G=q.snapshotVersion,ot=q.withLastLimboFreeSnapshotVersion(G);b.Ms=b.Ms.insert(V,ot)}}})(a.localStore,h))}async function gA(r,e){const i=Vt(r);if(!i.currentUser.isEqual(e)){yt(Qd,"User change. New user:",e.toKey());const a=await Jv(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((g=>{g.forEach((y=>{y.reject(new bt(ut.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await yo(i,a.Ls)}}function yA(r,e){const i=Vt(r),a=i.Au.get(e);if(a&&a.hu)return qt().add(a.key);{let o=qt();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function m0(r){const e=Vt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=h0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fA.bind(null,e),e.Pu.H_=Wx.bind(null,e.eventManager),e.Pu.yu=tA.bind(null,e.eventManager),e}function _A(r){const e=Vt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pA.bind(null,e),e}class uc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return vx(this.persistence,new gx,e.initialUser,this.serializer)}Cu(e){return new Zv(kd.mi,this.serializer)}Du(e){return new Rx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uc.provider={build:()=>new uc};class vA extends uc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){$t(this.persistence.referenceDelegate instanceof lc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new ex(a,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new Zv((a=>lc.mi(a,i)),this.serializer)}}class gd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>E_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=gA.bind(null,this.syncEngine),await Kx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new $x})()}createDatastore(e){const i=Sc(e.databaseInfo.databaseId),a=(function(h){return new Ix(h)})(e.databaseInfo);return(function(h,d,g,y){return new jx(h,d,g,y)})(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return(function(a,o,h,d,g){return new Px(a,o,h,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>E_(this.syncEngine,i,0)),(function(){return p_.v()?new p_:new wx})())}createSyncEngine(e,i){return(function(o,h,d,g,y,v,b){const I=new rA(o,h,d,g,y,v);return b&&(I.gu=!0),I})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Vt(i);yt(Nr,"RemoteStore shutting down."),a.Ea.add(5),await go(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}gd.provider={build:()=>new gd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):qi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="FirestoreClient";class TA{constructor(e,i,a,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=We.UNAUTHENTICATED,this.clientId=bd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,(async d=>{yt(Us,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(yt(Us,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=Fd(i,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Kf(r,e){r.asyncQueue.verifyOperationInProgress(),yt(Us,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await Jv(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function b_(r,e){r.asyncQueue.verifyOperationInProgress();const i=await bA(r);yt(Us,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((a=>g_(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>g_(e.remoteStore,o))),r._onlineComponents=e}async function bA(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){yt(Us,"Using user provided OfflineComponentProvider");try{await Kf(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ut.FAILED_PRECONDITION||o.code===ut.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Ma("Error using user provided cache. Falling back to memory cache: "+i),await Kf(r,new uc)}}else yt(Us,"Using default OfflineComponentProvider"),await Kf(r,new vA(void 0));return r._offlineComponents}async function g0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(yt(Us,"Using user provided OnlineComponentProvider"),await b_(r,r._uninitializedComponentsProvider._online)):(yt(Us,"Using default OnlineComponentProvider"),await b_(r,new gd))),r._onlineComponents}function SA(r){return g0(r).then((e=>e.syncEngine))}async function S_(r){const e=await g0(r),i=e.eventManager;return i.onListen=aA.bind(null,e.syncEngine),i.onUnlisten=uA.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=lA.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=cA.bind(null,e.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="firestore.googleapis.com",A_=!0;class R_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new bt(ut.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_0,this.ssl=A_}else this.host=e.host,this.ssl=e.ssl??A_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$v;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<WS)throw new bt(ut.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=y0(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new bt(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new bt(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new bt(ut.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rc{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new R_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new bt(ut.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new bt(ut.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new R_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Rb;switch(a.type){case"firstParty":return new Nb(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new bt(ut.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=x_.get(i);a&&(yt("ComponentProvider","Removing Datastore"),x_.delete(i),a.terminate())})(this),Promise.resolve()}}function xA(r,e,i,a={}){r=Rr(r,Rc);const o=dc(e),h=r._getSettings(),d={...h,emulatorOptions:r._getEmulatorOptions()},g=`${e}:${i}`;o&&(q_(`https://${g}`),F_("Firestore",!0)),h.host!==_0&&h.host!==g&&Ma("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...h,host:g,ssl:o,emulatorOptions:a};if(!Zu(y,d)&&(r._setSettings(y),a.mockUserToken)){let v,b;if(typeof a.mockUserToken=="string")v=a.mockUserToken,b=We.MOCK_USER;else{v=H_(a.mockUserToken,r._app?.options.projectId);const I=a.mockUserToken.sub||a.mockUserToken.user_id;if(!I)throw new bt(ut.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new We(I)}r._authCredentials=new wb(new uv(v,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new wc(this.firestore,e,this._query)}}class Me{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ms(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Me(this.firestore,e,this._key)}toJSON(){return{type:Me._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,a){if(fo(i,Me._jsonSchema))return new Me(e,a||null,new At(oe.fromString(i.referencePath)))}}Me._jsonSchemaVersion="firestore/documentReference/1.0",Me._jsonSchema={type:Re("string",Me._jsonSchemaVersion),referencePath:Re("string")};class Ms extends wc{constructor(e,i,a){super(e,i,Dd(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Me(this.firestore,null,new At(e))}withConverter(e){return new Ms(this.firestore,e,this._path)}}function Cc(r,e,...i){if(r=Cr(r),cv("collection","path",e),r instanceof Rc){const a=oe.fromString(e,...i);return Ly(a),new Ms(r,null,a)}{if(!(r instanceof Me||r instanceof Ms))throw new bt(ut.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(oe.fromString(e,...i));return Ly(a),new Ms(r.firestore,null,a)}}function jn(r,e,...i){if(r=Cr(r),arguments.length===1&&(e=bd.newId()),cv("doc","path",e),r instanceof Rc){const a=oe.fromString(e,...i);return Uy(a),new Me(r,null,new At(a))}{if(!(r instanceof Me||r instanceof Ms))throw new bt(ut.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(oe.fromString(e,...i));return Uy(a),new Me(r.firestore,r instanceof Ms?r.converter:null,new At(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="AsyncQueue";class C_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new t0(this,"async_queue_retry"),this._c=()=>{const a=Yf();a&&yt(w_,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const i=Yf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Yf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ar;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!za(e))throw e;yt(w_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,qi("INTERNAL UNHANDLED ERROR: ",D_(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(e,i,a){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Hd.createAndSchedule(this,e,i,a,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&Ct(47125,{Pc:D_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function D_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N_(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of a)if(h in o&&typeof o[h]=="function")return!0;return!1})(r,["next","error","complete"])}class ho extends Rc{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new C_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new C_(e),this._firestoreClient=void 0,await e}}}function AA(r,e){const i=typeof r=="object"?r:W_(),a=typeof r=="string"?r:tc,o=X_(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const h=z_("firestore");h&&xA(o,...h)}return o}function v0(r){if(r._terminated)throw new bt(ut.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||RA(r),r._firestoreClient}function RA(r){const e=r._freezeSettings(),i=(function(o,h,d,g){return new Yb(o,h,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,y0(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new TA(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const h=o?._online.build();return{_offline:o?._offline.build(h),_online:h}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this._byteString=e}static fromBase64String(e){try{return new On(Qe.fromBase64String(e))}catch(i){throw new bt(ut.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new On(Qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:On._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(fo(e,On._jsonSchema))return On.fromBase64String(e.bytes)}}On._jsonSchemaVersion="firestore/bytes/1.0",On._jsonSchema={type:Re("string",On._jsonSchemaVersion),bytes:Re("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new bt(ut.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new bt(ut.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new bt(ut.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Bt(this._lat,e._lat)||Bt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:fi._jsonSchemaVersion}}static fromJSON(e){if(fo(e,fi._jsonSchema))return new fi(e.latitude,e.longitude)}}fi._jsonSchemaVersion="firestore/geoPoint/1.0",fi._jsonSchema={type:Re("string",fi._jsonSchemaVersion),latitude:Re("number"),longitude:Re("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(fo(e,di._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new di(e.vectorValues);throw new bt(ut.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}di._jsonSchemaVersion="firestore/vectorValue/1.0",di._jsonSchema={type:Re("string",di._jsonSchemaVersion),vectorValues:Re("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA=/^__.*__$/;class CA{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Or(e,this.data,this.fieldMask,i,this.fieldTransforms):new po(e,this.data,i,this.fieldTransforms)}}function T0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ct(40011,{Ac:r})}}class Xd{constructor(e,i,a,o,h,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Xd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.gc(e),a}yc(e){const i=this.path?.child(e),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return cc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(T0(this.Ac)&&wA.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class DA{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Sc(e)}Cc(e,i,a,o=!1){return new Xd({Ac:e,methodName:i,Dc:a,path:Ge.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function NA(r){const e=r._freezeSettings(),i=Sc(r._databaseId);return new DA(r._databaseId,!!e.ignoreUndefinedProperties,i)}function IA(r,e,i,a,o,h={}){const d=r.Cc(h.merge||h.mergeFields?2:0,e,i,o);A0("Data must be an object, but it was:",d,a);const g=S0(a,d);let y,v;if(h.merge)y=new Qn(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const b=[];for(const I of h.mergeFields){const V=MA(e,I,i);if(!d.contains(V))throw new bt(ut.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);OA(b,V)||b.push(V)}y=new Qn(b),v=d.fieldTransforms.filter((I=>y.covers(I.field)))}else y=null,v=d.fieldTransforms;return new CA(new Vn(g),y,v)}function b0(r,e){if(x0(r=Cr(r)))return A0("Unsupported field value:",e,r),S0(r,e);if(r instanceof E0)return(function(a,o){if(!T0(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,o){const h=[];let d=0;for(const g of a){let y=b0(g,o.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),h.push(y),d++}return{arrayValue:{values:h}}})(r,e)}return(function(a,o){if((a=Cr(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return yS(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=ue.fromDate(a);return{timestampValue:ac(o.serializer,h)}}if(a instanceof ue){const h=new ue(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ac(o.serializer,h)}}if(a instanceof fi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof On)return{bytesValue:Hv(o.serializer,a._byteString)};if(a instanceof Me){const h=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Od(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof di)return(function(d,g){return{mapValue:{fields:{[vv]:{stringValue:Ev},[ec]:{arrayValue:{values:d.toArray().map((v=>{if(typeof v!="number")throw g.Sc("VectorValues must only contain numeric values.");return Nd(g.serializer,v)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Sd(a)}`)})(r,e)}function S0(r,e){const i={};return dv(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mr(r,((a,o)=>{const h=b0(o,e.mc(a));h!=null&&(i[a]=h)})),{mapValue:{fields:i}}}function x0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ue||r instanceof fi||r instanceof On||r instanceof Me||r instanceof E0||r instanceof di)}function A0(r,e,i){if(!x0(i)||!hv(i)){const a=Sd(i);throw a==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+a)}}function MA(r,e,i){if((e=Cr(e))instanceof Kd)return e._internalPath;if(typeof e=="string")return R0(r,e);throw cc("Field path arguments must be of type string or ",r,!1,void 0,i)}const VA=new RegExp("[~\\*/\\[\\]]");function R0(r,e,i){if(e.search(VA)>=0)throw cc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Kd(...e.split("."))._internalPath}catch{throw cc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function cc(r,e,i,a,o){const h=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(h||d)&&(y+=" (found",h&&(y+=` in field ${a}`),d&&(y+=` in document ${o}`),y+=")"),new bt(ut.INVALID_ARGUMENT,g+r+y)}function OA(r,e){return r.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e,i,a,o,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Me(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new jA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(C0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class jA extends w0{data(){return super.data()}}function C0(r,e){return typeof e=="string"?R0(r,e):e instanceof Kd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new bt(ut.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class PA{convertValue(e,i="none"){switch(ks(e)){case 0:return null;case 1:return e.booleanValue;case 2:return be(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(js(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw Ct(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Mr(e,((o,h)=>{a[o]=this.convertValue(h,i)})),a}convertVectorValue(e){const i=e.fields?.[ec].arrayValue?.values?.map((a=>be(a.doubleValue)));return new di(i)}convertGeoPoint(e){return new fi(be(e.latitude),be(e.longitude))}convertArray(e,i){return(e.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const a=gc(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(ao(e));default:return null}}convertTimestamp(e){const i=Os(e);return new ue(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=oe.fromString(e);$t(Xv(a),9688,{name:e});const o=new lo(a.get(1),a.get(3)),h=new At(a.popFirst(5));return o.isEqual(i)||qi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(r,e,i){let a;return a=r?r.toFirestore(e):e,a}class Zl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wr extends w0{constructor(e,i,a,o,h,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Ku(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(C0("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new bt(ut.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=wr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}wr._jsonSchemaVersion="firestore/documentSnapshot/1.0",wr._jsonSchema={type:Re("string",wr._jsonSchemaVersion),bundleSource:Re("string","DocumentSnapshot"),bundleName:Re("string"),bundle:Re("string")};class Ku extends wr{data(e={}){return super.data(e)}}class Na{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Zl(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((a=>{e.call(i,new Ku(this._firestore,this._userDataWriter,a.key,a,new Zl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new bt(ut.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const y=new Ku(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Zl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>h||g.type!==3)).map((g=>{const y=new Ku(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Zl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,b=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),b=d.indexOf(g.doc.key)),{type:LA(g.type),doc:y,oldIndex:v,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new bt(ut.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Na._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=bd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function LA(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ct(61501,{type:r})}}Na._jsonSchemaVersion="firestore/querySnapshot/1.0",Na._jsonSchema={type:Re("string",Na._jsonSchemaVersion),bundleSource:Re("string","QuerySnapshot"),bundleName:Re("string"),bundle:Re("string")};class D0 extends PA{constructor(e){super(),this.firestore=e}convertBytes(e){return new On(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Me(this.firestore,null,i)}}function Ls(r,e,i){r=Rr(r,Me);const a=Rr(r.firestore,ho),o=UA(r.converter,e);return N0(a,[IA(NA(a),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,ci.none())])}function Dc(r){return N0(Rr(r.firestore,ho),[new Id(r._key,ci.none())])}function Nc(r,...e){r=Cr(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||N_(e[a])||(i=e[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(N_(e[a])){const y=e[a];e[a]=y.next?.bind(y),e[a+1]=y.error?.bind(y),e[a+2]=y.complete?.bind(y)}let h,d,g;if(r instanceof Me)d=Rr(r.firestore,ho),g=Dd(r._key.path),h={next:y=>{e[a]&&e[a](zA(d,r,y))},error:e[a+1],complete:e[a+2]};else{const y=Rr(r,wc);d=Rr(y.firestore,ho),g=y._query;const v=new D0(d);h={next:b=>{e[a]&&e[a](new Na(d,v,y,b))},error:e[a+1],complete:e[a+2]},kA(r._query)}return(function(v,b,I,V){const q=new EA(V),G=new eA(b,q,I);return v.asyncQueue.enqueueAndForget((async()=>Zx(await S_(v),G))),()=>{q.Nu(),v.asyncQueue.enqueueAndForget((async()=>Jx(await S_(v),G)))}})(v0(d),g,o,h)}function N0(r,e){return(function(a,o){const h=new Ar;return a.asyncQueue.enqueueAndForget((async()=>hA(await SA(a),o,h))),h.promise})(v0(r),e)}function zA(r,e,i){const a=i.docs.get(e._key),o=new D0(r);return new wr(r,o,e._key,a,new Zl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){Ua=o})(Z_),io(new Ia("firestore",((a,{instanceIdentifier:o,options:h})=>{const d=a.getProvider("app").getImmediate(),g=new ho(new Cb(a.getProvider("auth-internal")),new Ib(d,a.getProvider("app-check-internal")),(function(v,b){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new bt(ut.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lo(v.options.projectId,b)})(d,o),d);return h={useFetchStreams:i,...h},g._setSettings(h),g}),"PUBLIC").setMultipleInstances(!0)),Ns(Oy,jy,e),Ns(Oy,jy,"esm2020")})();var BA="firebase",qA="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ns(BA,qA,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="firebasestorage.googleapis.com",HA="storageBucket",FA=120*1e3,GA=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi extends Ir{constructor(e,i,a=0){super(Xf(e),`Firebase Storage: ${i} (${Xf(e)})`),this.status_=a,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,yi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Xf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var gi;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(gi||(gi={}));function Xf(r){return"storage/"+r}function QA(){const r="An unknown error occurred, please check the error payload for server response.";return new yi(gi.UNKNOWN,r)}function YA(){return new yi(gi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function KA(){return new yi(gi.CANCELED,"User canceled the upload/download.")}function XA(r){return new yi(gi.INVALID_URL,"Invalid URL '"+r+"'.")}function $A(r){return new yi(gi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function I_(r){return new yi(gi.INVALID_ARGUMENT,r)}function M0(){return new yi(gi.APP_DELETED,"The Firebase app was deleted.")}function ZA(r){return new yi(gi.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e,i){this.bucket=e,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,i){let a;try{a=Yn.makeFromUrl(e,i)}catch{return new Yn(e,"")}if(a.path==="")return a;throw $A(e)}static makeFromUrl(e,i){let a=null;const o="([A-Za-z0-9.\\-_]+)";function h(mt){mt.path.charAt(mt.path.length-1)==="/"&&(mt.path_=mt.path_.slice(0,-1))}const d="(/(.*))?$",g=new RegExp("^gs://"+o+d,"i"),y={bucket:1,path:3};function v(mt){mt.path_=decodeURIComponent(mt.path)}const b="v[A-Za-z0-9_]+",I=i.replace(/[.]/g,"\\."),V="(/([^?#]*).*)?$",q=new RegExp(`^https?://${I}/${b}/b/${o}/o${V}`,"i"),G={bucket:1,path:3},ot=i===I0?"(?:storage.googleapis.com|storage.cloud.google.com)":i,$="([^?#]*)",tt=new RegExp(`^https?://${ot}/${o}/${$}`,"i"),ft=[{regex:g,indices:y,postModify:h},{regex:q,indices:G,postModify:v},{regex:tt,indices:{bucket:1,path:2},postModify:v}];for(let mt=0;mt<ft.length;mt++){const gt=ft[mt],z=gt.regex.exec(e);if(z){const D=z[gt.indices.bucket];let C=z[gt.indices.path];C||(C=""),a=new Yn(D,C),gt.postModify(a);break}}if(a==null)throw XA(e);return a}}class JA{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(r,e,i){let a=1,o=null,h=null,d=!1,g=0;function y(){return g===2}let v=!1;function b(...$){v||(v=!0,e.apply(null,$))}function I($){o=setTimeout(()=>{o=null,r(q,y())},$)}function V(){h&&clearTimeout(h)}function q($,...tt){if(v){V();return}if($){V(),b.call(null,$,...tt);return}if(y()||d){V(),b.call(null,$,...tt);return}a<64&&(a*=2);let ft;g===1?(g=2,ft=0):ft=(a+Math.random())*1e3,I(ft)}let G=!1;function ot($){G||(G=!0,V(),!v&&(o!==null?($||(g=2),clearTimeout(o),I(0)):$||(g=1)))}return I(0),h=setTimeout(()=>{d=!0,ot(!0)},i),ot}function t2(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(r){return r!==void 0}function M_(r,e,i,a){if(a<e)throw I_(`Invalid value for '${r}'. Expected ${e} or greater.`);if(a>i)throw I_(`Invalid value for '${r}'. Expected ${i} or less.`)}function n2(r){const e=encodeURIComponent;let i="?";for(const a in r)if(r.hasOwnProperty(a)){const o=e(a)+"="+e(r[a]);i=i+o+"&"}return i=i.slice(0,-1),i}var hc;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(hc||(hc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(r,e){const i=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,h=e.indexOf(r)!==-1;return i||o||h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,i,a,o,h,d,g,y,v,b,I,V=!0,q=!1){this.url_=e,this.method_=i,this.headers_=a,this.body_=o,this.successCodes_=h,this.additionalRetryCodes_=d,this.callback_=g,this.errorCallback_=y,this.timeout_=v,this.progressCallback_=b,this.connectionFactory_=I,this.retry=V,this.isUsingEmulator=q,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((G,ot)=>{this.resolve_=G,this.reject_=ot,this.start_()})}start_(){const e=(a,o)=>{if(o){a(!1,new qu(!1,null,!0));return}const h=this.connectionFactory_();this.pendingConnection_=h;const d=g=>{const y=g.loaded,v=g.lengthComputable?g.total:-1;this.progressCallback_!==null&&this.progressCallback_(y,v)};this.progressCallback_!==null&&h.addUploadProgressListener(d),h.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&h.removeUploadProgressListener(d),this.pendingConnection_=null;const g=h.getErrorCode()===hc.NO_ERROR,y=h.getStatus();if(!g||i2(y,this.additionalRetryCodes_)&&this.retry){const b=h.getErrorCode()===hc.ABORT;a(!1,new qu(!1,null,b));return}const v=this.successCodes_.indexOf(y)!==-1;a(!0,new qu(v,h))})},i=(a,o)=>{const h=this.resolve_,d=this.reject_,g=o.connection;if(o.wasSuccessCode)try{const y=this.callback_(g,g.getResponse());e2(y)?h(y):h()}catch(y){d(y)}else if(g!==null){const y=QA();y.serverResponse=g.getErrorText(),this.errorCallback_?d(this.errorCallback_(g,y)):d(y)}else if(o.canceled){const y=this.appDelete_?M0():KA();d(y)}else{const y=YA();d(y)}};this.canceled_?i(!1,new qu(!1,null,!0)):this.backoffId_=WA(e,i,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&t2(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class qu{constructor(e,i,a){this.wasSuccessCode=e,this.connection=i,this.canceled=!!a}}function r2(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function a2(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function l2(r,e){e&&(r["X-Firebase-GMPID"]=e)}function o2(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function u2(r,e,i,a,o,h,d=!0,g=!1){const y=n2(r.urlParams),v=r.url+y,b=Object.assign({},r.headers);return l2(b,e),r2(b,i),a2(b,h),o2(b,a),new s2(v,r.method,b,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,d,g)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function h2(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,i){this._service=e,i instanceof Yn?this._location=i:this._location=Yn.makeFromUrl(i,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,i){return new fc(e,i)}get root(){const e=new Yn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return h2(this._location.path)}get storage(){return this._service}get parent(){const e=c2(this._location.path);if(e===null)return null;const i=new Yn(this._location.bucket,e);return new fc(this._service,i)}_throwIfRoot(e){if(this._location.path==="")throw ZA(e)}}function V_(r,e){const i=e?.[HA];return i==null?null:Yn.makeFromBucketSpec(i,r)}function f2(r,e,i,a={}){r.host=`${e}:${i}`;const o=dc(e);o&&(q_(`https://${r.host}/b`),F_("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:h}=a;h&&(r._overrideAuthToken=typeof h=="string"?h:H_(h,r.app.options.projectId))}class d2{constructor(e,i,a,o,h,d=!1){this.app=e,this._authProvider=i,this._appCheckProvider=a,this._url=o,this._firebaseVersion=h,this._isUsingEmulator=d,this._bucket=null,this._host=I0,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=FA,this._maxUploadRetryTime=GA,this._requests=new Set,o!=null?this._bucket=Yn.makeFromBucketSpec(o,this._host):this._bucket=V_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Yn.makeFromBucketSpec(this._url,e):this._bucket=V_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){M_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){M_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const i=await e.getToken();if(i!==null)return i.accessToken}return null}async _getAppCheckToken(){if($_(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new fc(this,e)}_makeRequest(e,i,a,o,h=!0){if(this._deleted)return new JA(M0());{const d=u2(e,this._appId,a,o,i,this._firebaseVersion,h,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,i){const[a,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,i,a,o).getPromise()}}const O_="@firebase/storage",j_="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="storage";function p2(r=W_(),e){r=Cr(r);const a=X_(r,V0).getImmediate({identifier:e}),o=z_("storage");return o&&m2(a,...o),a}function m2(r,e,i,a={}){f2(r,e,i,a)}function g2(r,{instanceIdentifier:e}){const i=r.getProvider("app").getImmediate(),a=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new d2(i,a,o,e,Z_)}function y2(){io(new Ia(V0,g2,"PUBLIC").setMultipleInstances(!0)),Ns(O_,j_,""),Ns(O_,j_,"esm2020")}y2();const _2={apiKey:"AIzaSyAZBf9fUWZoXnYJyBvBGEvpiu7DbHkG5Iw",authDomain:"crm-ver2.firebaseapp.com",projectId:"crm-ver2",storageBucket:"crm-ver2.firebasestorage.app",messagingSenderId:"993359540287",appId:"1:993359540287:web:43ad484af7c6616780088a"},O0=J_(_2),en=AA(O0);p2(O0);const Ic="customers",Mc="activities",Vc="meetings",Oc="propertySelections",v2=async r=>{try{const e=r.map(i=>Ls(jn(en,Ic,i.id),i));await Promise.all(e)}catch(e){console.error("Error saving customers:",e)}},Xu=async r=>{try{await Ls(jn(en,Ic,r.id),r)}catch(e){console.error("Error saving customer:",e)}},j0=async r=>{try{await Dc(jn(en,Ic,r))}catch(e){console.error("Error deleting customer:",e)}},k0=r=>Nc(Cc(en,Ic),e=>{const i=e.docs.map(a=>({id:a.id,...a.data()}));r(i)},e=>{console.error("Error in customers subscription:",e)}),E2=async r=>{try{const e=r.map(i=>Ls(jn(en,Mc,i.id),i));await Promise.all(e)}catch(e){console.error("Error saving activities:",e)}},P0=async r=>{try{await Ls(jn(en,Mc,r.id),r)}catch(e){console.error("Error saving activity:",e)}},U0=async r=>{try{await Dc(jn(en,Mc,r))}catch(e){console.error("Error deleting activity:",e)}},L0=r=>Nc(Cc(en,Mc),e=>{const i=e.docs.map(a=>({id:a.id,...a.data()}));r(i)},e=>{console.error("Error in activities subscription:",e)}),T2=async r=>{try{const e=r.map(i=>Ls(jn(en,Vc,i.id),i));await Promise.all(e)}catch(e){console.error("Error saving meetings:",e)}},z0=async r=>{try{await Ls(jn(en,Vc,r.id),r)}catch(e){console.error("Error saving meeting:",e)}},B0=async r=>{try{await Dc(jn(en,Vc,r))}catch(e){console.error("Error deleting meeting:",e)}},q0=r=>Nc(Cc(en,Vc),e=>{const i=e.docs.map(a=>({id:a.id,...a.data()}));r(i)},e=>{console.error("Error in meetings subscription:",e)}),b2=async r=>{try{const e=r.map(i=>Ls(jn(en,Oc,i.id),i));await Promise.all(e)}catch(e){console.error("Error saving property selections:",e)}},H0=async r=>{try{await Ls(jn(en,Oc,r.id),r)}catch(e){console.error("Error saving property selection:",e)}},F0=async r=>{try{await Dc(jn(en,Oc,r))}catch(e){console.error("Error deleting property selection:",e)}},G0=r=>Nc(Cc(en,Oc),e=>{const i=e.docs.map(a=>({id:a.id,...a.data()}));r(i)},e=>{console.error("Error in property selections subscription:",e)}),S2=Object.freeze(Object.defineProperty({__proto__:null,deleteActivity:U0,deleteCustomer:j0,deleteMeeting:B0,deletePropertySelection:F0,saveActivities:E2,saveActivity:P0,saveCustomer:Xu,saveCustomers:v2,saveMeeting:z0,saveMeetings:T2,savePropertySelection:H0,savePropertySelections:b2,subscribeToActivities:L0,subscribeToCustomers:k0,subscribeToMeetings:q0,subscribeToPropertySelections:G0},Symbol.toStringTag,{value:"Module"}));new Date().toISOString(),new Date().toISOString(),new Date().toISOString();function x2(){const[r,e]=vt.useState([]),[i,a]=vt.useState([]),[o,h]=vt.useState([]),[d,g]=vt.useState([]),[y,v]=vt.useState(null),[b,I]=vt.useState(!1),[V,q]=vt.useState(null),[G,ot]=vt.useState("전체"),[$,tt]=vt.useState(null),[ht,ft]=vt.useState(!1),mt=vt.useRef(null);vt.useEffect(()=>{const L=k0(dt=>{e(dt)}),ct=L0(dt=>{a(dt)}),Et=q0(dt=>{h(dt)}),_t=G0(dt=>{g(dt)});return()=>{L(),ct(),Et(),_t()}},[]),vt.useEffect(()=>{if(r.length===0||o.length===0)return;const L=new Date;L.setHours(0,0,0,0),r.forEach(ct=>{o.filter(dt=>dt.customerId===ct.id).some(dt=>{const Ht=new Date(dt.date);return Ht.setHours(0,0,0,0),Ht<L})&&ct.status==="신규"&&Xu({...ct,status:"진행중"})})},[r,o]);const gt=L=>{ot(L),tt(null)},z=L=>{tt(L)},D=L=>{y===L.id?v(null):v(L.id)},C=(L=null)=>{q(L),I(!0),L&&L.id===y&&v(null)},S=()=>{I(!1),q(null)},N=async L=>{await Xu(L)},A=async L=>{const ct={...L,isFavorite:!L.isFavorite};await Xu(ct)},j=async L=>{confirm(`"${L.name}" 고객을 정말 삭제하시겠습니까?`)&&(await j0(L.id),y===L.id&&v(null))},R=async L=>{await P0(L)},xt=async L=>{confirm("정말 이 활동을 삭제하시겠습니까?")&&await U0(L)},nt=async L=>{await z0(L)},O=async L=>{confirm("정말 이 미팅을 삭제하시겠습니까?")&&await B0(L)},Q=async L=>{await H0(L)},W=async L=>{confirm("정말 이 매물선정을 삭제하시겠습니까?")&&await F0(L)},lt=()=>{const L={customers:r,activities:i,meetings:o,propertySelections:d},ct=new Blob([JSON.stringify(L,null,2)],{type:"application/json"}),Et=URL.createObjectURL(ct),_t=document.createElement("a");_t.href=Et,_t.download=`customer-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(_t),_t.click(),document.body.removeChild(_t),URL.revokeObjectURL(Et)},w=async L=>{const ct=L.target.files[0];if(!ct)return;const Et=new FileReader;Et.onload=async _t=>{try{const dt=JSON.parse(_t.target.result);if(dt&&Array.isArray(dt.customers)&&Array.isArray(dt.activities)){const{saveCustomers:Ht,saveActivities:Ut,saveMeetings:Ft,savePropertySelections:Nt}=await IE(async()=>{const{saveCustomers:Ot,saveActivities:_i,saveMeetings:zs,savePropertySelections:Ye}=await Promise.resolve().then(()=>S2);return{saveCustomers:Ot,saveActivities:_i,saveMeetings:zs,savePropertySelections:Ye}},void 0);await Ht(dt.customers||[]),await Ut(dt.activities||[]),await Ft(dt.meetings||[]),await Nt(dt.propertySelections||[]),alert("데이터가 성공적으로 복원되었습니다.")}else throw new Error("잘못된 파일 형식입니다.")}catch(dt){alert(`복원 실패: ${dt.message}`)}},Et.readAsText(ct),L.target.value=null},B=L=>{const ct=i.filter(_t=>_t.customerId===L);if(ct.length===0)return null;const Et=ct.sort((_t,dt)=>new Date(dt.date)-new Date(_t.date));return new Date(Et[0].date)},et=L=>({전체:"등록된 모든 고객을 표시합니다",신규:"상태가 신규로 설정된 고객들을 표시합니다",진행중:"상태가 진행중으로 설정된 고객들을 표시합니다",장기관리고객:"장기적으로 관리 중인 고객들을 표시합니다",보류:"상태가 보류로 설정된 고객들을 표시합니다",집중고객:"즐겨찾기로 표시된 고객들을 집중적으로 관리하기 위해 표시합니다",오늘미팅:"오늘 일정이 확정된 미팅이 있는 고객들을 표시합니다",미팅일확정:"오늘 이후로 미팅이 예정된 고객들을 표시합니다",오늘연락:"오늘 활동 기록(전화, 문자, 방문 등)이 있는 고객들을 표시합니다",어제연락:"어제 활동 기록(전화, 문자, 방문 등)이 있는 고객들을 표시합니다",연락할고객:"어제와 오늘 모두 활동 기록이 없는 고객들입니다 (보류 상태 제외). 마지막 연락일이 오래된 순으로 정렬됩니다"})[L]||"",P=(()=>{const L=new Date;L.setHours(0,0,0,0);let ct=r.filter(Et=>{if(G==="집중고객")return Et.isFavorite;if(G==="장기관리고객")return Et.status==="장기관리고객";if(G==="오늘미팅")return o.filter(Ut=>Ut.customerId===Et.id).some(Ut=>{const Ft=new Date(Ut.date);return Ft.setHours(0,0,0,0),Ft.getTime()===L.getTime()});if(G==="미팅일확정")return o.filter(Ut=>Ut.customerId===Et.id).some(Ut=>{const Ft=new Date(Ut.date);return Ft.setHours(0,0,0,0),Ft>L});if(G==="오늘연락")return i.filter(Ut=>Ut.customerId===Et.id).some(Ut=>{const Ft=new Date(Ut.date);return Ft.setHours(0,0,0,0),Ft.getTime()===L.getTime()});if(G==="어제연락")return i.filter(Ut=>Ut.customerId===Et.id).some(Ut=>{const Ft=new Date(Ut.date);Ft.setHours(0,0,0,0);const Nt=new Date(L);return Nt.setDate(Nt.getDate()-1),Ft.getTime()===Nt.getTime()});if(G==="연락할고객"){if(Et.status==="보류")return!1;const Ht=i.filter(Nt=>Nt.customerId===Et.id),Ut=new Date(L),Ft=new Date(L);return Ft.setDate(Ft.getDate()-1),!Ht.some(Nt=>{const Ot=new Date(Nt.date);return Ot.setHours(0,0,0,0),Ot.getTime()===Ut.getTime()||Ot.getTime()===Ft.getTime()})}const _t=G==="전체"||Et.status===G,dt=!$||Et.progress===$;return _t&&dt});return G==="오늘미팅"?ct.sort((Et,_t)=>{const dt=o.filter(Nt=>{const Ot=new Date(Nt.date);return Ot.setHours(0,0,0,0),Nt.customerId===Et.id&&Ot.getTime()===L.getTime()}),Ht=o.filter(Nt=>{const Ot=new Date(Nt.date);return Ot.setHours(0,0,0,0),Nt.customerId===_t.id&&Ot.getTime()===L.getTime()});if(dt.length===0)return 1;if(Ht.length===0)return-1;const Ut=new Date(dt[0].date).getTime(),Ft=new Date(Ht[0].date).getTime();return Ut-Ft}):G==="미팅일확정"?ct.sort((Et,_t)=>{const dt=o.filter(Nt=>{const Ot=new Date(Nt.date);return Ot.setHours(0,0,0,0),Nt.customerId===Et.id&&Ot>L}),Ht=o.filter(Nt=>{const Ot=new Date(Nt.date);return Ot.setHours(0,0,0,0),Nt.customerId===_t.id&&Ot>L});if(dt.length===0)return 1;if(Ht.length===0)return-1;const Ut=dt.sort((Nt,Ot)=>new Date(Nt.date)-new Date(Ot.date))[0],Ft=Ht.sort((Nt,Ot)=>new Date(Nt.date)-new Date(Ot.date))[0];return new Date(Ut.date)-new Date(Ft.date)}):G==="오늘연락"?ct.sort((Et,_t)=>{const dt=i.filter(Nt=>Nt.customerId===Et.id&&new Date(Nt.date).toDateString()===L.toDateString()),Ht=i.filter(Nt=>Nt.customerId===_t.id&&new Date(Nt.date).toDateString()===L.toDateString());if(dt.length===0)return 1;if(Ht.length===0)return-1;const Ut=dt.sort((Nt,Ot)=>new Date(Ot.date)-new Date(Nt.date))[0],Ft=Ht.sort((Nt,Ot)=>new Date(Ot.date)-new Date(Nt.date))[0];return new Date(Ft.date)-new Date(Ut.date)}):G==="어제연락"?ct.sort((Et,_t)=>{const dt=new Date(L);dt.setDate(dt.getDate()-1);const Ht=i.filter(Ot=>Ot.customerId===Et.id&&new Date(Ot.date).toDateString()===dt.toDateString()),Ut=i.filter(Ot=>Ot.customerId===_t.id&&new Date(Ot.date).toDateString()===dt.toDateString());if(Ht.length===0)return 1;if(Ut.length===0)return-1;const Ft=Ht.sort((Ot,_i)=>new Date(_i.date)-new Date(Ot.date))[0],Nt=Ut.sort((Ot,_i)=>new Date(_i.date)-new Date(Ot.date))[0];return new Date(Nt.date)-new Date(Ft.date)}):G==="연락할고객"&&ct.sort((Et,_t)=>{const dt=B(Et.id),Ht=B(_t.id);return dt?Ht?dt-Ht:-1:1}),ct})(),J=r.find(L=>L.id===y);return p.jsxs("div",{className:"app-container",children:[ht&&p.jsx("div",{className:"mobile-overlay",onClick:()=>ft(!1)}),p.jsx(VE,{activeFilter:G,onFilterChange:gt,customers:r,meetings:o,activities:i,isMobileOpen:ht,onMobileClose:()=>ft(!1)}),p.jsxs("div",{className:"main-content",children:[p.jsxs("header",{className:"main-header",children:[p.jsx("button",{className:"hamburger-btn",onClick:()=>ft(!0),children:"☰"}),p.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[p.jsx("h1",{children:"고객 목록"}),G!=="전체"&&p.jsxs("span",{style:{fontSize:"13px",color:"#7f8c8d"},children:["필터: ",G," - ",et(G)]})]}),p.jsxs("div",{className:"header-actions",children:[p.jsx("button",{onClick:()=>C(),className:"btn-primary",children:"+ 고객 추가"}),p.jsx("button",{onClick:lt,className:"btn-secondary",children:"백업"}),p.jsx("button",{onClick:()=>mt.current?.click(),className:"btn-secondary",children:"복원"}),p.jsx("input",{type:"file",ref:mt,onChange:w,style:{display:"none"},accept:".json"})]})]}),p.jsx("main",{className:"table-container",children:p.jsx(OE,{customers:P,onSelectCustomer:D,onEdit:C,onDelete:j,selectedCustomerId:y,activeFilter:G,activeProgressFilter:$,onProgressFilterChange:z,allCustomers:r,onFavoriteCustomer:A})})]}),p.jsx($E,{selectedCustomer:J,onClose:()=>v(null),onEditCustomer:C,onUpdateCustomer:N,onDeleteCustomer:j,activities:i,onSaveActivity:R,onDeleteActivity:xt,meetings:o,onSaveMeeting:nt,onDeleteMeeting:O,propertySelections:d,onSavePropertySelection:Q,onDeletePropertySelection:W}),p.jsx(PE,{isOpen:b,onClose:S,onSave:N,editData:V})]})}CE.createRoot(document.getElementById("root")).render(p.jsx(vt.StrictMode,{children:p.jsx(x2,{})}));
